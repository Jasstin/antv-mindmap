{"version":3,"file":"mxs-mindmap.es.js","sources":["../src/components/Mindmap/utils.ts","../src/components/Mindmap/variable.ts","../src/components/Mindmap/data/index.ts","../src/components/Mindmap/data/history.ts","../src/components/Mindmap/editInput.ts","../node_modules/mitt/dist/mitt.mjs","../src/components/Mindmap/mitt.ts","../src/components/Mindmap/tree/clipboard.ts","../src/components/Mindmap/tree/methods.ts","../src/components/Mindmap/menu.ts","../src/components/Mindmap/plugins.ts","../node_modules/color-name/index.js","../node_modules/is-arrayish/index.js","../node_modules/simple-swizzle/index.js","../node_modules/color-string/index.js","../node_modules/color-convert/conversions.js","../node_modules/color-convert/route.js","../node_modules/color-convert/index.js","../node_modules/color/index.js","../src/components/Mindmap/tree/registerNode.ts","../src/components/Mindmap/tree/registerBehavior.ts","../src/components/Mindmap/tree/tree.ts","../src/components/Mindmap/tree/hotkeys.ts","../plugin-vue:export-helper","../src/components/Mindmap/MindMap.vue"],"sourcesContent":["import G6 from \"@antv/g6\";\n\n/**\n * 文本超出显示……\n * **/\nexport const fittingString = (str: string, maxWidth: number, fontSize: number) => {\n  const ellipsis = '...';\n  const ellipsisLength = G6.Util.getTextSize(ellipsis, fontSize)[0];\n  let currentWidth = 0;\n  let res = str;\n  const pattern = new RegExp('[\\u4E00-\\u9FA5]+'); // distinguish the Chinese charactors and letters\n  str.split('').forEach((letter, i) => {\n    if (currentWidth > maxWidth - ellipsisLength) return;\n    if (pattern.test(letter)) {\n      // Chinese charactors\n      currentWidth += fontSize;\n    } else {\n      // get the width of single letter according to the fontSize\n      currentWidth += G6.Util.getLetterWidth(letter, fontSize);\n    }\n    if (currentWidth > maxWidth - ellipsisLength) {\n      res = `${str.substr(0, i)}${ellipsis}`;\n    }\n  });\n  return res;\n};\n/**\n * 文本超出换行\n * */\nexport const wrapString = (str: string, maxWidth: number, fontSize: number): { line: number, text: string, width: number } => {\n  let currentWidth = 0;\n  const pattern = new RegExp('[\\u4E00-\\u9FA5]+'); // distinguish the Chinese charactors and letters\n  const lineGroup = []\n  let firstIndex = 0\n  let rowWidth = 0\n  str = str.replace(/\\s/g, '')\n  str.split('').forEach((letter, i, array) => {\n    if (pattern.test(letter)) {\n      // Chinese charactors\n      currentWidth += fontSize;\n    } else {\n      // get the width of single letter according to the fontSize\n      currentWidth += G6.Util.getLetterWidth(letter, fontSize);\n    }\n    if (currentWidth > maxWidth) {\n      if (currentWidth > rowWidth) {\n        rowWidth = currentWidth\n      }\n      lineGroup.push(str.slice(firstIndex, i))\n      currentWidth = 0;\n      firstIndex = i\n    } else if (i === array.length - 1) {\n      if (currentWidth > rowWidth) {\n        rowWidth = currentWidth\n      }\n      lineGroup.push(str.slice(firstIndex, i + 1))\n    }\n  });\n  return { line: lineGroup.length, text: lineGroup.join('\\n'), width: Math.ceil(rowWidth) }\n};\nwindow.wrapString = wrapString\n","import { ref } from \"vue\";\nimport { TreeGraph } from \"@antv/g6\";\nimport { INode } from \"@antv/g6-core/lib/interface/item\";\n\nexport const themeColor = ref('rgb(19, 128, 255)')\nexport const changeThemeColor = (val: string) => themeColor.value = val\nexport const themeColor_sub = ref('rgb(245,245,245)')\nexport const changeSubThemeColor = (val: string) => themeColor_sub.value = val\nexport const themeColor_leaf = ref('transparent')\nexport const changeLeafThemeColor = (val: string) => themeColor_leaf.value = val\nexport const fontColor_root = ref('#ffffff') // 字体颜色\nexport const changeRootFontColor = (val: string) => fontColor_root.value = val\nexport const fontColor_sub = ref('#333') // 字体颜色\nexport const changeSubFontColor = (val: string) => fontColor_sub.value = val\nexport const fontColor_leaf = ref('#333') // 字体颜色\nexport const changeLeafFontColor = (val: string) => fontColor_leaf.value = val\nexport const branch = ref(2) // 线条宽度\nexport const changeBranch = (val: number) => branch.value = val\nexport const branchColor = ref('rgb(19, 128, 255)') // 线条颜色\nexport const changeBranchColor = (val: string) => branchColor.value = val\nexport const timetravel = ref(false) // 显示历史操作栈\nexport const changeTimetravel = (val: boolean) => timetravel.value = val\nexport const downloadBtn = ref(false)\nexport const changeDownloadBtn = (val: boolean) => downloadBtn.value = val\nexport const fitBtn = ref(false)\nexport const changeFitBtn = (val: boolean) => fitBtn.value = val\nexport const centerBtn = ref(false)\nexport const changeCenterBtn = (val: boolean) => centerBtn.value = val\nexport const scaleRatio = ref(1)\nexport const changeScaleRatio = (val: number) => scaleRatio.value = val\nexport const radius = 4\nexport const paddingH = 10\nexport const paddingV = 10\nexport const maxFontCount = 12 // 最多显示字个数\nexport const globalFontSize = [16, 14, 12] // 字体大小\nexport const nodeMenuList = ref([]) // 节点右键菜单列表\nexport const changeNodeMenuList = (val: []) => nodeMenuList.value = val\nexport const currentNode = ref<INode | null>(null) // 当前选中的节点\nexport const setCurrentNode = (val: INode) => currentNode.value = val\nexport const globalTree = ref<TreeGraph | null>(null) // 树实例\nexport const setGlobalTree = (val: TreeGraph) => globalTree.value = val\nexport const lineType = ref<string>('cubic-horizontal')\nexport const setLineType = (val: string) => lineType.value = val\nexport const isCurrentEdit = ref<boolean>(false)\nexport const setIsCurrentEdit = (val: boolean) => isCurrentEdit.value = val\nexport const placeholderText = '新建模型'\nexport const isDragging = ref<boolean>(false)\nexport const setIsDragging = (val: boolean) => isDragging.value = val\nexport const hotkeys = ref([]) // 节点右键菜单列表\nexport const changehotKeyList = (val: []) => hotkeys.value = val","import { InputData, NodeData } from \"../interface\";\nimport { fittingString, wrapString } from \"../utils\";\nimport { globalFontSize, maxFontCount, paddingH, paddingV, themeColor_sub, themeColor, themeColor_leaf, fontColor_sub, fontColor_leaf, fontColor_root, placeholderText } from \"../variable\";\nconst buildNodeStyle = (name, desc = \"\", content = \"\", depth) => {\n  const fontSize = globalFontSize[depth] || 12;\n  const size = fontSize * maxFontCount + paddingH * 2; // 节点最多显示12个字\n  const { text: wrapName, line: nameLine, width: nameWidth } = wrapString(name, size, fontSize); // 标题换行\n  const { text: wrapDesc, line: descLine, width: descWidth } = wrapString(desc, size, fontSize - 2); // 描述换行\n  const nameHeight = (fontSize + paddingV) * (nameLine) + paddingV; // 标题高度\n  const descHeight = (fontSize - 2 + paddingV) * (descLine) + paddingV; // 描述内容高度\n  const height = nameHeight + (desc ? descHeight : 0) // 节点高度\n  const FillColor = [themeColor.value, themeColor_sub.value, themeColor_leaf.value][depth] || themeColor_leaf.value\n  const FontColor = [fontColor_root.value, fontColor_sub.value, fontColor_leaf.value][depth] || fontColor_leaf.value\n  const obj = {\n    label: wrapName,\n    name: wrapName,\n    fullName: name,\n    fontSize,\n    desc: wrapDesc,\n    descFontSize: fontSize - 2,\n    descHeight,\n    content,\n    width: Math.max(nameWidth, descWidth) + paddingV * 2, //  标题宽度与描述宽度取最大值\n    height,\n    nameHeight,\n    FillColor,\n    FontColor,\n    type: ['dice-mind-map-root', 'dice-mind-map-sub'][depth] || 'dice-mind-map-leaf',\n  }\n  return obj\n}\nclass IMData {\n  data: NodeData | null = null\n  _data: NodeData | any[] = []\n  _selectNode: NodeData | null = null\n\n  private createMdataFromData(rawData: InputData | NodeData, id: string, parent: NodeData | null = null, isInit = false): NodeData {\n    const {\n      label,\n      name,\n      desc,\n      content,\n      children: rawChildren,\n      _children: _rawChildren,\n      collapse,\n      isSubView\n    } = rawData\n    const depth = parent ? parent.depth + 1 : 0\n    const data: NodeData = {\n      id,\n      depth,\n      desc,\n      content,\n      isSubView: isSubView || false,\n      collapse: collapse || false,\n      parentId: parent?.id ?? '0',\n      type: ['dice-mind-map-root', 'dice-mind-map-sub'][depth] || 'dice-mind-map-leaf',\n      isCurrentSelected: false,\n      isCurrentEdit: false,\n      children: [],\n      _children: [],\n      ...buildNodeStyle(name, desc, content, depth)\n    }\n    if (isInit) {\n      data.rawData = rawData\n    } else {\n      data.rawData = rawData?.rawData\n    }\n    if (rawChildren) {\n      rawChildren.filter(t => !t.destroyed).forEach((c, j) => {\n        data?.children?.push(this.createMdataFromData(c, `${id}-${j}`, data, isInit))\n      })\n    }\n    if (_rawChildren) {\n      _rawChildren.filter(t => !t.destroyed).forEach((c, j) => {\n        data?._children?.push(this.createMdataFromData(c, `${id}-${j}`, data, isInit))\n      })\n    }\n    if (collapse && data.children.length) {\n      data._children = [...data.children]\n      data.children = []\n    }\n    return data\n  }\n\n  init(d: InputData, isInit = false) {\n    console.log(d, isInit)\n    this.data = this.createMdataFromData(d, '0', null, isInit)\n    return this.data\n  }\n\n  find(id: string): NodeData | null { // 根据id找到数据\n    const array = id.split('-').map(n => ~~n)\n    let data = this.data\n    if (!data) return null\n    for (let i = 1; i < array.length; i++) {\n      const index = array[i]\n      const { children } = data as NodeData\n      if (index < children.length) {\n        data = children[index]\n      } else { // No data matching id\n        return null\n      }\n    }\n    return data?.id === id ? data : null\n  }\n\n  /**\n   * 展开或折叠(expand or collapse)\n   */\n  eoc(id: string, collapse: boolean): NodeData | null {\n    const d = this.find(id)\n    if (d) {\n      d.collapse = collapse;\n      [d._children, d.children] = [d.children, d._children]\n    }\n    return d\n  }\n\n  expand(id: string): NodeData | null {\n    return this.eoc(id, false)\n  }\n\n  collapse(id: string): NodeData | null {\n    return this.eoc(id, true)\n  }\n\n  /**\n   * 支持传入单节点、带有子级的节点\n   * */\n  add(id: string, rawData: string | InputData): NodeData | null {\n    const p = this.find(id)\n    if (p) {\n      if (p.collapse) {\n        this.expand(id)\n      }\n      if (!p.children) {\n        p.children = []\n      }\n      let name, desc, content, children, _children;\n      if (typeof rawData === 'string') {\n        name = rawData\n      } else {\n        name = rawData.name || rawData.label\n        desc = rawData.desc\n        content = rawData.content\n        children = rawData.children\n        _children = rawData._children\n      }\n      const depth = p ? p.depth + 1 : 0\n      name = name === '' ? placeholderText : name;\n      const data: NodeData = {\n        id: `${id}-${p.children.length}`,\n        depth,\n        desc,\n        content,\n        parentId: id,\n        collapse: false,\n        isSubView: false,\n        rawData: typeof rawData === 'string' ? {} : rawData.rawData ? rawData.rawData : rawData,\n        isCurrentSelected: false,\n        isCurrentEdit: false,\n        children: [],\n        _children: [],\n        ...buildNodeStyle(name, desc, content, depth)\n      }\n      if (children || _children) {\n        children.forEach((item, i) => {\n          data?.children?.push(this.createMdataFromData(item, `${data.id}-${i}`, data))\n        })\n        _children.forEach((item, i) => {\n          data?.children?.push(this.createMdataFromData(item, `${data.id}-${i}`, data))\n        })\n      }\n      p.children.push(data)\n      return data\n    }\n    return null\n  }\n\n  addSibling(id: string, rawData: string | InputData, before = false): NodeData | null {\n    const d = this.find(id)\n    if (d && d.parentId) {\n      const index = parseInt(id.split('-').pop() as string, 10)\n      const start = before ? index : index + 1\n      const depth = d ? d.depth : 1\n      let name, desc, content;\n      if (typeof rawData === 'string') {\n        name = rawData;\n      } else {\n        name = rawData.name\n        desc = rawData.desc\n        content = rawData.content\n      }\n      name = name === '' ? placeholderText : name;\n      const sibling: NodeData = {\n        id: `${d.parentId}-${start}`,\n        depth,\n        desc,\n        content,\n        collapse: false,\n        isSubView: false,\n        parentId: d.parentId,\n        rawData: typeof rawData === 'string' ? {} : rawData.rawData ? rawData.rawData : rawData,\n        isCurrentSelected: false,\n        isCurrentEdit: false,\n        children: [],\n        _children: [],\n        ...buildNodeStyle(name, desc, content, depth)\n      }\n      const parent: NodeData | null = this.find(d.parentId);\n      parent?.children.splice(start, 0, sibling)\n      parent?.children.forEach((item: NodeData, index: number) => item.id = `${parent.id}-${index}`)\n      return sibling\n    }\n    return null\n  }\n\n  addParent(id: string, rawData: string | InputData): NodeData | null {\n    const d = this.find(id)\n    if (d && d.parentId) {\n      const p = this.find(d.parentId)\n      const index = parseInt(id.split('-').pop() as string, 10)\n      const depth = d ? d.depth : 1\n      const fontSize = globalFontSize[depth] || 12;\n      const size = fontSize * maxFontCount + paddingH * 2; // 节点最多显示12个字\n      let name, desc, content;\n      const parentId = d.parentId\n      if (typeof rawData === 'string') {\n        name = rawData;\n      } else {\n        name = rawData.name\n        desc = rawData.desc\n        content = rawData.content\n      }\n      name = name === '' ? placeholderText : name;\n      const parent: NodeData = {\n        id,\n        depth,\n        desc,\n        content,\n        parentId,\n        collapse: false,\n        isSubView: false,\n        rawData: typeof rawData === 'string' ? {} : rawData.rawData ? rawData.rawData : rawData,\n        isCurrentSelected: false,\n        isCurrentEdit: false,\n        children: [],\n        _children: [],\n        ...buildNodeStyle(name, desc, content, depth)\n      }\n      p?.children.splice(index, 1, parent)\n      parent.children.push(this.createMdataFromData(d, id + '-0', parent))\n      return parent\n    }\n    return null\n  }\n\n  /**\n   * 删除节点及其所有子节点 支持逻辑删除与物理删除\n   * 逻辑删除： 在数据中，被打上destroyed的标识，会在下一次重置数据的时候删除 应用场景听：moveData 先逻辑删除再物理删除\n   * 物理删除： 本次操作就将数据删除掉\n   * */\n  removeItem(id: string, real = true) {\n    const d = this.find(id)\n    if (d) {\n      const p = this.find(d.parentId)\n      if (!p) return\n      p.children.forEach(d => {\n        if (d.id === id) {\n          d.destroyed = true\n        }\n      })\n    }\n    if (real) {\n      this.init(this.data)\n    }\n  }\n\n  removeOneItem(id: string) {\n    const d = this.find(id)\n    if (d) {\n      const p = this.find(d.parentId)\n      if (!p) return\n      p.children = p.children.filter(t => t.id !== id)\n      if (d.children) {\n        const _pI = id.split(p.id + '-')[1];\n        d.children.forEach((item, index) => {\n          p.children.splice(+_pI, 0, this.createMdataFromData(item, p.id + '-' + index, p))\n        })\n      }\n      p.children.forEach((t, i) => t.id = `${p.id}-${i}`)\n    }\n  }\n\n  onlyShowCurrent(id: string) {\n    const d = this.find(id)\n    if (d) {\n      if (d.collapse) {\n        this.expand(id)\n      }\n      this._data.push(this.data)\n      d.isSubView = true\n      this.data = this.createMdataFromData(d, '0')\n    }\n  }\n\n  update(id: string, data: string | { name?: string, desc?: string, isCurrentSelected?: boolean, isCurrentEdit?: boolean }) {\n    let d = this.find(id)\n    if (!d) return\n    let name, desc, isCurrentSelect, isCurrentEdit;\n    if (typeof data !== 'string') {\n      if (data.isCurrentSelected) {\n        this._selectNode && (this._selectNode.isCurrentSelected = false)\n        this._selectNode = d;\n      }\n      name = data?.name ?? d.fullName\n      desc = data?.desc ?? d.desc\n      isCurrentSelect = data?.isCurrentSelected ?? d.isCurrentSelected\n      isCurrentEdit = data?.isCurrentEdit ?? d.isCurrentEdit\n    } else {\n      name = data;\n    }\n    Object.assign(d, buildNodeStyle(name, desc, d.content, d.depth), { name, isCurrentSelected: isCurrentSelect, isCurrentEdit })\n  }\n\n  backParent() {\n    let _data = this._data.pop()\n    // Todo:合并最新的改动\n    this.data = _data\n  }\n\n  moveData(pid: string, id: string, index: number) {\n    let data = this.find(id);\n    const p = this.find(pid);\n    let isSibling = data.parentId === pid\n    if (!isSibling) {\n      this.removeItem(id, false);\n    }\n    if (p.children.length) {\n      let _data = [...p.children.filter(node => node.id != id)]\n      p.children = []\n      _data.splice(index, 0, data)\n      _data.forEach((item, index) => p.children.push(this.createMdataFromData(item, p.id + '-' + index, p)))\n    } else if (p._children.length) {\n      let _data = [...p._children.filter(node => node.id != id)]\n      p._children = []\n      _data.splice(index, 0, data)\n      _data.forEach((item, index) => p._children.push(this.createMdataFromData(item, p.id + '-' + index, p)))\n      this.expand(pid)\n    } else {\n      this.add(pid, data)\n    }\n    // 重新梳理id\n    this.init(this.data)\n  }\n}\n\nexport default new IMData()\n","import {NodeData} from \"../interface\";\n\nclass History {\n    data: NodeData[] | [] = []\n    index: number = 0\n\n    push(data: NodeData) {\n        (this.data as NodeData[]).push(data)\n        this.index = this.data.length - 1\n    }\n\n    goBack(n: number = 1) {\n        this.index--\n        if (this.index <= 0) this.index = 0\n        let data = this.data[this.index]\n        return data\n    }\n\n    forword(n: number = 1) {\n        this.index++\n        if (this.index >= this.data.length - 1) this.index = this.data.length - 1\n        let data = this.data[this.index]\n        return data\n    }\n}\n\nexport default new History()\n","import { fontColor_leaf, fontColor_root, fontColor_sub, maxFontCount, paddingH, paddingV, themeColor, themeColor_leaf, themeColor_sub, placeholderText } from \"./variable\";\n\nclass EditInput {\n  _input: HTMLInputElement | null = null\n  _fontSize: number = 0\n  _height: number = 0\n  _ratio: number = 1\n  _lineHeight = 12\n  _width = 0\n  _id: string\n\n  init(id: string) {\n    this._input = document.getElementById(id) as HTMLInputElement\n    this._id = id\n    this.bindEvent()\n  }\n\n  showInput(x: number, y: number, width: number, height: number, name: string, fontSize: number, type: string, radius: number, ratio: number) {\n    if (!this._input) {\n      this.init(this._id)\n      if (!this._input) return\n    };\n    let NodeInput = this._input;\n    this._fontSize = fontSize\n    this._height = height\n    this._ratio = ratio;\n    this._width = width + 4 * ratio;\n    this._lineHeight = fontSize + paddingV * ratio * 2;\n    NodeInput.style.display = 'block'\n    NodeInput.style.position = 'fixed';\n    NodeInput.style.top = y + 'px';\n    NodeInput.style.left = x + 'px';\n    NodeInput.style.width = width + 4 * ratio + 'px';\n    NodeInput.style.height = height + 4 * ratio + 'px';\n    NodeInput.style.border = `${2 * ratio}px solid`;\n    NodeInput.style.boxSizing = 'border-box';\n    NodeInput.innerText = placeholderText === name ? \"\" : name\n    NodeInput.style.fontSize = fontSize + 'px'\n    NodeInput.style.textAlign = 'left'\n    NodeInput.style.paddingTop = paddingV / 2 * ratio + 'px'\n    NodeInput.style.paddingLeft = paddingH * ratio + 'px'\n    NodeInput.style.lineHeight = (fontSize + paddingV) * ratio + 'px'\n    NodeInput.style.borderRadius = radius + 'px'\n    NodeInput.style.zIndex = '1'\n    NodeInput.style.overflow = 'hidden'\n    NodeInput.style.resize = 'none'\n    NodeInput.style.outline = 'none';\n    NodeInput.style.fontWeight = \"600\";\n    document.body.style['--placeholderText'] = placeholderText\n    if (name === placeholderText) {\n      NodeInput.classList.add(\"empty\")\n    }\n    if (name === '') {\n      NodeInput.style.width = '120px';\n    }\n    if (type === 'dice-mind-map-root') {\n      NodeInput.style.color = fontColor_root.value\n      NodeInput.style.background = themeColor.value\n      NodeInput.style.borderColor = themeColor.value;\n    } else if (type === 'dice-mind-map-sub') {\n      NodeInput.style.color = fontColor_sub.value\n      NodeInput.style.background = themeColor_sub.value\n      NodeInput.style.borderColor = themeColor_sub.value;\n    } else if (type === 'dice-mind-map-leaf') {\n      NodeInput.style.color = fontColor_leaf.value\n      NodeInput.style.background = themeColor_leaf.value\n      NodeInput.style.borderColor = themeColor.value;\n    }\n    let timer = setTimeout(() => {\n      NodeInput.focus()\n      clearTimeout(timer)\n    }, 100)\n  }\n\n  changeLength(ev: Event) {\n    let input = ev.target as HTMLInputElement\n    let row = input.innerText.split('\\n').sort((a, b) => b.length - a.length);\n    let lineWidth = row[0].replace(/[^\\x00-\\xff]/g, \"00\").length;\n    if (lineWidth > 30) lineWidth = 30;\n    let width = lineWidth * this._fontSize / 2 + paddingH * 2;\n    width = width + 4 * this._ratio;\n    input.style.width = `${Math.max(width, this._width)}px`\n    input.style.height = `${Math.max(input.scrollHeight, this._height + 5)}px`\n    if (input.innerText.length > 0) {\n      input.classList.remove(\"empty\")\n    } else {\n      input.classList.add(\"empty\")\n    }\n  }\n\n  bindEvent() {\n    if (!this._input) return\n    this._input.addEventListener('input', this.changeLength.bind(this))\n    this._input.addEventListener('blur', () => {\n      this.handleInputBlur(this._input.innerText)\n    })\n    this._input.addEventListener('keydown', (ev) => {\n      if (ev.key === 'Enter' && !ev.shiftKey) {\n        let input = ev.target as HTMLInputElement\n        this.handleInputBlur.call(this, input.innerText)\n      }\n    })\n  }\n\n  hideInput() {\n    this._input.style.display = 'none'\n  }\n\n  handleInputBlur(name: string) {\n    //    methods 将会重写，用来更新节点数据\n  }\n}\n\nexport default new EditInput()\n","export default function(n){return{all:n=n||new Map,on:function(t,e){var i=n.get(t);i?i.push(e):n.set(t,[e])},off:function(t,e){var i=n.get(t);i&&(e?i.splice(i.indexOf(e)>>>0,1):n.set(t,[]))},emit:function(t,e){var i=n.get(t);i&&i.slice().map(function(n){n(e)}),(i=n.get(\"*\"))&&i.slice().map(function(n){n(t,e)})}}}\n//# sourceMappingURL=mitt.mjs.map\n","import mitt from 'mitt'\n\nconst emitter = mitt()\nexport default emitter\n","import {ref} from \"vue\";\n\nlet dataArr = ref([])\n\nexport const pushData = (data) => {\n    dataArr.value.push(data)\n}\n\nexport const popData = () => {\n    return dataArr.value.pop()\n}\n","import IMData from '../data/index'\nimport { InputData, NodeData } from \"../interface\";\nimport { globalTree, radius, setIsCurrentEdit, themeColor } from \"../variable\";\nimport { TreeGraph } from \"@antv/g6\";\nimport History from \"../data/history\";\nimport EditInput from \"../editInput\";\nimport { INode } from \"@antv/g6-core/lib/interface/item\";\nimport emitter from '../mitt'\nimport { pushData, popData } from \"./clipboard\";\n\n/***\n * data 为History栈里面的历史数据\n */\nexport const rePaint = (stack = true) => {\n  let tree: TreeGraph | null = globalTree.value as TreeGraph\n  if (!IMData.data) return\n  tree?.data(IMData.data)\n  if (stack) {\n    History.push(IMData.data)\n  }\n  tree?.layout()\n}\nexport const addData = (id: string, rawData: string | InputData, editNow = true) => {\n  let data = IMData.add(id, rawData)\n  rePaint()\n  emitter.emit('onAdd', data)\n  if (editNow) {\n    if (data) edit(data.id)\n  }\n}\nexport const addParent = (id: string, rawData: string | InputData, editNow = true) => {\n  let data = IMData.addParent(id, rawData)\n  rePaint()\n  if (editNow) {\n    if (data) edit(data.id)\n  }\n}\nexport const addSibling = (id: string, rawData: string | InputData, editNow = true) => {\n  let data = IMData.addSibling(id, rawData)\n  rePaint()\n  if (editNow) {\n    if (data) edit(data.id)\n  }\n}\nexport const edit = (id: string) => {\n  const Tree = globalTree.value\n  const NodeData = Tree?.findById(id) as INode\n  if (!NodeData || !Tree) return\n  const { x: pointX, y: pointY } = NodeData._cfg?.bboxCache\n  const { name, type, fontSize, width, height } = NodeData._cfg?.model as NodeData\n  let ratio = Tree.getZoom()\n  let { x, y } = Tree.getClientByPoint(pointX, pointY)\n  setIsCurrentEdit(true)\n  update(id, { isCurrentEdit: true })\n  EditInput.showInput(x, y, width * ratio, height * ratio, name, fontSize * ratio, type, radius * ratio, ratio)\n  EditInput.handleInputBlur = (name: string) => {\n    console.log(name)\n    emitter.emit('onAfterEdit', name.replace(/\\s/g, ''));\n    let _name = name.replace(/\\s/g, '');\n    update(id, _name === '' ? NodeData.get('model').name : _name)\n    Tree.off('wheelzoom')\n    EditInput.hideInput()\n    let timer = setTimeout(() => {\n      setIsCurrentEdit(false);\n      update(id, { isCurrentEdit: false })\n      cancelAllSelect()\n      clearTimeout(timer)\n    }, 500)\n  }\n  Tree.on('wheelzoom', () => {\n    ratio = Tree.getZoom()\n    let { x, y } = Tree.getClientByPoint(pointX, pointY)\n    EditInput.showInput(x, y, width * ratio, height * ratio, name, fontSize * ratio, type, radius * ratio, ratio)\n  })\n}\nexport const update = (id: string, name: any) => {\n  if (typeof name === 'string') {\n    IMData.update(id, { name })\n  } else {\n    IMData.update(id, name)\n  }\n  selectNode(id, true)\n}\nexport const selectNode = (id: string, selected: boolean) => {\n  let tree: TreeGraph | null = globalTree.value as TreeGraph\n  if (IMData._selectNode && tree.findDataById(IMData._selectNode.id)) {\n    tree.setItemState(IMData._selectNode.id, 'selected', false)\n  }\n  IMData.update(id, { isCurrentSelected: selected })\n  if (selected) {\n    tree.setItemState(id, 'selected', true)\n    emitter.emit('onSelectedNode', findData(id))\n  }\n  rePaint()\n}\nexport const cancelAllSelect = () => {\n  let tree: TreeGraph | null = globalTree.value as TreeGraph\n  if (IMData._selectNode) {\n    const id = IMData._selectNode.id;\n    if (tree.findDataById(id)) {\n      tree.setItemState(id, 'selected', false)\n    }\n    IMData.update(id, { isCurrentSelected: false })\n  }\n  rePaint()\n}\nexport const getSelectedNodes = () => {\n  if (IMData._selectNode) {\n    return [IMData._selectNode]\n  } else {\n    return []\n  }\n}\nexport const deleteNode = (id: string) => {\n  IMData.removeItem(id)\n  rePaint()\n}\nexport const deleteOneNode = (id: string) => {\n  IMData.removeOneItem(id)\n  rePaint()\n}\nexport const collapse = (id: string) => {\n  IMData.collapse(id)\n  emitter.emit('onCollapse', findData(id))\n  rePaint()\n}\nexport const expand = (id: string) => {\n  IMData.expand(id)\n  emitter.emit('onExpand', findData(id))\n  rePaint()\n}\nexport const onlyShowCurrent = (id: string) => {\n  IMData.onlyShowCurrent(id)\n  rePaint()\n}\nexport const backParent = (id: string) => {\n  IMData.backParent(id)\n  rePaint()\n}\nexport const reDo = () => {\n  let data = History.forword();\n  if (data) {\n    IMData.data = { ...data }\n  }\n  rePaint(false)\n}\nexport const unDo = () => {\n  let data = History.goBack();\n  if (data) {\n    IMData.data = { ...data }\n  }\n  rePaint(false)\n}\n/***\n * 将childId节点从原节点删除，移动到新的parentId节点下面\n * */\nexport const moveToChild = (childId, parentId) => {\n  const data = IMData.find(childId);\n  IMData.add(parentId, data);\n  IMData.removeItem(childId);\n  rePaint()\n}\nexport const findData = (id) => {\n  return IMData.find(id);\n}\nexport const moveData = (parentId, nodeId, index) => {\n  IMData.moveData(parentId, nodeId, index);\n  rePaint()\n}\nexport const copy = (ids) => {\n  pushData(ids.map(id => findData(id)))\n}\nexport const cut = (ids) => {\n  pushData(ids.map(id => findData(id)))\n  ids.forEach(id => {\n    deleteNode(id)\n  })\n}\nexport const paste = (pid) => {\n  let data = popData()\n  if (data) {\n    data.forEach(item => {\n      addData(pid, item, false)\n    })\n    rePaint()\n  }\n}\nexport const createACopy = (id) => {\n  copy([id])\n  let d = findData(id)\n  paste(findData(id).parentId)\n  rePaint()\n}\n","import G6 from \"@antv/g6\";\nimport { centerBtn, fitBtn, downloadBtn, scaleRatio, nodeMenuList, setCurrentNode, placeholderText, hotkeys } from \"./variable\";\nimport {\n  addData,\n  addParent,\n  addSibling,\n  edit,\n  deleteNode,\n  collapse,\n  expand,\n  onlyShowCurrent,\n  backParent\n} from \"./tree/methods\"\nimport { NodeData } from \"./interface\";\n\nconst nodeMenuMap = {\n  add: {\n    name: 'add',\n    title: '添加子节点',\n    click: (node: NodeData) => {\n      addData(node?.id as string, placeholderText, true)\n    }\n  },\n  'add-parent': {\n    name: 'add-parent',\n    title: '添加父级节点',\n    click: (node: NodeData) => {\n      addParent(node?.id as string, placeholderText, true)\n    }\n  },\n  'add-sibling': {\n    name: 'add-sibling',\n    title: '添加兄弟节点',\n    click: (node: NodeData) => {\n      addSibling(node?.id as string, placeholderText, true)\n    }\n  },\n  'edit': {\n    name: 'edit',\n    title: '编辑当前节点',\n    click: (node: NodeData) => {\n      edit(node?.id as string)\n    }\n  },\n  'delete': {\n    name: 'delete',\n    title: '删除当前节点',\n    click: (node: NodeData) => {\n      deleteNode(node?.id as string)\n    }\n  },\n  'collapse': {\n    name: 'collapse',\n    title: '收起模型',\n    click: (node: NodeData) => {\n      collapse(node?.id as string)\n    }\n  },\n  'expand': {\n    name: 'expand',\n    title: '展开模型',\n    click: (node: NodeData) => {\n      expand(node?.id as string)\n    }\n  },\n  'only-show-current': {\n    name: 'only-show-current',\n    title: '进入当前节点',\n    click: (node: NodeData) => {\n      onlyShowCurrent(node?.id as string)\n    }\n  },\n  'back-parent': {\n    name: 'back-parent',\n    title: '返回上一级节点',\n    click: (node: NodeData) => {\n      backParent(node?.id as string)\n    }\n  }\n}\nconst nodeMenuClickList = {}\nconst contextMenu = () => new G6.Menu({\n  getContent(evt) {\n    if (!evt) return `div`;\n    const isCanvasTarget = evt.target && evt.target.isCanvas && evt.target.isCanvas()\n    return isCanvasTarget ? renderCanvasMenu(evt) : renderNodeMenu(evt);\n  },\n  handleMenuClick: (target, item, graph) => {\n    handleMenuClick(target, item, graph)\n  },\n  // offsetX and offsetY include the padding of the parent container\n  // 需要加上父级容器的 padding-left 16 与自身偏移量 10\n  offsetX: 10,\n  // 需要加上父级容器的 padding-top 24 、画布兄弟元素高度、与自身偏移量 10\n  offsetY: -100,\n  // the types of items that allow the menu show up\n  // 在哪些类型的元素上响应\n  itemTypes: ['node', 'canvas'],\n});\n\nfunction renderCanvasMenu(evt) {\n  return `<ul>\n               <li code=\"enlarge\">放大</li>\n               <li code=\"ensmall\">缩小</li>\n              ${fitBtn.value ? `<li code=\"fit\">缩放到合适大小</li>` : ``} \n               ${centerBtn.value ? `<li code=\"center\">缩放到屏幕中间</li>` : ``}\n               ${downloadBtn.value ? `<li code=\"download\">下载</li>` : ``}\n           </ul>`\n}\n\nfunction renderNodeMenu(evt: any) {\n  const nodeData = evt.item._cfg.model;\n  let menuList = nodeMenuList.value\n  let { depth, collapse, isSubView, children } = nodeData\n  let str = menuList.map(group => {\n    return `<ul class=\"group\">\n            ${group.map(item => {\n      if (typeof item === 'string') {\n        // 内部配置\n        let itemInfo = nodeMenuMap[item];\n        if (!itemInfo) return '';\n        if (depth === 0 && ['add-parent', 'add-sibling', 'delete'].indexOf(item) != -1) return ''\n        if (item === 'collapse' && (collapse || children.length === 0)) return ''\n        if (!collapse && item === 'expand') return ''\n        if (!isSubView && depth === 0 && item === 'only-show-current') return ''\n        if (isSubView && depth === 0 && item === 'only-show-current') itemInfo = nodeMenuMap['back-parent']\n        nodeMenuClickList[itemInfo.name] = itemInfo.click;\n        let hotkey = hotkeys.value.filter(item => item.name === itemInfo.name)[0]\n        if (hotkey) {\n          return `<li code=\"Node\" name=\"${itemInfo.name}\"><div code=\"Node\" name=\"${itemInfo.name}\">${itemInfo.title}</div><div class=\"small-tip\" code=\"Node\" name=\"${itemInfo.name}\">${hotkey.control ? `${hotkey.control}+` : ''}${hotkey.key}</div></li>`\n        } else {\n          return `<li code=\"Node\" name=\"${itemInfo.name}\">${itemInfo.title}</li>`\n        }\n      } else if (typeof item === 'object' && item.title) {\n        // 外部配置\n        nodeMenuClickList[item.name] = item.click;\n        return `<li code=\"Node\" name=\"${item.name}\">${item.title}</li>`\n      } else {\n        return ''\n      }\n    }).join('')}\n        </ul>`\n  }).join('')\n  return str\n}\n\nfunction handleMenuClick(target, item, graph) {\n  if (target.getAttribute('code') === 'enlarge') {\n    graph.zoom(1.2, { x: graph.getWidth() / 2, y: graph.getHeight() / 2 });\n  } else if (target.getAttribute('code') === 'ensmall') {\n    graph.zoom(0.8, { x: graph.getWidth() / 2, y: graph.getHeight() / 2 });\n  } else if (target.getAttribute('code') === 'fit') {\n    graph.layout(true)\n  } else if (target.getAttribute('code') === 'center') {\n    graph.fitCenter()\n    graph.zoomTo(scaleRatio.value, {\n      x: graph.getWidth() / 2,\n      y: graph.getHeight() / 2\n    })\n  } else if (target.getAttribute('code') === 'download') {\n    graph.downloadFullImage('mindmap_' + Date.now(), 'image/jpeg', {\n      backgroundColor: '#ddd',\n      padding: [30, 15, 15, 15],\n    });\n  } else if (target.getAttribute('code') === 'Node') {\n    let name = target.getAttribute('name');\n    if (name) {\n      nodeMenuClickList[name](item.get('model'), item, graph)\n    }\n  }\n}\n\nexport default contextMenu\n","import G6 from \"@antv/g6\";\nimport { timetravel, centerBtn, fitBtn, downloadBtn, scaleR, scaleRatio, themeColor } from \"./variable\";\n// 小地图\nexport const mindmap = () => new G6.Minimap({\n  size: [100, 100],\n  className: 'mindmap-miniGap',\n  viewportClassName: 'mindmap-miniGap-viewPort',\n  type: 'delegate',\n  delegateStyle: {\n    fill: themeColor.value,\n    stroke: themeColor.value\n  }\n})\n// 工具栏\nexport const toolbar = () => new G6.ToolBar({\n  className: 'mindmap-toolbar',\n  getContent: () => {\n    return `\n<div>\n${timetravel.value ? `\n<div class=\"mindmap-toolbar-top\">\n<ul class='mindmap-toolbar'>\n        <li class='mindmap-toolbar-list_item' code='undo' title=\"撤销\"><i class=\"icon-undo\"></i></li>\n        <li class='mindmap-toolbar-list_item' code='redo' title=\"恢复\"><i class=\"icon-redo\"></i></li>\n      </ul>\n</div>` : ''}\n<div class=\"mindmap-toolbar-bottom\">\n<ul class='mindmap-toolbar'>\n        ${downloadBtn.value ? `<li class='mindmap-toolbar-list_item' code='download' title=\"下载图片\"><i class=\"icon-download\"></i></li>` : ''}\n        ${centerBtn.value ? `<li class='mindmap-toolbar-list_item' code='center' title=\"缩放到屏幕中心\"><i class=\"icon-center\"></i>缩放到画布中心</li>` : ''}\n        ${fitBtn.value ? `<li class='mindmap-toolbar-list_item' code='fit' title=\"缩放到合适比例\"><i class=\"icon-fit\"></i></li>` : ''}\n      </ul>\n</div>\n</div>\n    `;\n  },\n  handleClick: (code, graph) => {\n    switch (code) {\n      case\n        'undo'\n        :\n        toolbar.undo();\n        break;\n      case\n        'redo'\n        :\n        toolbar.redo();\n        break;\n      case\n        'download'\n        :\n        graph.downloadFullImage('mindmap_' + Date.now(), 'image/jpeg', {\n          backgroundColor: '#ddd',\n          padding: [30, 15, 15, 15],\n        });\n        break;\n      case\n        'fit'\n        :\n        graph.layout(true);\n        break;\n      case\n        'center'\n        :\n        graph.fitCenter()\n        graph.zoomTo(scaleRatio.value, {\n          x: graph.getWidth() / 2,\n          y: graph.getHeight() / 2\n        })\n        break;\n    }\n  }\n});\n\n// tooltip\nexport const tooltip = {\n  type: 'tooltip',\n  formatText(model) {\n    return model.content || model.desc || model.fullName;\n  },\n  offset: 10,\n}\n","'use strict'\r\n\r\nmodule.exports = {\r\n\t\"aliceblue\": [240, 248, 255],\r\n\t\"antiquewhite\": [250, 235, 215],\r\n\t\"aqua\": [0, 255, 255],\r\n\t\"aquamarine\": [127, 255, 212],\r\n\t\"azure\": [240, 255, 255],\r\n\t\"beige\": [245, 245, 220],\r\n\t\"bisque\": [255, 228, 196],\r\n\t\"black\": [0, 0, 0],\r\n\t\"blanchedalmond\": [255, 235, 205],\r\n\t\"blue\": [0, 0, 255],\r\n\t\"blueviolet\": [138, 43, 226],\r\n\t\"brown\": [165, 42, 42],\r\n\t\"burlywood\": [222, 184, 135],\r\n\t\"cadetblue\": [95, 158, 160],\r\n\t\"chartreuse\": [127, 255, 0],\r\n\t\"chocolate\": [210, 105, 30],\r\n\t\"coral\": [255, 127, 80],\r\n\t\"cornflowerblue\": [100, 149, 237],\r\n\t\"cornsilk\": [255, 248, 220],\r\n\t\"crimson\": [220, 20, 60],\r\n\t\"cyan\": [0, 255, 255],\r\n\t\"darkblue\": [0, 0, 139],\r\n\t\"darkcyan\": [0, 139, 139],\r\n\t\"darkgoldenrod\": [184, 134, 11],\r\n\t\"darkgray\": [169, 169, 169],\r\n\t\"darkgreen\": [0, 100, 0],\r\n\t\"darkgrey\": [169, 169, 169],\r\n\t\"darkkhaki\": [189, 183, 107],\r\n\t\"darkmagenta\": [139, 0, 139],\r\n\t\"darkolivegreen\": [85, 107, 47],\r\n\t\"darkorange\": [255, 140, 0],\r\n\t\"darkorchid\": [153, 50, 204],\r\n\t\"darkred\": [139, 0, 0],\r\n\t\"darksalmon\": [233, 150, 122],\r\n\t\"darkseagreen\": [143, 188, 143],\r\n\t\"darkslateblue\": [72, 61, 139],\r\n\t\"darkslategray\": [47, 79, 79],\r\n\t\"darkslategrey\": [47, 79, 79],\r\n\t\"darkturquoise\": [0, 206, 209],\r\n\t\"darkviolet\": [148, 0, 211],\r\n\t\"deeppink\": [255, 20, 147],\r\n\t\"deepskyblue\": [0, 191, 255],\r\n\t\"dimgray\": [105, 105, 105],\r\n\t\"dimgrey\": [105, 105, 105],\r\n\t\"dodgerblue\": [30, 144, 255],\r\n\t\"firebrick\": [178, 34, 34],\r\n\t\"floralwhite\": [255, 250, 240],\r\n\t\"forestgreen\": [34, 139, 34],\r\n\t\"fuchsia\": [255, 0, 255],\r\n\t\"gainsboro\": [220, 220, 220],\r\n\t\"ghostwhite\": [248, 248, 255],\r\n\t\"gold\": [255, 215, 0],\r\n\t\"goldenrod\": [218, 165, 32],\r\n\t\"gray\": [128, 128, 128],\r\n\t\"green\": [0, 128, 0],\r\n\t\"greenyellow\": [173, 255, 47],\r\n\t\"grey\": [128, 128, 128],\r\n\t\"honeydew\": [240, 255, 240],\r\n\t\"hotpink\": [255, 105, 180],\r\n\t\"indianred\": [205, 92, 92],\r\n\t\"indigo\": [75, 0, 130],\r\n\t\"ivory\": [255, 255, 240],\r\n\t\"khaki\": [240, 230, 140],\r\n\t\"lavender\": [230, 230, 250],\r\n\t\"lavenderblush\": [255, 240, 245],\r\n\t\"lawngreen\": [124, 252, 0],\r\n\t\"lemonchiffon\": [255, 250, 205],\r\n\t\"lightblue\": [173, 216, 230],\r\n\t\"lightcoral\": [240, 128, 128],\r\n\t\"lightcyan\": [224, 255, 255],\r\n\t\"lightgoldenrodyellow\": [250, 250, 210],\r\n\t\"lightgray\": [211, 211, 211],\r\n\t\"lightgreen\": [144, 238, 144],\r\n\t\"lightgrey\": [211, 211, 211],\r\n\t\"lightpink\": [255, 182, 193],\r\n\t\"lightsalmon\": [255, 160, 122],\r\n\t\"lightseagreen\": [32, 178, 170],\r\n\t\"lightskyblue\": [135, 206, 250],\r\n\t\"lightslategray\": [119, 136, 153],\r\n\t\"lightslategrey\": [119, 136, 153],\r\n\t\"lightsteelblue\": [176, 196, 222],\r\n\t\"lightyellow\": [255, 255, 224],\r\n\t\"lime\": [0, 255, 0],\r\n\t\"limegreen\": [50, 205, 50],\r\n\t\"linen\": [250, 240, 230],\r\n\t\"magenta\": [255, 0, 255],\r\n\t\"maroon\": [128, 0, 0],\r\n\t\"mediumaquamarine\": [102, 205, 170],\r\n\t\"mediumblue\": [0, 0, 205],\r\n\t\"mediumorchid\": [186, 85, 211],\r\n\t\"mediumpurple\": [147, 112, 219],\r\n\t\"mediumseagreen\": [60, 179, 113],\r\n\t\"mediumslateblue\": [123, 104, 238],\r\n\t\"mediumspringgreen\": [0, 250, 154],\r\n\t\"mediumturquoise\": [72, 209, 204],\r\n\t\"mediumvioletred\": [199, 21, 133],\r\n\t\"midnightblue\": [25, 25, 112],\r\n\t\"mintcream\": [245, 255, 250],\r\n\t\"mistyrose\": [255, 228, 225],\r\n\t\"moccasin\": [255, 228, 181],\r\n\t\"navajowhite\": [255, 222, 173],\r\n\t\"navy\": [0, 0, 128],\r\n\t\"oldlace\": [253, 245, 230],\r\n\t\"olive\": [128, 128, 0],\r\n\t\"olivedrab\": [107, 142, 35],\r\n\t\"orange\": [255, 165, 0],\r\n\t\"orangered\": [255, 69, 0],\r\n\t\"orchid\": [218, 112, 214],\r\n\t\"palegoldenrod\": [238, 232, 170],\r\n\t\"palegreen\": [152, 251, 152],\r\n\t\"paleturquoise\": [175, 238, 238],\r\n\t\"palevioletred\": [219, 112, 147],\r\n\t\"papayawhip\": [255, 239, 213],\r\n\t\"peachpuff\": [255, 218, 185],\r\n\t\"peru\": [205, 133, 63],\r\n\t\"pink\": [255, 192, 203],\r\n\t\"plum\": [221, 160, 221],\r\n\t\"powderblue\": [176, 224, 230],\r\n\t\"purple\": [128, 0, 128],\r\n\t\"rebeccapurple\": [102, 51, 153],\r\n\t\"red\": [255, 0, 0],\r\n\t\"rosybrown\": [188, 143, 143],\r\n\t\"royalblue\": [65, 105, 225],\r\n\t\"saddlebrown\": [139, 69, 19],\r\n\t\"salmon\": [250, 128, 114],\r\n\t\"sandybrown\": [244, 164, 96],\r\n\t\"seagreen\": [46, 139, 87],\r\n\t\"seashell\": [255, 245, 238],\r\n\t\"sienna\": [160, 82, 45],\r\n\t\"silver\": [192, 192, 192],\r\n\t\"skyblue\": [135, 206, 235],\r\n\t\"slateblue\": [106, 90, 205],\r\n\t\"slategray\": [112, 128, 144],\r\n\t\"slategrey\": [112, 128, 144],\r\n\t\"snow\": [255, 250, 250],\r\n\t\"springgreen\": [0, 255, 127],\r\n\t\"steelblue\": [70, 130, 180],\r\n\t\"tan\": [210, 180, 140],\r\n\t\"teal\": [0, 128, 128],\r\n\t\"thistle\": [216, 191, 216],\r\n\t\"tomato\": [255, 99, 71],\r\n\t\"turquoise\": [64, 224, 208],\r\n\t\"violet\": [238, 130, 238],\r\n\t\"wheat\": [245, 222, 179],\r\n\t\"white\": [255, 255, 255],\r\n\t\"whitesmoke\": [245, 245, 245],\r\n\t\"yellow\": [255, 255, 0],\r\n\t\"yellowgreen\": [154, 205, 50]\r\n};\r\n","module.exports = function isArrayish(obj) {\n\tif (!obj || typeof obj === 'string') {\n\t\treturn false;\n\t}\n\n\treturn obj instanceof Array || Array.isArray(obj) ||\n\t\t(obj.length >= 0 && (obj.splice instanceof Function ||\n\t\t\t(Object.getOwnPropertyDescriptor(obj, (obj.length - 1)) && obj.constructor.name !== 'String')));\n};\n","'use strict';\n\nvar isArrayish = require('is-arrayish');\n\nvar concat = Array.prototype.concat;\nvar slice = Array.prototype.slice;\n\nvar swizzle = module.exports = function swizzle(args) {\n\tvar results = [];\n\n\tfor (var i = 0, len = args.length; i < len; i++) {\n\t\tvar arg = args[i];\n\n\t\tif (isArrayish(arg)) {\n\t\t\t// http://jsperf.com/javascript-array-concat-vs-push/98\n\t\t\tresults = concat.call(results, slice.call(arg));\n\t\t} else {\n\t\t\tresults.push(arg);\n\t\t}\n\t}\n\n\treturn results;\n};\n\nswizzle.wrap = function (fn) {\n\treturn function () {\n\t\treturn fn(swizzle(arguments));\n\t};\n};\n","/* MIT license */\nvar colorNames = require('color-name');\nvar swizzle = require('simple-swizzle');\nvar hasOwnProperty = Object.hasOwnProperty;\n\nvar reverseNames = Object.create(null);\n\n// create a list of reverse color names\nfor (var name in colorNames) {\n\tif (hasOwnProperty.call(colorNames, name)) {\n\t\treverseNames[colorNames[name]] = name;\n\t}\n}\n\nvar cs = module.exports = {\n\tto: {},\n\tget: {}\n};\n\ncs.get = function (string) {\n\tvar prefix = string.substring(0, 3).toLowerCase();\n\tvar val;\n\tvar model;\n\tswitch (prefix) {\n\t\tcase 'hsl':\n\t\t\tval = cs.get.hsl(string);\n\t\t\tmodel = 'hsl';\n\t\t\tbreak;\n\t\tcase 'hwb':\n\t\t\tval = cs.get.hwb(string);\n\t\t\tmodel = 'hwb';\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tval = cs.get.rgb(string);\n\t\t\tmodel = 'rgb';\n\t\t\tbreak;\n\t}\n\n\tif (!val) {\n\t\treturn null;\n\t}\n\n\treturn {model: model, value: val};\n};\n\ncs.get.rgb = function (string) {\n\tif (!string) {\n\t\treturn null;\n\t}\n\n\tvar abbr = /^#([a-f0-9]{3,4})$/i;\n\tvar hex = /^#([a-f0-9]{6})([a-f0-9]{2})?$/i;\n\tvar rgba = /^rgba?\\(\\s*([+-]?\\d+)(?=[\\s,])\\s*(?:,\\s*)?([+-]?\\d+)(?=[\\s,])\\s*(?:,\\s*)?([+-]?\\d+)\\s*(?:[,|\\/]\\s*([+-]?[\\d\\.]+)(%?)\\s*)?\\)$/;\n\tvar per = /^rgba?\\(\\s*([+-]?[\\d\\.]+)\\%\\s*,?\\s*([+-]?[\\d\\.]+)\\%\\s*,?\\s*([+-]?[\\d\\.]+)\\%\\s*(?:[,|\\/]\\s*([+-]?[\\d\\.]+)(%?)\\s*)?\\)$/;\n\tvar keyword = /^(\\w+)$/;\n\n\tvar rgb = [0, 0, 0, 1];\n\tvar match;\n\tvar i;\n\tvar hexAlpha;\n\n\tif (match = string.match(hex)) {\n\t\thexAlpha = match[2];\n\t\tmatch = match[1];\n\n\t\tfor (i = 0; i < 3; i++) {\n\t\t\t// https://jsperf.com/slice-vs-substr-vs-substring-methods-long-string/19\n\t\t\tvar i2 = i * 2;\n\t\t\trgb[i] = parseInt(match.slice(i2, i2 + 2), 16);\n\t\t}\n\n\t\tif (hexAlpha) {\n\t\t\trgb[3] = parseInt(hexAlpha, 16) / 255;\n\t\t}\n\t} else if (match = string.match(abbr)) {\n\t\tmatch = match[1];\n\t\thexAlpha = match[3];\n\n\t\tfor (i = 0; i < 3; i++) {\n\t\t\trgb[i] = parseInt(match[i] + match[i], 16);\n\t\t}\n\n\t\tif (hexAlpha) {\n\t\t\trgb[3] = parseInt(hexAlpha + hexAlpha, 16) / 255;\n\t\t}\n\t} else if (match = string.match(rgba)) {\n\t\tfor (i = 0; i < 3; i++) {\n\t\t\trgb[i] = parseInt(match[i + 1], 0);\n\t\t}\n\n\t\tif (match[4]) {\n\t\t\tif (match[5]) {\n\t\t\t\trgb[3] = parseFloat(match[4]) * 0.01;\n\t\t\t} else {\n\t\t\t\trgb[3] = parseFloat(match[4]);\n\t\t\t}\n\t\t}\n\t} else if (match = string.match(per)) {\n\t\tfor (i = 0; i < 3; i++) {\n\t\t\trgb[i] = Math.round(parseFloat(match[i + 1]) * 2.55);\n\t\t}\n\n\t\tif (match[4]) {\n\t\t\tif (match[5]) {\n\t\t\t\trgb[3] = parseFloat(match[4]) * 0.01;\n\t\t\t} else {\n\t\t\t\trgb[3] = parseFloat(match[4]);\n\t\t\t}\n\t\t}\n\t} else if (match = string.match(keyword)) {\n\t\tif (match[1] === 'transparent') {\n\t\t\treturn [0, 0, 0, 0];\n\t\t}\n\n\t\tif (!hasOwnProperty.call(colorNames, match[1])) {\n\t\t\treturn null;\n\t\t}\n\n\t\trgb = colorNames[match[1]];\n\t\trgb[3] = 1;\n\n\t\treturn rgb;\n\t} else {\n\t\treturn null;\n\t}\n\n\tfor (i = 0; i < 3; i++) {\n\t\trgb[i] = clamp(rgb[i], 0, 255);\n\t}\n\trgb[3] = clamp(rgb[3], 0, 1);\n\n\treturn rgb;\n};\n\ncs.get.hsl = function (string) {\n\tif (!string) {\n\t\treturn null;\n\t}\n\n\tvar hsl = /^hsla?\\(\\s*([+-]?(?:\\d{0,3}\\.)?\\d+)(?:deg)?\\s*,?\\s*([+-]?[\\d\\.]+)%\\s*,?\\s*([+-]?[\\d\\.]+)%\\s*(?:[,|\\/]\\s*([+-]?(?=\\.\\d|\\d)(?:0|[1-9]\\d*)?(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)\\s*)?\\)$/;\n\tvar match = string.match(hsl);\n\n\tif (match) {\n\t\tvar alpha = parseFloat(match[4]);\n\t\tvar h = ((parseFloat(match[1]) % 360) + 360) % 360;\n\t\tvar s = clamp(parseFloat(match[2]), 0, 100);\n\t\tvar l = clamp(parseFloat(match[3]), 0, 100);\n\t\tvar a = clamp(isNaN(alpha) ? 1 : alpha, 0, 1);\n\n\t\treturn [h, s, l, a];\n\t}\n\n\treturn null;\n};\n\ncs.get.hwb = function (string) {\n\tif (!string) {\n\t\treturn null;\n\t}\n\n\tvar hwb = /^hwb\\(\\s*([+-]?\\d{0,3}(?:\\.\\d+)?)(?:deg)?\\s*,\\s*([+-]?[\\d\\.]+)%\\s*,\\s*([+-]?[\\d\\.]+)%\\s*(?:,\\s*([+-]?(?=\\.\\d|\\d)(?:0|[1-9]\\d*)?(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)\\s*)?\\)$/;\n\tvar match = string.match(hwb);\n\n\tif (match) {\n\t\tvar alpha = parseFloat(match[4]);\n\t\tvar h = ((parseFloat(match[1]) % 360) + 360) % 360;\n\t\tvar w = clamp(parseFloat(match[2]), 0, 100);\n\t\tvar b = clamp(parseFloat(match[3]), 0, 100);\n\t\tvar a = clamp(isNaN(alpha) ? 1 : alpha, 0, 1);\n\t\treturn [h, w, b, a];\n\t}\n\n\treturn null;\n};\n\ncs.to.hex = function () {\n\tvar rgba = swizzle(arguments);\n\n\treturn (\n\t\t'#' +\n\t\thexDouble(rgba[0]) +\n\t\thexDouble(rgba[1]) +\n\t\thexDouble(rgba[2]) +\n\t\t(rgba[3] < 1\n\t\t\t? (hexDouble(Math.round(rgba[3] * 255)))\n\t\t\t: '')\n\t);\n};\n\ncs.to.rgb = function () {\n\tvar rgba = swizzle(arguments);\n\n\treturn rgba.length < 4 || rgba[3] === 1\n\t\t? 'rgb(' + Math.round(rgba[0]) + ', ' + Math.round(rgba[1]) + ', ' + Math.round(rgba[2]) + ')'\n\t\t: 'rgba(' + Math.round(rgba[0]) + ', ' + Math.round(rgba[1]) + ', ' + Math.round(rgba[2]) + ', ' + rgba[3] + ')';\n};\n\ncs.to.rgb.percent = function () {\n\tvar rgba = swizzle(arguments);\n\n\tvar r = Math.round(rgba[0] / 255 * 100);\n\tvar g = Math.round(rgba[1] / 255 * 100);\n\tvar b = Math.round(rgba[2] / 255 * 100);\n\n\treturn rgba.length < 4 || rgba[3] === 1\n\t\t? 'rgb(' + r + '%, ' + g + '%, ' + b + '%)'\n\t\t: 'rgba(' + r + '%, ' + g + '%, ' + b + '%, ' + rgba[3] + ')';\n};\n\ncs.to.hsl = function () {\n\tvar hsla = swizzle(arguments);\n\treturn hsla.length < 4 || hsla[3] === 1\n\t\t? 'hsl(' + hsla[0] + ', ' + hsla[1] + '%, ' + hsla[2] + '%)'\n\t\t: 'hsla(' + hsla[0] + ', ' + hsla[1] + '%, ' + hsla[2] + '%, ' + hsla[3] + ')';\n};\n\n// hwb is a bit different than rgb(a) & hsl(a) since there is no alpha specific syntax\n// (hwb have alpha optional & 1 is default value)\ncs.to.hwb = function () {\n\tvar hwba = swizzle(arguments);\n\n\tvar a = '';\n\tif (hwba.length >= 4 && hwba[3] !== 1) {\n\t\ta = ', ' + hwba[3];\n\t}\n\n\treturn 'hwb(' + hwba[0] + ', ' + hwba[1] + '%, ' + hwba[2] + '%' + a + ')';\n};\n\ncs.to.keyword = function (rgb) {\n\treturn reverseNames[rgb.slice(0, 3)];\n};\n\n// helpers\nfunction clamp(num, min, max) {\n\treturn Math.min(Math.max(min, num), max);\n}\n\nfunction hexDouble(num) {\n\tvar str = Math.round(num).toString(16).toUpperCase();\n\treturn (str.length < 2) ? '0' + str : str;\n}\n","/* MIT license */\n/* eslint-disable no-mixed-operators */\nconst cssKeywords = require('color-name');\n\n// NOTE: conversions should only return primitive values (i.e. arrays, or\n//       values that give correct `typeof` results).\n//       do not use box values types (i.e. Number(), String(), etc.)\n\nconst reverseKeywords = {};\nfor (const key of Object.keys(cssKeywords)) {\n\treverseKeywords[cssKeywords[key]] = key;\n}\n\nconst convert = {\n\trgb: {channels: 3, labels: 'rgb'},\n\thsl: {channels: 3, labels: 'hsl'},\n\thsv: {channels: 3, labels: 'hsv'},\n\thwb: {channels: 3, labels: 'hwb'},\n\tcmyk: {channels: 4, labels: 'cmyk'},\n\txyz: {channels: 3, labels: 'xyz'},\n\tlab: {channels: 3, labels: 'lab'},\n\tlch: {channels: 3, labels: 'lch'},\n\thex: {channels: 1, labels: ['hex']},\n\tkeyword: {channels: 1, labels: ['keyword']},\n\tansi16: {channels: 1, labels: ['ansi16']},\n\tansi256: {channels: 1, labels: ['ansi256']},\n\thcg: {channels: 3, labels: ['h', 'c', 'g']},\n\tapple: {channels: 3, labels: ['r16', 'g16', 'b16']},\n\tgray: {channels: 1, labels: ['gray']}\n};\n\nmodule.exports = convert;\n\n// Hide .channels and .labels properties\nfor (const model of Object.keys(convert)) {\n\tif (!('channels' in convert[model])) {\n\t\tthrow new Error('missing channels property: ' + model);\n\t}\n\n\tif (!('labels' in convert[model])) {\n\t\tthrow new Error('missing channel labels property: ' + model);\n\t}\n\n\tif (convert[model].labels.length !== convert[model].channels) {\n\t\tthrow new Error('channel and label counts mismatch: ' + model);\n\t}\n\n\tconst {channels, labels} = convert[model];\n\tdelete convert[model].channels;\n\tdelete convert[model].labels;\n\tObject.defineProperty(convert[model], 'channels', {value: channels});\n\tObject.defineProperty(convert[model], 'labels', {value: labels});\n}\n\nconvert.rgb.hsl = function (rgb) {\n\tconst r = rgb[0] / 255;\n\tconst g = rgb[1] / 255;\n\tconst b = rgb[2] / 255;\n\tconst min = Math.min(r, g, b);\n\tconst max = Math.max(r, g, b);\n\tconst delta = max - min;\n\tlet h;\n\tlet s;\n\n\tif (max === min) {\n\t\th = 0;\n\t} else if (r === max) {\n\t\th = (g - b) / delta;\n\t} else if (g === max) {\n\t\th = 2 + (b - r) / delta;\n\t} else if (b === max) {\n\t\th = 4 + (r - g) / delta;\n\t}\n\n\th = Math.min(h * 60, 360);\n\n\tif (h < 0) {\n\t\th += 360;\n\t}\n\n\tconst l = (min + max) / 2;\n\n\tif (max === min) {\n\t\ts = 0;\n\t} else if (l <= 0.5) {\n\t\ts = delta / (max + min);\n\t} else {\n\t\ts = delta / (2 - max - min);\n\t}\n\n\treturn [h, s * 100, l * 100];\n};\n\nconvert.rgb.hsv = function (rgb) {\n\tlet rdif;\n\tlet gdif;\n\tlet bdif;\n\tlet h;\n\tlet s;\n\n\tconst r = rgb[0] / 255;\n\tconst g = rgb[1] / 255;\n\tconst b = rgb[2] / 255;\n\tconst v = Math.max(r, g, b);\n\tconst diff = v - Math.min(r, g, b);\n\tconst diffc = function (c) {\n\t\treturn (v - c) / 6 / diff + 1 / 2;\n\t};\n\n\tif (diff === 0) {\n\t\th = 0;\n\t\ts = 0;\n\t} else {\n\t\ts = diff / v;\n\t\trdif = diffc(r);\n\t\tgdif = diffc(g);\n\t\tbdif = diffc(b);\n\n\t\tif (r === v) {\n\t\t\th = bdif - gdif;\n\t\t} else if (g === v) {\n\t\t\th = (1 / 3) + rdif - bdif;\n\t\t} else if (b === v) {\n\t\t\th = (2 / 3) + gdif - rdif;\n\t\t}\n\n\t\tif (h < 0) {\n\t\t\th += 1;\n\t\t} else if (h > 1) {\n\t\t\th -= 1;\n\t\t}\n\t}\n\n\treturn [\n\t\th * 360,\n\t\ts * 100,\n\t\tv * 100\n\t];\n};\n\nconvert.rgb.hwb = function (rgb) {\n\tconst r = rgb[0];\n\tconst g = rgb[1];\n\tlet b = rgb[2];\n\tconst h = convert.rgb.hsl(rgb)[0];\n\tconst w = 1 / 255 * Math.min(r, Math.min(g, b));\n\n\tb = 1 - 1 / 255 * Math.max(r, Math.max(g, b));\n\n\treturn [h, w * 100, b * 100];\n};\n\nconvert.rgb.cmyk = function (rgb) {\n\tconst r = rgb[0] / 255;\n\tconst g = rgb[1] / 255;\n\tconst b = rgb[2] / 255;\n\n\tconst k = Math.min(1 - r, 1 - g, 1 - b);\n\tconst c = (1 - r - k) / (1 - k) || 0;\n\tconst m = (1 - g - k) / (1 - k) || 0;\n\tconst y = (1 - b - k) / (1 - k) || 0;\n\n\treturn [c * 100, m * 100, y * 100, k * 100];\n};\n\nfunction comparativeDistance(x, y) {\n\t/*\n\t\tSee https://en.m.wikipedia.org/wiki/Euclidean_distance#Squared_Euclidean_distance\n\t*/\n\treturn (\n\t\t((x[0] - y[0]) ** 2) +\n\t\t((x[1] - y[1]) ** 2) +\n\t\t((x[2] - y[2]) ** 2)\n\t);\n}\n\nconvert.rgb.keyword = function (rgb) {\n\tconst reversed = reverseKeywords[rgb];\n\tif (reversed) {\n\t\treturn reversed;\n\t}\n\n\tlet currentClosestDistance = Infinity;\n\tlet currentClosestKeyword;\n\n\tfor (const keyword of Object.keys(cssKeywords)) {\n\t\tconst value = cssKeywords[keyword];\n\n\t\t// Compute comparative distance\n\t\tconst distance = comparativeDistance(rgb, value);\n\n\t\t// Check if its less, if so set as closest\n\t\tif (distance < currentClosestDistance) {\n\t\t\tcurrentClosestDistance = distance;\n\t\t\tcurrentClosestKeyword = keyword;\n\t\t}\n\t}\n\n\treturn currentClosestKeyword;\n};\n\nconvert.keyword.rgb = function (keyword) {\n\treturn cssKeywords[keyword];\n};\n\nconvert.rgb.xyz = function (rgb) {\n\tlet r = rgb[0] / 255;\n\tlet g = rgb[1] / 255;\n\tlet b = rgb[2] / 255;\n\n\t// Assume sRGB\n\tr = r > 0.04045 ? (((r + 0.055) / 1.055) ** 2.4) : (r / 12.92);\n\tg = g > 0.04045 ? (((g + 0.055) / 1.055) ** 2.4) : (g / 12.92);\n\tb = b > 0.04045 ? (((b + 0.055) / 1.055) ** 2.4) : (b / 12.92);\n\n\tconst x = (r * 0.4124) + (g * 0.3576) + (b * 0.1805);\n\tconst y = (r * 0.2126) + (g * 0.7152) + (b * 0.0722);\n\tconst z = (r * 0.0193) + (g * 0.1192) + (b * 0.9505);\n\n\treturn [x * 100, y * 100, z * 100];\n};\n\nconvert.rgb.lab = function (rgb) {\n\tconst xyz = convert.rgb.xyz(rgb);\n\tlet x = xyz[0];\n\tlet y = xyz[1];\n\tlet z = xyz[2];\n\n\tx /= 95.047;\n\ty /= 100;\n\tz /= 108.883;\n\n\tx = x > 0.008856 ? (x ** (1 / 3)) : (7.787 * x) + (16 / 116);\n\ty = y > 0.008856 ? (y ** (1 / 3)) : (7.787 * y) + (16 / 116);\n\tz = z > 0.008856 ? (z ** (1 / 3)) : (7.787 * z) + (16 / 116);\n\n\tconst l = (116 * y) - 16;\n\tconst a = 500 * (x - y);\n\tconst b = 200 * (y - z);\n\n\treturn [l, a, b];\n};\n\nconvert.hsl.rgb = function (hsl) {\n\tconst h = hsl[0] / 360;\n\tconst s = hsl[1] / 100;\n\tconst l = hsl[2] / 100;\n\tlet t2;\n\tlet t3;\n\tlet val;\n\n\tif (s === 0) {\n\t\tval = l * 255;\n\t\treturn [val, val, val];\n\t}\n\n\tif (l < 0.5) {\n\t\tt2 = l * (1 + s);\n\t} else {\n\t\tt2 = l + s - l * s;\n\t}\n\n\tconst t1 = 2 * l - t2;\n\n\tconst rgb = [0, 0, 0];\n\tfor (let i = 0; i < 3; i++) {\n\t\tt3 = h + 1 / 3 * -(i - 1);\n\t\tif (t3 < 0) {\n\t\t\tt3++;\n\t\t}\n\n\t\tif (t3 > 1) {\n\t\t\tt3--;\n\t\t}\n\n\t\tif (6 * t3 < 1) {\n\t\t\tval = t1 + (t2 - t1) * 6 * t3;\n\t\t} else if (2 * t3 < 1) {\n\t\t\tval = t2;\n\t\t} else if (3 * t3 < 2) {\n\t\t\tval = t1 + (t2 - t1) * (2 / 3 - t3) * 6;\n\t\t} else {\n\t\t\tval = t1;\n\t\t}\n\n\t\trgb[i] = val * 255;\n\t}\n\n\treturn rgb;\n};\n\nconvert.hsl.hsv = function (hsl) {\n\tconst h = hsl[0];\n\tlet s = hsl[1] / 100;\n\tlet l = hsl[2] / 100;\n\tlet smin = s;\n\tconst lmin = Math.max(l, 0.01);\n\n\tl *= 2;\n\ts *= (l <= 1) ? l : 2 - l;\n\tsmin *= lmin <= 1 ? lmin : 2 - lmin;\n\tconst v = (l + s) / 2;\n\tconst sv = l === 0 ? (2 * smin) / (lmin + smin) : (2 * s) / (l + s);\n\n\treturn [h, sv * 100, v * 100];\n};\n\nconvert.hsv.rgb = function (hsv) {\n\tconst h = hsv[0] / 60;\n\tconst s = hsv[1] / 100;\n\tlet v = hsv[2] / 100;\n\tconst hi = Math.floor(h) % 6;\n\n\tconst f = h - Math.floor(h);\n\tconst p = 255 * v * (1 - s);\n\tconst q = 255 * v * (1 - (s * f));\n\tconst t = 255 * v * (1 - (s * (1 - f)));\n\tv *= 255;\n\n\tswitch (hi) {\n\t\tcase 0:\n\t\t\treturn [v, t, p];\n\t\tcase 1:\n\t\t\treturn [q, v, p];\n\t\tcase 2:\n\t\t\treturn [p, v, t];\n\t\tcase 3:\n\t\t\treturn [p, q, v];\n\t\tcase 4:\n\t\t\treturn [t, p, v];\n\t\tcase 5:\n\t\t\treturn [v, p, q];\n\t}\n};\n\nconvert.hsv.hsl = function (hsv) {\n\tconst h = hsv[0];\n\tconst s = hsv[1] / 100;\n\tconst v = hsv[2] / 100;\n\tconst vmin = Math.max(v, 0.01);\n\tlet sl;\n\tlet l;\n\n\tl = (2 - s) * v;\n\tconst lmin = (2 - s) * vmin;\n\tsl = s * vmin;\n\tsl /= (lmin <= 1) ? lmin : 2 - lmin;\n\tsl = sl || 0;\n\tl /= 2;\n\n\treturn [h, sl * 100, l * 100];\n};\n\n// http://dev.w3.org/csswg/css-color/#hwb-to-rgb\nconvert.hwb.rgb = function (hwb) {\n\tconst h = hwb[0] / 360;\n\tlet wh = hwb[1] / 100;\n\tlet bl = hwb[2] / 100;\n\tconst ratio = wh + bl;\n\tlet f;\n\n\t// Wh + bl cant be > 1\n\tif (ratio > 1) {\n\t\twh /= ratio;\n\t\tbl /= ratio;\n\t}\n\n\tconst i = Math.floor(6 * h);\n\tconst v = 1 - bl;\n\tf = 6 * h - i;\n\n\tif ((i & 0x01) !== 0) {\n\t\tf = 1 - f;\n\t}\n\n\tconst n = wh + f * (v - wh); // Linear interpolation\n\n\tlet r;\n\tlet g;\n\tlet b;\n\t/* eslint-disable max-statements-per-line,no-multi-spaces */\n\tswitch (i) {\n\t\tdefault:\n\t\tcase 6:\n\t\tcase 0: r = v;  g = n;  b = wh; break;\n\t\tcase 1: r = n;  g = v;  b = wh; break;\n\t\tcase 2: r = wh; g = v;  b = n; break;\n\t\tcase 3: r = wh; g = n;  b = v; break;\n\t\tcase 4: r = n;  g = wh; b = v; break;\n\t\tcase 5: r = v;  g = wh; b = n; break;\n\t}\n\t/* eslint-enable max-statements-per-line,no-multi-spaces */\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.cmyk.rgb = function (cmyk) {\n\tconst c = cmyk[0] / 100;\n\tconst m = cmyk[1] / 100;\n\tconst y = cmyk[2] / 100;\n\tconst k = cmyk[3] / 100;\n\n\tconst r = 1 - Math.min(1, c * (1 - k) + k);\n\tconst g = 1 - Math.min(1, m * (1 - k) + k);\n\tconst b = 1 - Math.min(1, y * (1 - k) + k);\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.xyz.rgb = function (xyz) {\n\tconst x = xyz[0] / 100;\n\tconst y = xyz[1] / 100;\n\tconst z = xyz[2] / 100;\n\tlet r;\n\tlet g;\n\tlet b;\n\n\tr = (x * 3.2406) + (y * -1.5372) + (z * -0.4986);\n\tg = (x * -0.9689) + (y * 1.8758) + (z * 0.0415);\n\tb = (x * 0.0557) + (y * -0.2040) + (z * 1.0570);\n\n\t// Assume sRGB\n\tr = r > 0.0031308\n\t\t? ((1.055 * (r ** (1.0 / 2.4))) - 0.055)\n\t\t: r * 12.92;\n\n\tg = g > 0.0031308\n\t\t? ((1.055 * (g ** (1.0 / 2.4))) - 0.055)\n\t\t: g * 12.92;\n\n\tb = b > 0.0031308\n\t\t? ((1.055 * (b ** (1.0 / 2.4))) - 0.055)\n\t\t: b * 12.92;\n\n\tr = Math.min(Math.max(0, r), 1);\n\tg = Math.min(Math.max(0, g), 1);\n\tb = Math.min(Math.max(0, b), 1);\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.xyz.lab = function (xyz) {\n\tlet x = xyz[0];\n\tlet y = xyz[1];\n\tlet z = xyz[2];\n\n\tx /= 95.047;\n\ty /= 100;\n\tz /= 108.883;\n\n\tx = x > 0.008856 ? (x ** (1 / 3)) : (7.787 * x) + (16 / 116);\n\ty = y > 0.008856 ? (y ** (1 / 3)) : (7.787 * y) + (16 / 116);\n\tz = z > 0.008856 ? (z ** (1 / 3)) : (7.787 * z) + (16 / 116);\n\n\tconst l = (116 * y) - 16;\n\tconst a = 500 * (x - y);\n\tconst b = 200 * (y - z);\n\n\treturn [l, a, b];\n};\n\nconvert.lab.xyz = function (lab) {\n\tconst l = lab[0];\n\tconst a = lab[1];\n\tconst b = lab[2];\n\tlet x;\n\tlet y;\n\tlet z;\n\n\ty = (l + 16) / 116;\n\tx = a / 500 + y;\n\tz = y - b / 200;\n\n\tconst y2 = y ** 3;\n\tconst x2 = x ** 3;\n\tconst z2 = z ** 3;\n\ty = y2 > 0.008856 ? y2 : (y - 16 / 116) / 7.787;\n\tx = x2 > 0.008856 ? x2 : (x - 16 / 116) / 7.787;\n\tz = z2 > 0.008856 ? z2 : (z - 16 / 116) / 7.787;\n\n\tx *= 95.047;\n\ty *= 100;\n\tz *= 108.883;\n\n\treturn [x, y, z];\n};\n\nconvert.lab.lch = function (lab) {\n\tconst l = lab[0];\n\tconst a = lab[1];\n\tconst b = lab[2];\n\tlet h;\n\n\tconst hr = Math.atan2(b, a);\n\th = hr * 360 / 2 / Math.PI;\n\n\tif (h < 0) {\n\t\th += 360;\n\t}\n\n\tconst c = Math.sqrt(a * a + b * b);\n\n\treturn [l, c, h];\n};\n\nconvert.lch.lab = function (lch) {\n\tconst l = lch[0];\n\tconst c = lch[1];\n\tconst h = lch[2];\n\n\tconst hr = h / 360 * 2 * Math.PI;\n\tconst a = c * Math.cos(hr);\n\tconst b = c * Math.sin(hr);\n\n\treturn [l, a, b];\n};\n\nconvert.rgb.ansi16 = function (args, saturation = null) {\n\tconst [r, g, b] = args;\n\tlet value = saturation === null ? convert.rgb.hsv(args)[2] : saturation; // Hsv -> ansi16 optimization\n\n\tvalue = Math.round(value / 50);\n\n\tif (value === 0) {\n\t\treturn 30;\n\t}\n\n\tlet ansi = 30\n\t\t+ ((Math.round(b / 255) << 2)\n\t\t| (Math.round(g / 255) << 1)\n\t\t| Math.round(r / 255));\n\n\tif (value === 2) {\n\t\tansi += 60;\n\t}\n\n\treturn ansi;\n};\n\nconvert.hsv.ansi16 = function (args) {\n\t// Optimization here; we already know the value and don't need to get\n\t// it converted for us.\n\treturn convert.rgb.ansi16(convert.hsv.rgb(args), args[2]);\n};\n\nconvert.rgb.ansi256 = function (args) {\n\tconst r = args[0];\n\tconst g = args[1];\n\tconst b = args[2];\n\n\t// We use the extended greyscale palette here, with the exception of\n\t// black and white. normal palette only has 4 greyscale shades.\n\tif (r === g && g === b) {\n\t\tif (r < 8) {\n\t\t\treturn 16;\n\t\t}\n\n\t\tif (r > 248) {\n\t\t\treturn 231;\n\t\t}\n\n\t\treturn Math.round(((r - 8) / 247) * 24) + 232;\n\t}\n\n\tconst ansi = 16\n\t\t+ (36 * Math.round(r / 255 * 5))\n\t\t+ (6 * Math.round(g / 255 * 5))\n\t\t+ Math.round(b / 255 * 5);\n\n\treturn ansi;\n};\n\nconvert.ansi16.rgb = function (args) {\n\tlet color = args % 10;\n\n\t// Handle greyscale\n\tif (color === 0 || color === 7) {\n\t\tif (args > 50) {\n\t\t\tcolor += 3.5;\n\t\t}\n\n\t\tcolor = color / 10.5 * 255;\n\n\t\treturn [color, color, color];\n\t}\n\n\tconst mult = (~~(args > 50) + 1) * 0.5;\n\tconst r = ((color & 1) * mult) * 255;\n\tconst g = (((color >> 1) & 1) * mult) * 255;\n\tconst b = (((color >> 2) & 1) * mult) * 255;\n\n\treturn [r, g, b];\n};\n\nconvert.ansi256.rgb = function (args) {\n\t// Handle greyscale\n\tif (args >= 232) {\n\t\tconst c = (args - 232) * 10 + 8;\n\t\treturn [c, c, c];\n\t}\n\n\targs -= 16;\n\n\tlet rem;\n\tconst r = Math.floor(args / 36) / 5 * 255;\n\tconst g = Math.floor((rem = args % 36) / 6) / 5 * 255;\n\tconst b = (rem % 6) / 5 * 255;\n\n\treturn [r, g, b];\n};\n\nconvert.rgb.hex = function (args) {\n\tconst integer = ((Math.round(args[0]) & 0xFF) << 16)\n\t\t+ ((Math.round(args[1]) & 0xFF) << 8)\n\t\t+ (Math.round(args[2]) & 0xFF);\n\n\tconst string = integer.toString(16).toUpperCase();\n\treturn '000000'.substring(string.length) + string;\n};\n\nconvert.hex.rgb = function (args) {\n\tconst match = args.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);\n\tif (!match) {\n\t\treturn [0, 0, 0];\n\t}\n\n\tlet colorString = match[0];\n\n\tif (match[0].length === 3) {\n\t\tcolorString = colorString.split('').map(char => {\n\t\t\treturn char + char;\n\t\t}).join('');\n\t}\n\n\tconst integer = parseInt(colorString, 16);\n\tconst r = (integer >> 16) & 0xFF;\n\tconst g = (integer >> 8) & 0xFF;\n\tconst b = integer & 0xFF;\n\n\treturn [r, g, b];\n};\n\nconvert.rgb.hcg = function (rgb) {\n\tconst r = rgb[0] / 255;\n\tconst g = rgb[1] / 255;\n\tconst b = rgb[2] / 255;\n\tconst max = Math.max(Math.max(r, g), b);\n\tconst min = Math.min(Math.min(r, g), b);\n\tconst chroma = (max - min);\n\tlet grayscale;\n\tlet hue;\n\n\tif (chroma < 1) {\n\t\tgrayscale = min / (1 - chroma);\n\t} else {\n\t\tgrayscale = 0;\n\t}\n\n\tif (chroma <= 0) {\n\t\thue = 0;\n\t} else\n\tif (max === r) {\n\t\thue = ((g - b) / chroma) % 6;\n\t} else\n\tif (max === g) {\n\t\thue = 2 + (b - r) / chroma;\n\t} else {\n\t\thue = 4 + (r - g) / chroma;\n\t}\n\n\thue /= 6;\n\thue %= 1;\n\n\treturn [hue * 360, chroma * 100, grayscale * 100];\n};\n\nconvert.hsl.hcg = function (hsl) {\n\tconst s = hsl[1] / 100;\n\tconst l = hsl[2] / 100;\n\n\tconst c = l < 0.5 ? (2.0 * s * l) : (2.0 * s * (1.0 - l));\n\n\tlet f = 0;\n\tif (c < 1.0) {\n\t\tf = (l - 0.5 * c) / (1.0 - c);\n\t}\n\n\treturn [hsl[0], c * 100, f * 100];\n};\n\nconvert.hsv.hcg = function (hsv) {\n\tconst s = hsv[1] / 100;\n\tconst v = hsv[2] / 100;\n\n\tconst c = s * v;\n\tlet f = 0;\n\n\tif (c < 1.0) {\n\t\tf = (v - c) / (1 - c);\n\t}\n\n\treturn [hsv[0], c * 100, f * 100];\n};\n\nconvert.hcg.rgb = function (hcg) {\n\tconst h = hcg[0] / 360;\n\tconst c = hcg[1] / 100;\n\tconst g = hcg[2] / 100;\n\n\tif (c === 0.0) {\n\t\treturn [g * 255, g * 255, g * 255];\n\t}\n\n\tconst pure = [0, 0, 0];\n\tconst hi = (h % 1) * 6;\n\tconst v = hi % 1;\n\tconst w = 1 - v;\n\tlet mg = 0;\n\n\t/* eslint-disable max-statements-per-line */\n\tswitch (Math.floor(hi)) {\n\t\tcase 0:\n\t\t\tpure[0] = 1; pure[1] = v; pure[2] = 0; break;\n\t\tcase 1:\n\t\t\tpure[0] = w; pure[1] = 1; pure[2] = 0; break;\n\t\tcase 2:\n\t\t\tpure[0] = 0; pure[1] = 1; pure[2] = v; break;\n\t\tcase 3:\n\t\t\tpure[0] = 0; pure[1] = w; pure[2] = 1; break;\n\t\tcase 4:\n\t\t\tpure[0] = v; pure[1] = 0; pure[2] = 1; break;\n\t\tdefault:\n\t\t\tpure[0] = 1; pure[1] = 0; pure[2] = w;\n\t}\n\t/* eslint-enable max-statements-per-line */\n\n\tmg = (1.0 - c) * g;\n\n\treturn [\n\t\t(c * pure[0] + mg) * 255,\n\t\t(c * pure[1] + mg) * 255,\n\t\t(c * pure[2] + mg) * 255\n\t];\n};\n\nconvert.hcg.hsv = function (hcg) {\n\tconst c = hcg[1] / 100;\n\tconst g = hcg[2] / 100;\n\n\tconst v = c + g * (1.0 - c);\n\tlet f = 0;\n\n\tif (v > 0.0) {\n\t\tf = c / v;\n\t}\n\n\treturn [hcg[0], f * 100, v * 100];\n};\n\nconvert.hcg.hsl = function (hcg) {\n\tconst c = hcg[1] / 100;\n\tconst g = hcg[2] / 100;\n\n\tconst l = g * (1.0 - c) + 0.5 * c;\n\tlet s = 0;\n\n\tif (l > 0.0 && l < 0.5) {\n\t\ts = c / (2 * l);\n\t} else\n\tif (l >= 0.5 && l < 1.0) {\n\t\ts = c / (2 * (1 - l));\n\t}\n\n\treturn [hcg[0], s * 100, l * 100];\n};\n\nconvert.hcg.hwb = function (hcg) {\n\tconst c = hcg[1] / 100;\n\tconst g = hcg[2] / 100;\n\tconst v = c + g * (1.0 - c);\n\treturn [hcg[0], (v - c) * 100, (1 - v) * 100];\n};\n\nconvert.hwb.hcg = function (hwb) {\n\tconst w = hwb[1] / 100;\n\tconst b = hwb[2] / 100;\n\tconst v = 1 - b;\n\tconst c = v - w;\n\tlet g = 0;\n\n\tif (c < 1) {\n\t\tg = (v - c) / (1 - c);\n\t}\n\n\treturn [hwb[0], c * 100, g * 100];\n};\n\nconvert.apple.rgb = function (apple) {\n\treturn [(apple[0] / 65535) * 255, (apple[1] / 65535) * 255, (apple[2] / 65535) * 255];\n};\n\nconvert.rgb.apple = function (rgb) {\n\treturn [(rgb[0] / 255) * 65535, (rgb[1] / 255) * 65535, (rgb[2] / 255) * 65535];\n};\n\nconvert.gray.rgb = function (args) {\n\treturn [args[0] / 100 * 255, args[0] / 100 * 255, args[0] / 100 * 255];\n};\n\nconvert.gray.hsl = function (args) {\n\treturn [0, 0, args[0]];\n};\n\nconvert.gray.hsv = convert.gray.hsl;\n\nconvert.gray.hwb = function (gray) {\n\treturn [0, 100, gray[0]];\n};\n\nconvert.gray.cmyk = function (gray) {\n\treturn [0, 0, 0, gray[0]];\n};\n\nconvert.gray.lab = function (gray) {\n\treturn [gray[0], 0, 0];\n};\n\nconvert.gray.hex = function (gray) {\n\tconst val = Math.round(gray[0] / 100 * 255) & 0xFF;\n\tconst integer = (val << 16) + (val << 8) + val;\n\n\tconst string = integer.toString(16).toUpperCase();\n\treturn '000000'.substring(string.length) + string;\n};\n\nconvert.rgb.gray = function (rgb) {\n\tconst val = (rgb[0] + rgb[1] + rgb[2]) / 3;\n\treturn [val / 255 * 100];\n};\n","const conversions = require('./conversions');\n\n/*\n\tThis function routes a model to all other models.\n\n\tall functions that are routed have a property `.conversion` attached\n\tto the returned synthetic function. This property is an array\n\tof strings, each with the steps in between the 'from' and 'to'\n\tcolor models (inclusive).\n\n\tconversions that are not possible simply are not included.\n*/\n\nfunction buildGraph() {\n\tconst graph = {};\n\t// https://jsperf.com/object-keys-vs-for-in-with-closure/3\n\tconst models = Object.keys(conversions);\n\n\tfor (let len = models.length, i = 0; i < len; i++) {\n\t\tgraph[models[i]] = {\n\t\t\t// http://jsperf.com/1-vs-infinity\n\t\t\t// micro-opt, but this is simple.\n\t\t\tdistance: -1,\n\t\t\tparent: null\n\t\t};\n\t}\n\n\treturn graph;\n}\n\n// https://en.wikipedia.org/wiki/Breadth-first_search\nfunction deriveBFS(fromModel) {\n\tconst graph = buildGraph();\n\tconst queue = [fromModel]; // Unshift -> queue -> pop\n\n\tgraph[fromModel].distance = 0;\n\n\twhile (queue.length) {\n\t\tconst current = queue.pop();\n\t\tconst adjacents = Object.keys(conversions[current]);\n\n\t\tfor (let len = adjacents.length, i = 0; i < len; i++) {\n\t\t\tconst adjacent = adjacents[i];\n\t\t\tconst node = graph[adjacent];\n\n\t\t\tif (node.distance === -1) {\n\t\t\t\tnode.distance = graph[current].distance + 1;\n\t\t\t\tnode.parent = current;\n\t\t\t\tqueue.unshift(adjacent);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn graph;\n}\n\nfunction link(from, to) {\n\treturn function (args) {\n\t\treturn to(from(args));\n\t};\n}\n\nfunction wrapConversion(toModel, graph) {\n\tconst path = [graph[toModel].parent, toModel];\n\tlet fn = conversions[graph[toModel].parent][toModel];\n\n\tlet cur = graph[toModel].parent;\n\twhile (graph[cur].parent) {\n\t\tpath.unshift(graph[cur].parent);\n\t\tfn = link(conversions[graph[cur].parent][cur], fn);\n\t\tcur = graph[cur].parent;\n\t}\n\n\tfn.conversion = path;\n\treturn fn;\n}\n\nmodule.exports = function (fromModel) {\n\tconst graph = deriveBFS(fromModel);\n\tconst conversion = {};\n\n\tconst models = Object.keys(graph);\n\tfor (let len = models.length, i = 0; i < len; i++) {\n\t\tconst toModel = models[i];\n\t\tconst node = graph[toModel];\n\n\t\tif (node.parent === null) {\n\t\t\t// No possible conversion, or this node is the source model.\n\t\t\tcontinue;\n\t\t}\n\n\t\tconversion[toModel] = wrapConversion(toModel, graph);\n\t}\n\n\treturn conversion;\n};\n\n","const conversions = require('./conversions');\nconst route = require('./route');\n\nconst convert = {};\n\nconst models = Object.keys(conversions);\n\nfunction wrapRaw(fn) {\n\tconst wrappedFn = function (...args) {\n\t\tconst arg0 = args[0];\n\t\tif (arg0 === undefined || arg0 === null) {\n\t\t\treturn arg0;\n\t\t}\n\n\t\tif (arg0.length > 1) {\n\t\t\targs = arg0;\n\t\t}\n\n\t\treturn fn(args);\n\t};\n\n\t// Preserve .conversion property if there is one\n\tif ('conversion' in fn) {\n\t\twrappedFn.conversion = fn.conversion;\n\t}\n\n\treturn wrappedFn;\n}\n\nfunction wrapRounded(fn) {\n\tconst wrappedFn = function (...args) {\n\t\tconst arg0 = args[0];\n\n\t\tif (arg0 === undefined || arg0 === null) {\n\t\t\treturn arg0;\n\t\t}\n\n\t\tif (arg0.length > 1) {\n\t\t\targs = arg0;\n\t\t}\n\n\t\tconst result = fn(args);\n\n\t\t// We're assuming the result is an array here.\n\t\t// see notice in conversions.js; don't use box types\n\t\t// in conversion functions.\n\t\tif (typeof result === 'object') {\n\t\t\tfor (let len = result.length, i = 0; i < len; i++) {\n\t\t\t\tresult[i] = Math.round(result[i]);\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t};\n\n\t// Preserve .conversion property if there is one\n\tif ('conversion' in fn) {\n\t\twrappedFn.conversion = fn.conversion;\n\t}\n\n\treturn wrappedFn;\n}\n\nmodels.forEach(fromModel => {\n\tconvert[fromModel] = {};\n\n\tObject.defineProperty(convert[fromModel], 'channels', {value: conversions[fromModel].channels});\n\tObject.defineProperty(convert[fromModel], 'labels', {value: conversions[fromModel].labels});\n\n\tconst routes = route(fromModel);\n\tconst routeModels = Object.keys(routes);\n\n\trouteModels.forEach(toModel => {\n\t\tconst fn = routes[toModel];\n\n\t\tconvert[fromModel][toModel] = wrapRounded(fn);\n\t\tconvert[fromModel][toModel].raw = wrapRaw(fn);\n\t});\n});\n\nmodule.exports = convert;\n","const colorString = require('color-string');\nconst convert = require('color-convert');\n\nconst skippedModels = [\n\t// To be honest, I don't really feel like keyword belongs in color convert, but eh.\n\t'keyword',\n\n\t// Gray conflicts with some method names, and has its own method defined.\n\t'gray',\n\n\t// Shouldn't really be in color-convert either...\n\t'hex',\n];\n\nconst hashedModelKeys = {};\nfor (const model of Object.keys(convert)) {\n\thashedModelKeys[[...convert[model].labels].sort().join('')] = model;\n}\n\nconst limiters = {};\n\nfunction Color(object, model) {\n\tif (!(this instanceof Color)) {\n\t\treturn new Color(object, model);\n\t}\n\n\tif (model && model in skippedModels) {\n\t\tmodel = null;\n\t}\n\n\tif (model && !(model in convert)) {\n\t\tthrow new Error('Unknown model: ' + model);\n\t}\n\n\tlet i;\n\tlet channels;\n\n\tif (object == null) { // eslint-disable-line no-eq-null,eqeqeq\n\t\tthis.model = 'rgb';\n\t\tthis.color = [0, 0, 0];\n\t\tthis.valpha = 1;\n\t} else if (object instanceof Color) {\n\t\tthis.model = object.model;\n\t\tthis.color = [...object.color];\n\t\tthis.valpha = object.valpha;\n\t} else if (typeof object === 'string') {\n\t\tconst result = colorString.get(object);\n\t\tif (result === null) {\n\t\t\tthrow new Error('Unable to parse color from string: ' + object);\n\t\t}\n\n\t\tthis.model = result.model;\n\t\tchannels = convert[this.model].channels;\n\t\tthis.color = result.value.slice(0, channels);\n\t\tthis.valpha = typeof result.value[channels] === 'number' ? result.value[channels] : 1;\n\t} else if (object.length > 0) {\n\t\tthis.model = model || 'rgb';\n\t\tchannels = convert[this.model].channels;\n\t\tconst newArray = Array.prototype.slice.call(object, 0, channels);\n\t\tthis.color = zeroArray(newArray, channels);\n\t\tthis.valpha = typeof object[channels] === 'number' ? object[channels] : 1;\n\t} else if (typeof object === 'number') {\n\t\t// This is always RGB - can be converted later on.\n\t\tthis.model = 'rgb';\n\t\tthis.color = [\n\t\t\t(object >> 16) & 0xFF,\n\t\t\t(object >> 8) & 0xFF,\n\t\t\tobject & 0xFF,\n\t\t];\n\t\tthis.valpha = 1;\n\t} else {\n\t\tthis.valpha = 1;\n\n\t\tconst keys = Object.keys(object);\n\t\tif ('alpha' in object) {\n\t\t\tkeys.splice(keys.indexOf('alpha'), 1);\n\t\t\tthis.valpha = typeof object.alpha === 'number' ? object.alpha : 0;\n\t\t}\n\n\t\tconst hashedKeys = keys.sort().join('');\n\t\tif (!(hashedKeys in hashedModelKeys)) {\n\t\t\tthrow new Error('Unable to parse color from object: ' + JSON.stringify(object));\n\t\t}\n\n\t\tthis.model = hashedModelKeys[hashedKeys];\n\n\t\tconst {labels} = convert[this.model];\n\t\tconst color = [];\n\t\tfor (i = 0; i < labels.length; i++) {\n\t\t\tcolor.push(object[labels[i]]);\n\t\t}\n\n\t\tthis.color = zeroArray(color);\n\t}\n\n\t// Perform limitations (clamping, etc.)\n\tif (limiters[this.model]) {\n\t\tchannels = convert[this.model].channels;\n\t\tfor (i = 0; i < channels; i++) {\n\t\t\tconst limit = limiters[this.model][i];\n\t\t\tif (limit) {\n\t\t\t\tthis.color[i] = limit(this.color[i]);\n\t\t\t}\n\t\t}\n\t}\n\n\tthis.valpha = Math.max(0, Math.min(1, this.valpha));\n\n\tif (Object.freeze) {\n\t\tObject.freeze(this);\n\t}\n}\n\nColor.prototype = {\n\ttoString() {\n\t\treturn this.string();\n\t},\n\n\ttoJSON() {\n\t\treturn this[this.model]();\n\t},\n\n\tstring(places) {\n\t\tlet self = this.model in colorString.to ? this : this.rgb();\n\t\tself = self.round(typeof places === 'number' ? places : 1);\n\t\tconst args = self.valpha === 1 ? self.color : [...self.color, this.valpha];\n\t\treturn colorString.to[self.model](args);\n\t},\n\n\tpercentString(places) {\n\t\tconst self = this.rgb().round(typeof places === 'number' ? places : 1);\n\t\tconst args = self.valpha === 1 ? self.color : [...self.color, this.valpha];\n\t\treturn colorString.to.rgb.percent(args);\n\t},\n\n\tarray() {\n\t\treturn this.valpha === 1 ? [...this.color] : [...this.color, this.valpha];\n\t},\n\n\tobject() {\n\t\tconst result = {};\n\t\tconst {channels} = convert[this.model];\n\t\tconst {labels} = convert[this.model];\n\n\t\tfor (let i = 0; i < channels; i++) {\n\t\t\tresult[labels[i]] = this.color[i];\n\t\t}\n\n\t\tif (this.valpha !== 1) {\n\t\t\tresult.alpha = this.valpha;\n\t\t}\n\n\t\treturn result;\n\t},\n\n\tunitArray() {\n\t\tconst rgb = this.rgb().color;\n\t\trgb[0] /= 255;\n\t\trgb[1] /= 255;\n\t\trgb[2] /= 255;\n\n\t\tif (this.valpha !== 1) {\n\t\t\trgb.push(this.valpha);\n\t\t}\n\n\t\treturn rgb;\n\t},\n\n\tunitObject() {\n\t\tconst rgb = this.rgb().object();\n\t\trgb.r /= 255;\n\t\trgb.g /= 255;\n\t\trgb.b /= 255;\n\n\t\tif (this.valpha !== 1) {\n\t\t\trgb.alpha = this.valpha;\n\t\t}\n\n\t\treturn rgb;\n\t},\n\n\tround(places) {\n\t\tplaces = Math.max(places || 0, 0);\n\t\treturn new Color([...this.color.map(roundToPlace(places)), this.valpha], this.model);\n\t},\n\n\talpha(value) {\n\t\tif (value !== undefined) {\n\t\t\treturn new Color([...this.color, Math.max(0, Math.min(1, value))], this.model);\n\t\t}\n\n\t\treturn this.valpha;\n\t},\n\n\t// Rgb\n\tred: getset('rgb', 0, maxfn(255)),\n\tgreen: getset('rgb', 1, maxfn(255)),\n\tblue: getset('rgb', 2, maxfn(255)),\n\n\thue: getset(['hsl', 'hsv', 'hsl', 'hwb', 'hcg'], 0, value => ((value % 360) + 360) % 360),\n\n\tsaturationl: getset('hsl', 1, maxfn(100)),\n\tlightness: getset('hsl', 2, maxfn(100)),\n\n\tsaturationv: getset('hsv', 1, maxfn(100)),\n\tvalue: getset('hsv', 2, maxfn(100)),\n\n\tchroma: getset('hcg', 1, maxfn(100)),\n\tgray: getset('hcg', 2, maxfn(100)),\n\n\twhite: getset('hwb', 1, maxfn(100)),\n\twblack: getset('hwb', 2, maxfn(100)),\n\n\tcyan: getset('cmyk', 0, maxfn(100)),\n\tmagenta: getset('cmyk', 1, maxfn(100)),\n\tyellow: getset('cmyk', 2, maxfn(100)),\n\tblack: getset('cmyk', 3, maxfn(100)),\n\n\tx: getset('xyz', 0, maxfn(95.047)),\n\ty: getset('xyz', 1, maxfn(100)),\n\tz: getset('xyz', 2, maxfn(108.833)),\n\n\tl: getset('lab', 0, maxfn(100)),\n\ta: getset('lab', 1),\n\tb: getset('lab', 2),\n\n\tkeyword(value) {\n\t\tif (value !== undefined) {\n\t\t\treturn new Color(value);\n\t\t}\n\n\t\treturn convert[this.model].keyword(this.color);\n\t},\n\n\thex(value) {\n\t\tif (value !== undefined) {\n\t\t\treturn new Color(value);\n\t\t}\n\n\t\treturn colorString.to.hex(this.rgb().round().color);\n\t},\n\n\thexa(value) {\n\t\tif (value !== undefined) {\n\t\t\treturn new Color(value);\n\t\t}\n\n\t\tconst rgbArray = this.rgb().round().color;\n\n\t\tlet alphaHex = Math.round(this.valpha * 255).toString(16).toUpperCase();\n\t\tif (alphaHex.length === 1) {\n\t\t\talphaHex = '0' + alphaHex;\n\t\t}\n\n\t\treturn colorString.to.hex(rgbArray) + alphaHex;\n\t},\n\n\trgbNumber() {\n\t\tconst rgb = this.rgb().color;\n\t\treturn ((rgb[0] & 0xFF) << 16) | ((rgb[1] & 0xFF) << 8) | (rgb[2] & 0xFF);\n\t},\n\n\tluminosity() {\n\t\t// http://www.w3.org/TR/WCAG20/#relativeluminancedef\n\t\tconst rgb = this.rgb().color;\n\n\t\tconst lum = [];\n\t\tfor (const [i, element] of rgb.entries()) {\n\t\t\tconst chan = element / 255;\n\t\t\tlum[i] = (chan <= 0.04045) ? chan / 12.92 : ((chan + 0.055) / 1.055) ** 2.4;\n\t\t}\n\n\t\treturn 0.2126 * lum[0] + 0.7152 * lum[1] + 0.0722 * lum[2];\n\t},\n\n\tcontrast(color2) {\n\t\t// http://www.w3.org/TR/WCAG20/#contrast-ratiodef\n\t\tconst lum1 = this.luminosity();\n\t\tconst lum2 = color2.luminosity();\n\n\t\tif (lum1 > lum2) {\n\t\t\treturn (lum1 + 0.05) / (lum2 + 0.05);\n\t\t}\n\n\t\treturn (lum2 + 0.05) / (lum1 + 0.05);\n\t},\n\n\tlevel(color2) {\n\t\t// https://www.w3.org/TR/WCAG/#contrast-enhanced\n\t\tconst contrastRatio = this.contrast(color2);\n\t\tif (contrastRatio >= 7) {\n\t\t\treturn 'AAA';\n\t\t}\n\n\t\treturn (contrastRatio >= 4.5) ? 'AA' : '';\n\t},\n\n\tisDark() {\n\t\t// YIQ equation from http://24ways.org/2010/calculating-color-contrast\n\t\tconst rgb = this.rgb().color;\n\t\tconst yiq = (rgb[0] * 2126 + rgb[1] * 7152 + rgb[2] * 722) / 10000;\n\t\treturn yiq < 128;\n\t},\n\n\tisLight() {\n\t\treturn !this.isDark();\n\t},\n\n\tnegate() {\n\t\tconst rgb = this.rgb();\n\t\tfor (let i = 0; i < 3; i++) {\n\t\t\trgb.color[i] = 255 - rgb.color[i];\n\t\t}\n\n\t\treturn rgb;\n\t},\n\n\tlighten(ratio) {\n\t\tconst hsl = this.hsl();\n\t\thsl.color[2] += hsl.color[2] * ratio;\n\t\treturn hsl;\n\t},\n\n\tdarken(ratio) {\n\t\tconst hsl = this.hsl();\n\t\thsl.color[2] -= hsl.color[2] * ratio;\n\t\treturn hsl;\n\t},\n\n\tsaturate(ratio) {\n\t\tconst hsl = this.hsl();\n\t\thsl.color[1] += hsl.color[1] * ratio;\n\t\treturn hsl;\n\t},\n\n\tdesaturate(ratio) {\n\t\tconst hsl = this.hsl();\n\t\thsl.color[1] -= hsl.color[1] * ratio;\n\t\treturn hsl;\n\t},\n\n\twhiten(ratio) {\n\t\tconst hwb = this.hwb();\n\t\thwb.color[1] += hwb.color[1] * ratio;\n\t\treturn hwb;\n\t},\n\n\tblacken(ratio) {\n\t\tconst hwb = this.hwb();\n\t\thwb.color[2] += hwb.color[2] * ratio;\n\t\treturn hwb;\n\t},\n\n\tgrayscale() {\n\t\t// http://en.wikipedia.org/wiki/Grayscale#Converting_color_to_grayscale\n\t\tconst rgb = this.rgb().color;\n\t\tconst value = rgb[0] * 0.3 + rgb[1] * 0.59 + rgb[2] * 0.11;\n\t\treturn Color.rgb(value, value, value);\n\t},\n\n\tfade(ratio) {\n\t\treturn this.alpha(this.valpha - (this.valpha * ratio));\n\t},\n\n\topaquer(ratio) {\n\t\treturn this.alpha(this.valpha + (this.valpha * ratio));\n\t},\n\n\trotate(degrees) {\n\t\tconst hsl = this.hsl();\n\t\tlet hue = hsl.color[0];\n\t\thue = (hue + degrees) % 360;\n\t\thue = hue < 0 ? 360 + hue : hue;\n\t\thsl.color[0] = hue;\n\t\treturn hsl;\n\t},\n\n\tmix(mixinColor, weight) {\n\t\t// Ported from sass implementation in C\n\t\t// https://github.com/sass/libsass/blob/0e6b4a2850092356aa3ece07c6b249f0221caced/functions.cpp#L209\n\t\tif (!mixinColor || !mixinColor.rgb) {\n\t\t\tthrow new Error('Argument to \"mix\" was not a Color instance, but rather an instance of ' + typeof mixinColor);\n\t\t}\n\n\t\tconst color1 = mixinColor.rgb();\n\t\tconst color2 = this.rgb();\n\t\tconst p = weight === undefined ? 0.5 : weight;\n\n\t\tconst w = 2 * p - 1;\n\t\tconst a = color1.alpha() - color2.alpha();\n\n\t\tconst w1 = (((w * a === -1) ? w : (w + a) / (1 + w * a)) + 1) / 2;\n\t\tconst w2 = 1 - w1;\n\n\t\treturn Color.rgb(\n\t\t\tw1 * color1.red() + w2 * color2.red(),\n\t\t\tw1 * color1.green() + w2 * color2.green(),\n\t\t\tw1 * color1.blue() + w2 * color2.blue(),\n\t\t\tcolor1.alpha() * p + color2.alpha() * (1 - p));\n\t},\n};\n\n// Model conversion methods and static constructors\nfor (const model of Object.keys(convert)) {\n\tif (skippedModels.includes(model)) {\n\t\tcontinue;\n\t}\n\n\tconst {channels} = convert[model];\n\n\t// Conversion methods\n\tColor.prototype[model] = function (...args) {\n\t\tif (this.model === model) {\n\t\t\treturn new Color(this);\n\t\t}\n\n\t\tif (args.length > 0) {\n\t\t\treturn new Color(args, model);\n\t\t}\n\n\t\treturn new Color([...assertArray(convert[this.model][model].raw(this.color)), this.valpha], model);\n\t};\n\n\t// 'static' construction methods\n\tColor[model] = function (...args) {\n\t\tlet color = args[0];\n\t\tif (typeof color === 'number') {\n\t\t\tcolor = zeroArray(args, channels);\n\t\t}\n\n\t\treturn new Color(color, model);\n\t};\n}\n\nfunction roundTo(number, places) {\n\treturn Number(number.toFixed(places));\n}\n\nfunction roundToPlace(places) {\n\treturn function (number) {\n\t\treturn roundTo(number, places);\n\t};\n}\n\nfunction getset(model, channel, modifier) {\n\tmodel = Array.isArray(model) ? model : [model];\n\n\tfor (const m of model) {\n\t\t(limiters[m] || (limiters[m] = []))[channel] = modifier;\n\t}\n\n\tmodel = model[0];\n\n\treturn function (value) {\n\t\tlet result;\n\n\t\tif (value !== undefined) {\n\t\t\tif (modifier) {\n\t\t\t\tvalue = modifier(value);\n\t\t\t}\n\n\t\t\tresult = this[model]();\n\t\t\tresult.color[channel] = value;\n\t\t\treturn result;\n\t\t}\n\n\t\tresult = this[model]().color[channel];\n\t\tif (modifier) {\n\t\t\tresult = modifier(result);\n\t\t}\n\n\t\treturn result;\n\t};\n}\n\nfunction maxfn(max) {\n\treturn function (v) {\n\t\treturn Math.max(0, Math.min(max, v));\n\t};\n}\n\nfunction assertArray(value) {\n\treturn Array.isArray(value) ? value : [value];\n}\n\nfunction zeroArray(array, length) {\n\tfor (let i = 0; i < length; i++) {\n\t\tif (typeof array[i] !== 'number') {\n\t\t\tarray[i] = 0;\n\t\t}\n\t}\n\n\treturn array;\n}\n\nmodule.exports = Color;\n","import G6, { IGroup, IShape } from \"@antv/g6\";\nimport {\n  themeColor,\n  radius,\n  paddingH,\n  paddingV,\n  branch,\n  branchColor, globalTree, fontColor_root, isDragging, isCurrentEdit\n} from \"../variable\";\nimport Color from 'color';\n\nlet activeStrokeColor = Color(themeColor.value).fade(0.2).string();\n\nenum textBaseline {\n  top = \"top\"\n}\n\nconst {\n  Util\n} = G6;\n\nfunction drawAddBtn(group: IGroup, params?: { width?: number, height?: number, fillColor?: string, fontColor?: string, fontSize?: number }) {\n  if (!params) {\n    params = {}\n  }\n  params.fontSize = 16\n  params.fillColor = themeColor.value\n  params.fontColor = fontColor_root.value\n  const r = params.height / 4\n  const circleStyle = { x: params.width + r, y: params.height / 2, r, fill: params.fillColor, cursor: 'point' }\n  const textStyle = {\n    x: params.width + r - 5,\n    y: r - 1.5,\n    text: '+',\n    fill: params.fontColor,\n    fontSize: params.fontSize,\n    fontWeight: 600,\n    textBaseline: textBaseline.top,\n    cursor: 'point'\n  }\n  const container = group.addGroup({ name: 'add-btn', zIndex: 3, capture: true, action: 'add' })\n  container?.addShape('circle', { attrs: circleStyle, zIndex: 3, action: 'add' })\n  container?.addShape('text', { attrs: textStyle, zIndex: 3, action: 'add' })\n}\nfunction drawCollapseBtn(group: IGroup, params?: { width?: number, height?: number, fillColor?: string, fontColor?: string, fontSize?: number }) {\n  if (!params) {\n    params = {}\n  }\n  params.fontSize = 16\n  params.fillColor = themeColor.value\n  params.fontColor = fontColor_root.value\n  const r = params.height / 4\n  const circleStyle = { x: params.width + r, y: params.height / 2, r, fill: params.fillColor, cursor: 'point' }\n  const textStyle = {\n    x: params.width + r - 5,\n    y: r - 1.5,\n    text: '<',\n    fill: params.fontColor,\n    fontSize: params.fontSize,\n    fontWeight: 600,\n    textBaseline: textBaseline.top,\n    cursor: 'point'\n  }\n  const container = group.addGroup({ name: 'collapse-btn', zIndex: 3, capture: true, action: 'collapse', visible: false })\n  container?.addShape('circle', { attrs: circleStyle, zIndex: 3, action: 'collapse' })\n  container?.addShape('text', { attrs: textStyle, zIndex: 3, action: 'collapse' })\n}\n\nfunction drawExpandBtn(group: IGroup, params: { width?, height?, collapseNum }) {\n  const fontSize = 14\n  if (params.collapseNum === 0) return\n  if (params.collapseNum > 99) params.collapseNum = '...'\n  const widthHeight = Util.getTextSize(params.collapseNum + '', fontSize);\n  const r = widthHeight[0] / 2 + 4\n  const lineStyle = {\n    x: params.width + 1,\n    y: params.height / 2 - 1,\n    width: 15,\n    height: 2,\n    fill: themeColor.value,\n  }\n  const circleStyle = {\n    x: params.width + lineStyle.width + r + 3,\n    y: params.height / 2 - r / 2 + 3,\n    r,\n    fill: 'transparent',\n    stroke: themeColor.value,\n    lineWidth: 2,\n    cursor: 'pointer'\n  }\n  const textStyle = {\n    x: params.width + lineStyle.width + r - widthHeight[0] / 2 + 3,\n    y: params.collapseNum === '...' ? params.height / 2 - r / 2 - 8 : params.height / 2 - r / 2 - 4,\n    text: params.collapseNum,\n    fill: themeColor.value,\n    fontSize,\n    fontWeight: 600,\n    textBaseline: textBaseline.top,\n    cursor: 'pointer'\n  }\n  const container = group.addGroup({ name: 'expand-btn', visible: true, capture: true })\n  container?.addShape('rect', { attrs: lineStyle })\n  container?.addShape('circle', { attrs: circleStyle, action: 'expand' })\n  container?.addShape('text', { attrs: textStyle, action: 'expand' })\n}\n\nfunction getAttribute(cfg) {\n  const { width, height, _children, isCurrentSelected, nameHeight, fontSize, descFontSize, descHeight, FillColor, FontColor, style } = cfg\n  const withStyle = (obj) => Object.assign({}, obj, style)\n  const RectStyle = withStyle({\n    x: 0,\n    y: 0,\n    width,\n    height,\n    radius,\n    fill: FillColor,\n    cursor: 'pointer',\n    stroke: isCurrentSelected ? activeStrokeColor : 'transparent',\n    lineWidth: 2\n  })\n  const TextStyle = withStyle({\n    x: paddingV,\n    y: paddingH,\n    text: cfg?.label,\n    fill: FontColor,\n    fontSize: fontSize,\n    textBaseline: textBaseline.top,\n    cursor: 'pointer',\n    fontWeight: 600,\n    lineHeight: paddingV + fontSize\n  })\n  const DescWrapper = withStyle({\n    x: 0,\n    y: nameHeight,\n    width,\n    height: descHeight,\n    radius: [0, 0, radius, radius],\n    fill: \"rgba(255,255,255,0.3)\",\n    cursor: 'pointer',\n    stroke: 'transparent',\n    lineWidth: 2\n  })\n  const DescText = withStyle({\n    x: paddingV,\n    y: paddingV + nameHeight,\n    text: cfg?.desc,\n    fill: FontColor,\n    fontSize: descFontSize,\n    textBaseline: textBaseline.top,\n    cursor: 'pointer',\n    lineHeight: paddingV + descFontSize\n  })\n  return { RectStyle, TextStyle, DescWrapper, DescText }\n}\n\nfunction buildNode(cfg, group) {\n  const { RectStyle, TextStyle, DescWrapper, DescText } = getAttribute(cfg);\n  const { depth, collapse } = cfg\n  const container = group?.addShape('rect', { attrs: RectStyle, name: `wrapper`, zIndex: 0, draggable: depth > 0 }) as IShape\n  group?.addShape('text', { attrs: TextStyle, name: `title`, zIndex: 1, draggable: depth > 0 })\n  if (cfg.desc) {\n    group?.addShape('rect', { attrs: DescWrapper, name: `desc-wrapper`, zIndex: 0, draggable: depth > 0 })\n    group?.addShape('text', { attrs: DescText, name: `desc`, zIndex: 1, draggable: depth > 0 })\n  }\n  if (collapse) {\n    drawExpandBtn(group, { collapseNum: cfg._children?.length, width: RectStyle.width, height: RectStyle.height })\n  }\n  else if (cfg.isCurrentSelected && !isDragging.value && !cfg.isCurrentEdit) {\n    drawAddBtn(group, { width: RectStyle.width, height: RectStyle.height })\n  }\n  else if (cfg.children?.length) {\n    drawCollapseBtn(group, { width: RectStyle.width, height: RectStyle.height })\n  }\n  return container\n}\n\nfunction setState(name, state, node) {\n  const group = node.getContainer();\n  let wrapper = group.get('children').filter(t => t.get('name') === 'wrapper')[0]\n  let collapseBtn = group.get('children').filter(t => t.get('name') === 'collapse-btn')[0]\n  if (name === 'hover') {\n    let hoverColor = Color(themeColor.value).fade(0.5).string();\n    if (state) {\n      wrapper?.attr('stroke', hoverColor)\n    } else {\n      wrapper?.attr('stroke', node.get('model').isCurrentSelected ? activeStrokeColor : 'transparent')\n    }\n    collapseBtn?.set(\"visible\", state ? true : false)\n  } else if (name === 'selected') {\n    wrapper?.attr('stroke', state ? activeStrokeColor : 'transparent')\n  }\n}\n// 根节点\nG6.registerNode(\n  'dice-mind-map-root', {\n  draw(cfg, group): IShape {\n    const container = buildNode(cfg, group);\n    return container;\n  },\n  setState,\n  getAnchorPoints() {\n    return [\n      [0, 0.5],\n      [1, 0.5],\n    ];\n  },\n}\n);\nG6.registerNode(\n  'dice-mind-map-sub', {\n  drawShape: function drawShape(cfg, group) {\n    const container = buildNode(cfg, group);\n    return container;\n  },\n  setState,\n  getAnchorPoints() {\n    return [\n      [0, 0.5],\n      [1, 0.5],\n    ];\n  },\n}\n);\nG6.registerNode(\n  'dice-mind-map-leaf', {\n  draw(cfg, group) {\n    const container = buildNode(cfg, group);\n    return container;\n  },\n  getAnchorPoints() {\n    return [\n      [0, 0.5],\n      [1, 0.5],\n    ];\n  },\n  setState\n}\n);\nG6.registerEdge('hvh', {\n  draw(cfg, group) {\n    if (!cfg || !group) return\n    const startPoint = cfg.startPoint;\n    const endPoint = cfg.endPoint;\n    let dist = endPoint.y < startPoint.y ? 10 : -10;\n    if (endPoint.y === startPoint.y) {\n      dist = 0;\n    }\n    const shape = group.addShape('path', {\n      attrs: {\n        cursor: 'pointer',\n        stroke: branchColor.value,\n        lineWidth: branch.value,\n        opacity: cfg.style.opacity == null ? 1 : cfg.style.opacity,\n        path: [\n          ['M', startPoint.x, startPoint.y],\n          ['L', endPoint.x / 3 + (2 / 3) * (startPoint.x), startPoint.y], // 三分之一处\n          ['L', endPoint.x / 3 + (2 / 3) * (startPoint.x), startPoint.y + (endPoint.y - startPoint.y) + dist],\n          ['Q', endPoint.x / 3 + (2 / 3) * (startPoint.x), startPoint.y + (endPoint.y - startPoint.y), endPoint.x / 3 + (2 / 3) * (startPoint.x) + 10, endPoint.y], // 三分之二处\n          ['L', endPoint.x, endPoint.y],\n        ],\n      },\n      // must be assigned in G6 3.3 and later versions. it can be any value you want\n      name: 'path-shape',\n      zIndex: 0,\n    });\n    return shape;\n  },\n});\n","import G6 from \"@antv/g6\";\nimport { cancelAllSelect, edit, expand, findData, moveData, moveToChild, selectNode, getSelectedNodes, collapse, addData } from \"./methods\";\nimport {\n  branch,\n  branchColor,\n  globalFontSize,\n  globalTree,\n  maxFontCount,\n  paddingH,\n  radius,\n  themeColor,\n  lineType, isCurrentEdit,\n  placeholderText,\n  isDragging,\n  setIsDragging,\n  hotkeys\n} from \"../variable\";\nimport emitter from \"../mitt\";\nlet leaveEdgeTimer;\nG6.registerBehavior('edit-mindmap', {\n  selectNodeId: null,\n  dragNodeId: null,\n  nodePosition: {},\n  dragStatus: '',\n  upClientInfo: [],\n  getEvents() {\n    return {\n      'node:click': 'clickNode',\n      'node:dblclick': 'editNode',\n      'node:mouseover': 'hoverNode',\n      'node:mouseleave': 'clearHoverStatus',\n      'node:dragstart': 'dragStart',\n      'node:contextmenu': 'selectNode',\n      'keydown': 'keyDown',\n      'canvas:click': 'clickCanvas',\n      \"edge:mouseenter\": 'hoverEdge',\n      \"edge:mouseleave\": 'mouseLeaveEdge',\n    };\n  },\n  clickCanvas(evt) {\n    cancelAllSelect()\n  },\n  hoverEdge(evt) {\n    const edge = evt.item;\n    const tree = evt.currentTarget;\n    const node = edge.getSource();\n    clearTimeout(leaveEdgeTimer);\n    console.log('hover')\n    tree.setItemState(node, 'hover', true)\n    node.toFront()\n    tree.paint();\n  },\n  mouseLeaveEdge(evt) {\n    leaveEdgeTimer = setTimeout(() => {\n      let { currentTarget: tree, item: edge } = evt\n      tree.setItemState(edge.getSource(), 'hover', false);\n      tree.layout()\n      clearTimeout(leaveEdgeTimer)\n    }, 800);\n  },\n  clickNode(evt) {\n    const tree = evt.currentTarget;\n    const model = evt.item.get('model');\n    const name = evt.target.get('action');\n    if (name === 'expand') {\n      expand(model.id)\n    } else if (name === 'collapse') {\n      collapse(model.id)\n    } else if (name === 'add') {\n      addData(model?.id as string, placeholderText, true)\n    } else if (model.isCurrentSelected) {\n      edit(model.id)\n    } else {\n      selectNode(model.id, !model.isCurrentSelected)\n    }\n    tree.findById(model.id).toFront();\n  },\n  selectNode(evt) {\n    const model = evt.item.get('model');\n    selectNode(model.id, !model.isCurrentSelected)\n  },\n  editNode(evt) {\n    const item = evt.item;\n    const model = item.get('model');\n    edit(model.id)\n  },\n  hoverNode(evt) {\n    const { currentTarget: tree, item: node } = evt\n    if (isDragging.value) return\n    tree.setItemState(node, 'hover', true)\n    node.toFront()\n    tree.paint();\n  },\n  clearHoverStatus(evt) {\n    let { currentTarget: tree, item: node } = evt\n    tree.setItemState(node, 'hover', false);\n    tree.layout()\n  },\n  dragStart(evt) {\n    // 拖拽的节点及其所有子节点设置drag state 为true\n    const { currentTarget: tree, item: node, clientX, clientY } = evt\n    const id = node.get('model').id;\n    setIsDragging(true)\n    this.dragNodeId = id\n    const _dragnode = tree.findById(this.dragNodeId)\n    document.documentElement.style.cursor = 'grabbing'\n    tree.getNodes().forEach(node => {\n      const nodeId = node.get('id');\n      const { x: pointX, y: pointY, width, height } = node.getBBox()\n      let { x: clientX, y: clientY } = tree.getClientByPoint(pointX, pointY)\n      let model = node.get('model')\n      const ratio = tree.getZoom()\n      // 记录节点位置\n      this.nodePosition[nodeId] = {\n        clientX,\n        clientY,\n        width: width * ratio,\n        height: height * ratio,\n        depth: model.depth,\n        parentId: model.parentId,\n        sameLevel: model.depth === _dragnode.get('model').depth\n      }\n      // 修改拖拽节点及其所有子节点的样式\n      if (nodeId.indexOf(this.dragNodeId) === 0) {\n        tree.updateItem(node, {\n          // 节点的样式\n          style: {\n            opacity: 0.2\n          },\n        });\n        node.get('edges').forEach(edge => {\n          tree.updateItem(edge, {\n            // 节点的样式\n            style: {\n              opacity: 0.2\n            },\n          });\n        })\n      }\n    })\n    cancelAllSelect()\n    this.showDragDiv(clientX, clientY)\n    let ratio = tree.getZoom()\n    window.onmousemove = (ev) => this.dragNode.call(this, {\n      tree,\n      clientX: ev.clientX,\n      clientY: ev.clientY,\n      width: 40 * ratio / 2,\n      height: 20 * ratio / 2\n    })\n    window.onmouseup = (ev) => this.dragEnd.call(this, {\n      tree,\n      clientX: ev.clientX,\n      clientY: ev.clientY\n    })\n  },\n  dragNode({ tree, clientX, clientY, width, height }) {\n    if (!isDragging.value) return\n    let nodePosition = this.nodePosition\n    let nodes = []\n    for (let nodeId in nodePosition) {\n      let node = nodePosition[nodeId]\n      /**\n       * 完全碰撞： 符合条件即为两个节点完全重合，拖拽节点将成为重合节点的子级\n       * */\n      let size = (globalFontSize[node.depth] || 12) * maxFontCount + paddingH * 4 + width * 4; // 最大横向距离=最大节点宽度+两个拖拽节点的宽度\n      let parentNode = findData(node.parentId)\n      let firstNode = node\n      let lastNode = node\n      if (parentNode.children.length) {\n        firstNode = nodePosition[parentNode.children[0].id];\n        lastNode = nodePosition[parentNode.children[parentNode.children.length - 1].id];\n      }\n      let coditionH_inner = (clientX - width > node.clientX - width * 2) && (clientX + width < node.clientX + node.width + width * 2);\n      let coditionV_inner = (clientY - height > node.clientY - height * 2) && (clientY + height < node.clientY + node.height + height * 2);\n      let coditionH_outer = (clientX - width > node.clientX - width * 2) && (clientX + width < node.clientX + size + width * 2);\n      let coditionV_outer = (clientY - height > firstNode.clientY - height * 2) && (clientY + height < lastNode.clientY + lastNode.height + height * 2); // 所有节点的纵向区域\n      if (coditionH_inner && coditionV_inner) {\n        // 拖拽节点与树节点有重合部分\n        nodes.push({\n          nodeId: nodeId,\n          inner: true,\n          depth: node.depth,\n          index: +nodeId.split('-').pop(),\n          sameLevel: true,\n          parentId: node.parentId\n        })\n      } else if (coditionH_outer && coditionV_inner) {\n        //     超出节点但在最大节点宽度范围内，高度在节点范围内\n        nodes.push({\n          nodeId: nodeId,\n          inner: false,\n          depth: node.depth,\n          index: +nodeId.split('-').pop(),\n          sameLevel: false,\n          parentId: node.parentId\n        })\n      } else if (coditionH_inner && coditionV_outer && (clientX - width > node.clientX) && nodeId != node.parentId) {\n        // 拖拽节点在允许选中范围\n        nodes.push({\n          nodeId: nodeId,\n          inner: false,\n          depth: node.depth,\n          index: +nodeId.split('-').pop(),\n          sameLevel: true,\n          parentId: node.parentId\n        })\n      }\n    }\n    if (nodes.length) {\n      // 有重合节点,可能有多个符合条件的节点\n      let node = nodes.filter(node => node.inner || (!node.inner && !node.sameLevel)) as any\n      if (node.length > 1) {\n        node.sort((a, b) => {\n          if (a.depth === b.depth) {\n            return a.index - b.index\n          } else {\n            return b.depth - a.depth\n          }\n        })\n      }\n      if (nodes.length > 1) {\n        nodes.sort((a, b) => {\n          if (a.depth === b.depth) {\n            return a.index - b.index\n          } else {\n            return b.depth - a.depth\n          }\n        })\n      }\n      node = node.length ? node[0] : nodes[0]\n      let nodeId = node.sameLevel ? node.parentId : node.nodeId;\n      if (nodeId.indexOf(this.dragNodeId) != -1) {\n        cancelAllSelect()\n        this.selectNodeId = null\n        this.showDragDiv(clientX, clientY, false, null)\n        this.dragStatus = ''\n        return; // 如果是拖拽节点或者拖拽子级，直接返回\n      }\n      selectNode(nodeId, true)\n      this.selectNodeId = nodeId\n      this.showDragDiv(clientX, clientY, true, nodeId)\n      this.dragStatus = 'child'\n      this.upClientInfo = [clientX, clientY]\n    } else {\n      cancelAllSelect()\n      this.selectNodeId = null\n      this.showDragDiv(clientX, clientY, false, null)\n      this.dragStatus = ''\n    }\n  },\n  dragEnd({ tree, clientX, clientY }) {\n    if (!isDragging.value) return\n    setIsDragging(false)\n    if (this.dragNodeId) {\n      tree.setItemState(this.dragNodeId, 'drag', false)\n    }\n    document.documentElement.style.cursor = 'default'\n    this.hideDragDiv()\n    if (this.dragStatus !== '' && this.selectNodeId) {\n      const parentNode = tree.findDataById(this.selectNodeId)\n      let index = 0;\n      for (let i = 0, len = parentNode.children.length; i < len; i++) {\n        let node = parentNode.children[i];\n        if (node.id === this.dragNodeId) continue;\n        if (this.nodePosition[node.id].clientY < this.upClientInfo[1]) {\n          index++\n        } else {\n          break;\n        }\n      }\n      emitter.emit('onDragEnd', [findData(this.dragNodeId), findData(this.selectNodeId), index]);\n      moveData(this.selectNodeId, this.dragNodeId, index)\n    }\n    //    还原\n    tree.getNodes().forEach(node => {\n      const nodeId = node.get('id');\n      // 修改拖拽节点及其所有子节点的样式\n      tree.updateItem(node, {\n        // 节点的样式\n        style: {\n          opacity: 1\n        },\n      });\n      node.get('edges').forEach(edge => {\n        tree.updateItem(edge, {\n          // 节点的样式\n          style: {\n            opacity: 1\n          },\n        });\n      })\n    })\n    cancelAllSelect()\n    this.selectNodeId = null\n    this.dragStatus = ''\n    this.nodePosition = {}\n    window.onmousemove = null\n    window.onmouseup = null\n  },\n  showDragDiv(clientX, clientY, showLine, parentId) {\n    const tree = globalTree.value\n    const { x, y } = tree.getPointByClient(clientX, clientY);\n    const model = {\n      id: 'moveNode',\n      label: '',\n      x,\n      y,\n      type: 'rect',\n      zIndex: 3,\n      style: {\n        width: 40,\n        height: 20,\n        fill: themeColor.value,\n        radius: radius,\n        opacity: 0.6,\n        cursor: 'grabbing',\n      },\n    };\n    const edgeOption = {\n      id: 'moveNodeEdge',\n      source: parentId || '0',\n      target: 'moveNode',\n      type: lineType.value,\n      zIndex: 3,\n      style: {\n        stroke: branchColor.value,\n        lineWidth: branch.value,\n        opacity: showLine ? 0.6 : 0,\n        cursor: 'grabbing',\n      }\n    }\n    const moveNode = tree.getNodes().filter(item => item.get('id') === 'moveNode')\n    const moveEdge = tree.getEdges().filter(item => item.get('id') === 'moveNodeEdge')\n    if (moveNode.length && moveEdge.length) {\n      tree.updateItem(moveNode[0], model)\n      tree.updateItem(moveEdge[0], edgeOption);\n    } else {\n      tree.addItem('node', model);\n      tree.addItem('edge', edgeOption);\n    }\n    return { moveNode: moveNode[0] }\n  },\n  hideDragDiv() {\n    const tree = globalTree.value\n    const moveNode = tree.getNodes().filter(item => item.get('id') === 'moveNode')\n    if (moveNode.length) {\n      tree.removeItem(moveNode[0])\n    }\n  },\n  showDragCombo({ tree, clientX, clientY, width, height }) {\n    const { x, y } = tree.getPointByClient(clientX, clientY);\n    const model = {\n      id: 'dragCombo',\n      label: '',\n      x,\n      y,\n      type: 'rect',\n      zIndex: 3,\n      style: {\n        width,\n        height,\n        fill: themeColor.value,\n        radius: radius,\n        opacity: 0.6,\n      },\n    };\n    const combo = tree.getNodes().filter(item => item.get('id') === 'dragCombo')\n    if (combo.length) {\n      tree.updateItem(combo[0], model)\n    } else {\n      tree.addItem('node', model);\n    }\n  },\n  keyDown(evt) {\n    // 判断如果是编辑节点的状态，不处理快捷键功能，直接返回\n    if (isCurrentEdit.value) return;\n    const { key, shiftKey, ctrlKey, altKey, metaKey } = evt;\n    let handler = hotkeys.value.filter(item => item.key === key)\n    if (!handler.length) return;\n    if (shiftKey || ctrlKey || altKey || metaKey) {\n      if (shiftKey) {\n        handler = handler.filter(item => item.control?.indexOf('shift') > -1)\n      }\n      if (ctrlKey) {\n        handler = handler.filter(item => item.control?.indexOf('ctrl') > -1)\n      }\n      if (metaKey) {\n        handler = handler.filter(item => item.control?.indexOf('cmd') > -1)\n      }\n      if (altKey) {\n        handler = handler.filter(item => item.control?.indexOf('alt') > -1)\n      }\n    } else if (handler.length === 1 && handler[0].control) {\n      handler = []\n    }\n    if (!handler.length) return;\n    evt.preventDefault(); // 禁止默认事件\n    handler[0].Event.call(this, getSelectedNodes())\n  }\n});\n\nG6.registerBehavior('double-finger-drag-canvas', {\n  getEvents: function getEvents() {\n    return {\n      wheel: 'onWheel',\n    };\n  },\n\n  onWheel: function onWheel(ev) {\n    const graph = globalTree.value;\n    if (ev.ctrlKey) {\n      const canvas = graph.get('canvas');\n      const point = canvas.getPointByClient(ev.clientX, ev.clientY);\n      let ratio = graph.getZoom();\n      if (ev.wheelDelta > 0) {\n        ratio = ratio + ratio * 0.05;\n      } else {\n        ratio = ratio - ratio * 0.05;\n      }\n      graph.zoomTo(ratio, {\n        x: point.x,\n        y: point.y,\n      });\n    } else {\n      const x = ev.deltaX || ev.movementX;\n      let y = ev.deltaY || ev.movementY;\n      if (!y && navigator.userAgent.indexOf('Firefox') > -1) y = (-ev.wheelDelta * 125) / 3\n      graph.translate(-x, -y);\n    }\n    ev.preventDefault();\n  },\n});","import G6, { GraphData, TreeGraph, TreeGraphData } from \"@antv/g6\";\nimport IMData from \"../data\";\nimport contextMenu from '../menu'\nimport { NodeData, InputData } from \"../interface\";\nimport { mindmap, toolbar, tooltip } from \"../plugins\";\nimport {\n  branch,\n  branchColor,\n  changeBranch,\n  changeBranchColor, changeCenterBtn, changeDownloadBtn, changeFitBtn,\n  changeLeafFontColor,\n  changeLeafThemeColor,\n  changeRootFontColor, changeScaleRatio,\n  changeSubFontColor,\n  changeSubThemeColor,\n  changeThemeColor, changeTimetravel, globalTree, lineType, paddingH, paddingV, setGlobalTree, setLineType\n} from \"../variable\";\nimport './registerNode' // 自定义节点形状\nimport './registerBehavior'\nimport { INode } from \"@antv/g6-core/lib/interface/item\"; // 自定义交互\nconst {\n  Util\n} = G6;\n\ninterface Window {\n  mindTree?: TreeGraph;\n}\n\ninterface layoutConfig {\n  xGap?: number,\n  yGap?: number,\n  direction?: string,\n  sharpCorner?: boolean // 直角边框\n  branch?: number\n  branchColor?: string\n  themeColor?: string\n  rootFontColor?: string\n  subThemeColor?: string\n  subFontColor?: string\n  scaleExtent?: string\n  leafThemeColor?: string\n  leafFontColor?: string\n  scaleRatio?: number\n  tooltip?: boolean,\n  edit?: boolean,\n  drag?: boolean,\n  zoom?: boolean,\n  centerBtn?: boolean,\n  fitBtn?: boolean,\n  downloadBtn?: boolean,\n  timetravel?: boolean,\n  mindmap?: boolean,\n  addNodeBtn?: boolean,\n  collapseBtn?: boolean,\n  watchResize?: boolean,\n}\n\ninterface Variable {\n  branch?: number,\n  branchColor?: string,\n  rootFontColor?: string,\n  subFontColor?: string,\n  subThemeColor?: string,\n  themeColor?: string\n  timetravel?: boolean,\n  centerBtn?: boolean,\n  fitBtn?: boolean,\n  downloadBtn?: boolean\n  scaleRatio?: number\n  lineType?: string\n  leafThemeColor?: string\n  leafFontColor?: string\n}\n\nclass Tree {\n  container: HTMLElement | null\n  data: NodeData | GraphData | TreeGraphData | undefined\n  tree: TreeGraph | null\n\n  constructor(containerId: string, data: InputData | InputData[]) {\n    this.container = document.getElementById(containerId)\n    this.data = data\n    this.tree = null\n  }\n\n  createLayoutConfig(layoutConfig?: layoutConfig) {\n    if (layoutConfig) {\n      let {\n        branch,\n        branchColor,\n        rootFontColor,\n        subFontColor,\n        subThemeColor,\n        themeColor,\n        leafThemeColor,\n        leafFontColor,\n        timetravel,\n        centerBtn,\n        fitBtn,\n        downloadBtn,\n        scaleRatio\n      } = layoutConfig\n      this.changeVariable({\n        branch,\n        branchColor,\n        rootFontColor,\n        subFontColor,\n        subThemeColor,\n        themeColor,\n        timetravel,\n        centerBtn,\n        fitBtn,\n        downloadBtn,\n        scaleRatio,\n        leafThemeColor,\n        leafFontColor,\n        lineType: layoutConfig?.sharpCorner ? 'hvh' : 'cubic-horizontal'\n      })\n    }\n    const config = {\n      width: this.container?.scrollWidth,\n      height: this.container?.scrollHeight ?? 0 - 20,\n      layout: {\n        type: 'compactBox',\n        direction: 'H',\n        getHeight: (node: NodeData) => {\n          return node.height\n        },\n        getWidth: (node: NodeData) => {\n          return node.width\n        },\n        getVGap: () => {\n          return layoutConfig?.yGap || 10;\n        },\n        getHGap: () => {\n          return layoutConfig?.xGap || 30;\n        },\n        getSide: (node: INode) => {\n          return 'right';\n        },\n      },\n      defaultEdge: {\n        type: layoutConfig?.sharpCorner ? 'hvh' : 'cubic-horizontal',\n        style: {\n          lineWidth: branch.value,\n          stroke: branchColor.value\n        },\n      },\n      scaleRatio: layoutConfig?.scaleRatio || 1,\n      modes: {\n        default: [],\n        edit: ['edit-mindmap']\n      },\n      plugins: [] as any,\n      groupByTypes: false,\n    }\n    const plugins = [];\n    plugins.push(toolbar())\n    if (layoutConfig?.mindmap) {\n      plugins.push(mindmap())\n    }\n    if (layoutConfig?.edit) {\n      plugins.push(contextMenu())\n    }\n    config.plugins = plugins\n    return config\n  }\n\n  async init(layoutConfig?: layoutConfig) {\n    if (!this.container) return\n    const config = this.createLayoutConfig(layoutConfig)\n    const data = IMData.init(this.data instanceof Array ? this.data[0] : this.data, true);\n    const tree = new G6.TreeGraph({\n      ...config,\n      container: this.container,\n      animate: false,\n      renderer: 'canvas'\n    });\n    tree.data(data);\n    this.tree = tree\n    tree.layout()\n    tree.fitCenter()\n    tree.zoomTo(config.scaleRatio, {\n      x: tree.getWidth() / 2,\n      y: tree.getHeight() / 2\n    })\n    tree.setAutoPaint(true)\n    this.enableFeature(layoutConfig)\n    let global = window as Window\n    global.mindTree = tree\n    setGlobalTree(tree)\n    this.bindEvent(tree)\n    return tree;\n  }\n\n  changeSize(width, height) {\n    this.tree.changeSize(width, height)\n    this.tree.fitCenter()\n  }\n\n  bindEvent(tree) {\n\n  }\n\n  enableFeature(layoutConfig?: layoutConfig) {\n    if (layoutConfig?.tooltip) {\n      this.addBehaviors(tooltip)\n    }\n    if (layoutConfig?.edit) {\n      this.changeEditMode(true)\n    }\n    if (layoutConfig?.drag) {\n      this.addBehaviors('drag-canvas')\n    }\n    if (layoutConfig?.zoom) {\n      this.addBehaviors('double-finger-drag-canvas')\n    }\n  }\n\n  changeVariable({\n    branch,\n    branchColor,\n    rootFontColor,\n    subFontColor,\n    subThemeColor,\n    themeColor,\n    timetravel,\n    centerBtn,\n    fitBtn,\n    downloadBtn,\n    scaleRatio,\n    lineType,\n    leafThemeColor,\n    leafFontColor,\n  }: Variable) {\n    branch && changeBranch(branch)\n    branchColor && changeBranchColor(branchColor)\n    rootFontColor && changeRootFontColor(rootFontColor)\n    subFontColor && changeSubFontColor(subFontColor)\n    subThemeColor && changeSubThemeColor(subThemeColor)\n    themeColor && changeThemeColor(themeColor)\n    timetravel && changeTimetravel(timetravel)\n    centerBtn && changeCenterBtn(centerBtn)\n    fitBtn && changeFitBtn(fitBtn)\n    downloadBtn && changeDownloadBtn(downloadBtn)\n    scaleRatio && changeScaleRatio(scaleRatio)\n    lineType && setLineType(lineType)\n    leafThemeColor && changeLeafThemeColor(leafThemeColor)\n    leafFontColor && changeLeafFontColor(leafFontColor)\n  }\n\n  changeLayout(layoutConfig?: layoutConfig) {\n    const config = this.createLayoutConfig(layoutConfig)\n    this.tree?.updateLayout(config)\n  }\n\n  addBehaviors(behavior: any, modeType?: string) {\n    if (modeType) {\n      this.tree?.addBehaviors(behavior, modeType)\n    } else {\n      this.tree?.addBehaviors(behavior, 'default')\n      this.tree?.addBehaviors(behavior, 'edit')\n    }\n  }\n\n  removeBehaviors(behavior: any, modeType: string) {\n    if (modeType) {\n      this.tree?.removeBehaviors(behavior, modeType)\n    } else {\n      this.tree?.removeBehaviors(behavior, 'default')\n      this.tree?.removeBehaviors(behavior, 'edit')\n    }\n  }\n\n  changeEditMode(edit: boolean) {\n    if (edit) {\n      this.tree?.setMode('edit')\n    } else {\n      this.tree?.setMode('default')\n    }\n  }\n\n  reBuild(layoutConfig?: layoutConfig) {\n    this.tree?.destroy()\n    this.init(layoutConfig)\n  }\n\n  destroy() {\n    this.tree?.destroy()\n  }\n}\n\nexport default Tree\n","import { addData, addParent, addSibling, copy, deleteNode, paste, createACopy, cut, unDo, reDo, edit } from \"./methods\";\nimport { globalTree, placeholderText, hotKeyList } from \"../variable\";\n\nvar isMac = function () {\n  return /macintosh|mac os x/i.test(navigator.userAgent);\n}();\nvar defaultHotKey = [\n  {\n    key: 'Enter',\n    label: '插入同级节点',\n    Event: function (selectedNodes) {\n      if (selectedNodes?.length != 1) return;\n      addSibling(selectedNodes[0].id, placeholderText, true)\n    },\n    name: 'add-sibling', // 右键菜单匹配值\n  },\n  {\n    key: 'Tab',\n    label: '插入子节点',\n    Event: function (selectedNodes) {\n      if (selectedNodes?.length != 1) return;\n      addData(selectedNodes[0].id, placeholderText, true)\n    },\n    name: 'add', // 右键菜单匹配值\n  },\n  {\n    key: 'Tab',\n    control: 'shift',\n    label: '插入父节点',\n    Event: function (selectedNodes) {\n      if (selectedNodes?.length != 1) return;\n      addParent(selectedNodes[0].id, placeholderText, true)\n    },\n    name: 'add-parent', // 右键菜单匹配值\n  },\n  {\n    key: 'c',\n    control: isMac ? 'cmd' : 'ctrl',\n    label: '复制',\n    Event: function (selectedNodes) {\n      if (!selectedNodes?.length) return;\n      let ids = selectedNodes.map(item => item.id)\n      copy(ids)\n    },\n    name: 'copy', // 右键菜单匹配值\n  },\n  {\n    key: 'x',\n    control: isMac ? 'cmd' : 'ctrl',\n    label: '剪切',\n    Event: function (selectedNodes) {\n      if (!selectedNodes?.length) return;\n      let ids = selectedNodes.map(item => item.id)\n      cut(ids)\n    },\n    name: 'cut', // 右键菜单匹配值\n  },\n  {\n    key: 'v',\n    control: isMac ? 'cmd' : 'ctrl',\n    label: '粘贴',\n    Event: function (selectedNodes) {\n      if (selectedNodes?.length != 1) return;\n      paste(selectedNodes[0].id)\n    },\n    name: 'paste', // 右键菜单匹配值\n  },\n  {\n    key: 'd',\n    control: isMac ? 'cmd' : 'ctrl',\n    label: '创建副本',\n    name: 'create-a-copy', // 右键菜单匹配值\n    Event: function (selectedNodes) {\n      if (selectedNodes?.length != 1) return;\n      createACopy(selectedNodes[0].id)\n    },\n  },\n  {\n    key: 'z',\n    control: isMac ? 'cmd' : 'ctrl',\n    label: '撤销操作',\n    name: 'revert', // 右键菜单匹配值\n    Event: function (selectedNodes) {\n      unDo()\n    },\n  },\n  {\n    key: 'y',\n    control: isMac ? 'cmd' : 'ctrl',\n    label: '重新操作',\n    name: 'redo', // 右键菜单匹配值\n    Event: function (selectedNodes) {\n      reDo()\n    },\n  },\n  {\n    key: 'Backspace',\n    label: '删除',\n    Event: function (selectedNodes) {\n      if (!selectedNodes?.length) return;\n      selectedNodes.forEach(item => {\n        deleteNode(item.id)\n      })\n    },\n    name: 'delete', // 右键菜单匹配值\n  },\n  {\n    key: ' ',\n    label: '编辑',\n    Event: function (selectedNodes) {\n      if (!selectedNodes?.length) return;\n      selectedNodes.forEach(item => {\n        edit(item.id)\n      })\n    },\n    name: 'edit', // 右键菜单匹配值\n  },\n]\nexport default defaultHotKey","\nexport default (sfc, props) => {\n  const target = sfc.__vccOpts || sfc;\n  for (const [key, val] of props) {\n    target[key] = val;\n  }\n  return target;\n}\n","<template>\n  <div>\n    <div id=\"mxs-mindmap_container\" class=\"mindmap-container\" />\n    <div id=\"node-input\" contenteditable=\"true\" />\n  </div>\n</template>\n<script lang=\"ts\">\nimport './css/Mindmap.scss'\nimport { PropType } from 'vue'\nimport Tree from './tree/tree'\nimport { tooltip } from \"./plugins\";\nimport { changeNodeMenuList, setGlobalTree, changehotKeyList } from \"./variable\";\nimport EditInput from './editInput'\nimport {\n  addData,\n  update,\n  deleteNode,\n  deleteOneNode,\n  expand,\n  collapse,\n  addSibling,\n  addParent,\n  findData\n} from './tree/methods'\nimport emitter from \"./mitt\";\nimport defaultHotKey from \"./tree/hotkeys\"\nconst isArray = (arg) => Object.prototype.toString.call(arg).toLowerCase().indexOf('array') > 5;\nconst isObject = (arg) => Object.prototype.toString.call(arg).toLowerCase() === '[object object]';\nlet tree;\nexport default {\n  props: {\n    // 脑图数据\n    modelValue: { required: true },\n    // 绘制所需的变量\n    xGap: { type: Number, default: 18 },\n    yGap: { type: Number, default: 84 },\n    branch: {\n      type: Number,\n      default: 1,\n      validator: (val: number) => val >= 1 && val <= 6\n    },\n    branchColor: {\n      type: String,\n    },\n    themeColor: { type: String, default: 'rgb(19,128,255)' },\n    rootFontColor: { type: String, default: '#fff' },\n    subThemeColor: { type: String, default: 'rgba(245,245,245,1)' },\n    subFontColor: { type: String, default: '#333' },\n    leafThemeColor: { type: String, default: 'transparent' },\n    leafFontColor: { type: String, default: '#333' },\n    direction: { type: String, default: 'LR' },\n    sharpCorner: Boolean,\n    scaleExtent: {\n      type: Object as PropType<[number, number]>,\n      default: [0.1, 8]\n    },\n    scaleRatio: { type: Number, default: 1 },\n    // 功能设置\n    tooltip: Boolean,\n    edit: Boolean,\n    drag: Boolean,\n    zoom: Boolean,\n    centerBtn: Boolean,\n    fitBtn: Boolean,\n    downloadBtn: Boolean,\n    timetravel: Boolean,\n    mindmap: Boolean,\n    addNodeBtn: Boolean,\n    collapseBtn: Boolean,\n    fisheye: Boolean,\n    watchResize: Boolean,\n    keyboard: Boolean,\n    ctm: Boolean,//  开启右键菜单\n    nodeMenu: Array, // 菜单配置\n    hotKey: Array, // 快捷键配置\n    // 钩子函数\n    onAdd: Function,\n    onExpand: Function,\n    onCollapse: Function,\n    onSelectedNode: Function,\n    onAfterEdit: Function,\n    onDragEnd: Function\n  },\n  mounted() {\n    this.$props.onAdd && emitter.on('onAdd', this.$props.onAdd)\n    this.$props.onExpand && emitter.on('onExpand', this.$props.onExpand)\n    this.$props.onCollapse && emitter.on('onCollapse', this.$props.onCollapse)\n    this.$props.onSelectedNode && emitter.on('onSelectedNode', this.$props.onSelectedNode)\n    this.$props.onAfterEdit && emitter.on('onAfterEdit', this.$props.onAfterEdit)\n    this.$props.onDragEnd && emitter.on('onDragEnd', this.$props.onDragEnd)\n    this.changeCanvasSize()\n    window.addEventListener(\"resize\", this.changeCanvasSize)\n  },\n  beforeUnmount() {\n    this.$props.onAdd && emitter.off('onAdd', this.$props.onAdd)\n    this.$props.onExpand && emitter.off('onExpand', this.$props.onExpand)\n    this.$props.onCollapse && emitter.off('onCollapse', this.$props.onCollapse)\n    this.$props.onSelectedNode && emitter.off('onSelectedNode', this.$props.onSelectedNode)\n    this.$props.onAfterEdit && emitter.off('onAfterEdit', this.$props.onAfterEdit)\n    this.$props.onDragEnd && emitter.off('onDragEnd', this.$props.onDragEnd)\n    window.removeEventListener(\"resize\", this.changeCanvasSize)\n    tree.destroy()\n    tree = null\n  },\n  methods: {\n    changeCanvasSize() {\n      this.$nextTick(() => {\n        const height = this.$el.parentNode.offsetHeight;\n        const width = this.$el.offsetWidth;\n        this.$el.style.height = height + 'px';\n        if (tree) {\n          tree.changeSize(width, height);\n        }\n      })\n    },\n    treeInit() {\n      const { modelValue } = this.$props\n      this.$nextTick(() => {\n        tree = new Tree('mxs-mindmap_container', modelValue)\n        tree.init(this.$props)\n      })\n    },\n    inputInit() {\n      EditInput.init('node-input')\n    },\n    add: addData,\n    update,\n    deleteNode,\n    deleteOneNode,\n    expand,\n    collapse,\n    addSibling,\n    addParent,\n    find: findData\n  },\n  watch: {\n    '$props.modelValue': {\n      handler(val) {\n        if (isArray(val) && !val.length) return;\n        if (isObject(val) && !Object.keys(val).length) return;\n        this.treeInit()\n        this.inputInit()\n      },\n      immediate: true\n    },\n    '$props.tooltip': {\n      handler(val) {\n        if (val) {\n          tree.addBehaviors(tooltip)\n        } else {\n          tree.removeBehaviors('tooltip')\n        }\n      }\n    },\n    '$props.edit': {\n      handler(val) {\n        tree.changeEditMode(val)\n      }\n    },\n    '$props.drag': {\n      handler(val) {\n        if (val) {\n          tree.addBehaviors('drag-canvas')\n        } else {\n          tree.removeBehaviors('drag-canvas')\n        }\n      },\n    },\n    '$props.zoom': {\n      handler(val) {\n        if (val) {\n          tree.addBehaviors('zoom-canvas')\n        } else {\n          tree.removeBehaviors('zoom-canvas')\n        }\n      }\n    },\n    centerBtn(val) {\n    },\n    fitBtn(val) {\n    },\n    downloadBtn(val) {\n    },\n    timetravel(val) {\n    },\n    mindmap(val) {\n    },\n    addNodeBtn(val) {\n    },\n    collapseBtn(val) {\n    },\n    fisheye(val) {\n    },\n    watchResize(val) {\n    },\n    nodeMenu: {\n      handler(val) {\n        changeNodeMenuList(val)\n      },\n      immediate: true\n    },\n    hotKey: {\n      handler(val) {\n        changehotKeyList(val.filter(i => i.enabled == null || i.enabled === true).map(item => {\n          return defaultHotKey.filter(i => i.name === item || i.name === item.name)[0] || { key: null }\n        }))\n      },\n      immediate: true\n    }\n  }\n}\n</script>\n"],"names":["IMData","History","EditInput","isArrayish","require$$0","swizzle","simpleSwizzleModule","require$$1","colorStringModule","convert","conversions","route","Color","_createElementVNode","_createElementBlock"],"mappings":"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"}