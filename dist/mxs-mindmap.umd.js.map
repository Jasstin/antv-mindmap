{"version":3,"file":"mxs-mindmap.umd.js","sources":["../src/components/Mindmap/utils.ts","../src/components/Mindmap/variable.ts","../src/components/Mindmap/data/index.ts","../src/components/Mindmap/data/history.ts","../src/components/Mindmap/editInput.ts","../node_modules/mitt/dist/mitt.mjs","../src/components/Mindmap/mitt.ts","../src/components/Mindmap/tree/clipboard.ts","../src/components/Mindmap/tree/methods.ts","../src/components/Mindmap/menu.ts","../src/components/Mindmap/plugins.ts","../src/components/Mindmap/tree/registerNode.ts","../src/components/Mindmap/tree/registerBehavior.ts","../src/components/Mindmap/tree/tree.ts","../src/components/Mindmap/tree/hotkeys.ts","../plugin-vue:export-helper","../src/components/Mindmap/MindMap.vue"],"sourcesContent":["import G6 from \"@antv/g6\";\n\n/**\n * 文本超出显示……\n * **/\nexport const fittingString = (str: string, maxWidth: number, fontSize: number) => {\n  const ellipsis = '...';\n  const ellipsisLength = G6.Util.getTextSize(ellipsis, fontSize)[0];\n  let currentWidth = 0;\n  let res = str;\n  const pattern = new RegExp('[\\u4E00-\\u9FA5]+'); // distinguish the Chinese charactors and letters\n  str.split('').forEach((letter, i) => {\n    if (currentWidth > maxWidth - ellipsisLength) return;\n    if (pattern.test(letter)) {\n      // Chinese charactors\n      currentWidth += fontSize;\n    } else {\n      // get the width of single letter according to the fontSize\n      currentWidth += G6.Util.getLetterWidth(letter, fontSize);\n    }\n    if (currentWidth > maxWidth - ellipsisLength) {\n      res = `${str.substr(0, i)}${ellipsis}`;\n    }\n  });\n  return res;\n};\n/**\n * 文本超出换行\n * */\nexport const wrapString = (str: string, maxWidth: number, fontSize: number): { line: number, text: string, width: number } => {\n  let currentWidth = 0;\n  const pattern = new RegExp('[\\u4E00-\\u9FA5]+'); // distinguish the Chinese charactors and letters\n  const lineGroup = []\n  let firstIndex = 0\n  let rowWidth = 0\n  str = str.replace(/\\s/g, '')\n  str.split('').forEach((letter, i, array) => {\n    if (pattern.test(letter)) {\n      // Chinese charactors\n      currentWidth += fontSize;\n    } else {\n      // get the width of single letter according to the fontSize\n      currentWidth += G6.Util.getLetterWidth(letter, fontSize);\n    }\n    if (currentWidth > maxWidth) {\n      if (currentWidth > rowWidth) {\n        rowWidth = currentWidth\n      }\n      lineGroup.push(str.slice(firstIndex, i))\n      currentWidth = 0;\n      firstIndex = i\n    } else if (i === array.length - 1) {\n      if (currentWidth > rowWidth) {\n        rowWidth = currentWidth\n      }\n      lineGroup.push(str.slice(firstIndex, i + 1))\n    }\n  });\n  return { line: lineGroup.length, text: lineGroup.join('\\n'), width: Math.ceil(rowWidth) }\n};\nwindow.wrapString = wrapString\n","import { ref } from \"vue\";\nimport { TreeGraph } from \"@antv/g6\";\nimport { INode } from \"@antv/g6-core/lib/interface/item\";\n\nexport const themeColor = ref('rgb(19, 128, 255)')\nexport const activeStrokeColor = ref('red')\nexport const hoverStrokeColor = ref('green')\nexport const changeThemeColor = (val: string) => {\n  themeColor.value = val\n  activeStrokeColor.value = val\n  hoverStrokeColor.value = val\n}\nexport const themeColor_sub = ref('rgb(245,245,245)')\nexport const changeSubThemeColor = (val: string) => themeColor_sub.value = val\nexport const themeColor_leaf = ref('transparent')\nexport const changeLeafThemeColor = (val: string) => themeColor_leaf.value = val\nexport const fontColor_root = ref('#ffffff') // 字体颜色\nexport const changeRootFontColor = (val: string) => fontColor_root.value = val\nexport const fontColor_sub = ref('#333') // 字体颜色\nexport const changeSubFontColor = (val: string) => fontColor_sub.value = val\nexport const fontColor_leaf = ref('#333') // 字体颜色\nexport const changeLeafFontColor = (val: string) => fontColor_leaf.value = val\nexport const branch = ref(2) // 线条宽度\nexport const changeBranch = (val: number) => branch.value = val\nexport const branchColor = ref('rgb(19, 128, 255)') // 线条颜色\nexport const changeBranchColor = (val: string) => branchColor.value = val\nexport const timetravel = ref(false) // 显示历史操作栈\nexport const changeTimetravel = (val: boolean) => timetravel.value = val\nexport const downloadBtn = ref(false)\nexport const changeDownloadBtn = (val: boolean) => downloadBtn.value = val\nexport const fitBtn = ref(false)\nexport const changeFitBtn = (val: boolean) => fitBtn.value = val\nexport const centerBtn = ref(false)\nexport const changeCenterBtn = (val: boolean) => centerBtn.value = val\nexport const scaleRatio = ref(1)\nexport const changeScaleRatio = (val: number) => scaleRatio.value = val\nexport const radius = 4\nexport const paddingH = 10\nexport const paddingV = 10\nexport const maxFontCount = 12 // 最多显示字个数\nexport const globalFontSize = [16, 14, 12] // 字体大小\nexport const nodeMenuList = ref([]) // 节点右键菜单列表\nexport const changeNodeMenuList = (val: []) => nodeMenuList.value = val\nexport const currentNode = ref<INode | null>(null) // 当前选中的节点\nexport const setCurrentNode = (val: INode) => currentNode.value = val\nexport const globalTree = ref<TreeGraph | null>(null) // 树实例\nexport const setGlobalTree = (val: TreeGraph) => globalTree.value = val\nexport const lineType = ref<string>('cubic-horizontal')\nexport const setLineType = (val: string) => lineType.value = val\nexport const isCurrentEdit = ref<boolean>(false)\nexport const setIsCurrentEdit = (val: boolean) => isCurrentEdit.value = val\nexport const placeholderText = '新建模型'\nexport const isDragging = ref<boolean>(false)\nexport const setIsDragging = (val: boolean) => isDragging.value = val\nexport const hotkeys = ref([]) // 节点右键菜单列表\nexport const changehotKeyList = (val: []) => hotkeys.value = val\n","import { InputData, NodeData } from \"../interface\";\nimport { fittingString, wrapString } from \"../utils\";\nimport { globalFontSize, maxFontCount, paddingH, paddingV, themeColor_sub, themeColor, themeColor_leaf, fontColor_sub, fontColor_leaf, fontColor_root, placeholderText, activeStrokeColor } from \"../variable\";\nexport const buildNodeStyle = ({ name = placeholderText, desc = \"\", content = \"\", depth }) => {\n  name === \"\" && (name = placeholderText);\n  const fontSize = globalFontSize[depth] || 12;\n  const size = fontSize * maxFontCount + paddingH * 2; // 节点最多显示12个字\n  const { text: wrapName, line: nameLine, width: nameWidth } = wrapString(name, size, fontSize); // 标题换行\n  const { text: wrapDesc, line: descLine, width: descWidth } = wrapString(desc, size, fontSize - 2); // 描述换行\n  const nameLineHeight = (fontSize + paddingV);\n  const nameHeight = nameLineHeight * (nameLine) + paddingV; // 标题高度\n  const descHeight = (fontSize - 2 + paddingV) * (descLine) + paddingV; // 描述内容高度\n  const height = nameHeight + (desc ? descHeight : 0) // 节点高度\n  const FillColor = [themeColor.value, themeColor_sub.value, themeColor_leaf.value][depth] || themeColor_leaf.value // 背景颜色\n  const FontColor = [fontColor_root.value, fontColor_sub.value, fontColor_leaf.value][depth] || fontColor_leaf.value // 字体颜色\n  const obj = {\n    label: wrapName,\n    name: wrapName,\n    fullName: name,\n    desc: wrapDesc,\n    content,\n    type: 'mindmap-node',\n    style: {\n      fontSize,\n      descFontSize: fontSize - 2,\n      descHeight,\n      width: Math.max(nameWidth, descWidth) + paddingV * 2, //  标题宽度与描述宽度取最大值\n      maxWidth: size,\n      height,\n      nameHeight,\n      FillColor,\n      FontColor,\n      stroke: 2,\n      strokeColor: 'transparent',\n      nameLineHeight\n    }\n  }\n  return obj\n}\nclass IMData {\n  data: NodeData | null = null\n  _data: NodeData | any[] = []\n\n  private createMdataFromData(rawData: InputData, id: string, parent: NodeData | null = null, isInit = false): NodeData {\n    const {\n      children: rawChildren,\n      _children: _rawChildren,\n      collapse,\n      isSubView\n    } = rawData\n    const depth = parent ? parent.depth + 1 : 0\n    const data: NodeData = {\n      id,\n      depth,\n      isSubView: isSubView || false,\n      collapse: collapse || false,\n      parentId: parent?.id ?? '0',\n      children: [],\n      _children: [],\n      rawData: isInit ? rawData : rawData?.rawData,\n      ...buildNodeStyle({ ...rawData, depth })\n    }\n    if (rawChildren) {\n      rawChildren.filter(t => !t.destroyed).forEach((c, j) => {\n        data?.children?.push(this.createMdataFromData(c, `${id}-${j}`, data, isInit))\n      })\n    }\n    if (_rawChildren) {\n      _rawChildren.filter(t => !t.destroyed).forEach((c, j) => {\n        data?._children?.push(this.createMdataFromData(c, `${id}-${j}`, data, isInit))\n      })\n    }\n    if (collapse && data.children.length) {\n      data._children = [...data.children]\n      data.children = []\n    }\n    return data\n  }\n\n  init(d: InputData, isInit = false) {\n    this.data = this.createMdataFromData(d, '0', null, isInit)\n    return this.data\n  }\n\n  find(id: string): NodeData | null { // 根据id找到数据\n    const array = id.split('-').map(n => ~~n)\n    let data = this.data\n    if (!data) return null\n    for (let i = 1; i < array.length; i++) {\n      const index = array[i]\n      const { children } = data as NodeData\n      if (index < children.length) {\n        data = children[index]\n      } else { // No data matching id\n        return null\n      }\n    }\n    return data?.id === id ? data : null\n  }\n\n  /**\n   * 展开或折叠(expand or collapse)\n   */\n  eoc(id: string, collapse: boolean): NodeData | null {\n    const d = this.find(id)\n    if (d) {\n      d.collapse = collapse;\n      [d._children, d.children] = [d.children, d._children]\n    }\n    return d\n  }\n\n  expand(id: string): NodeData | null {\n    return this.eoc(id, false)\n  }\n\n  collapse(id: string): NodeData | null {\n    return this.eoc(id, true)\n  }\n\n  /**\n   * 支持传入单节点、带有子级的节点\n   * */\n  add(id: string, rawData: string | InputData): NodeData | null {\n    const p = this.find(id)\n    if (!p) return null;\n    if (p.collapse) {\n      this.expand(id)\n    }\n    if (!p.children) {\n      p.children = []\n    }\n    if (typeof rawData === 'string') {\n      rawData = { name: rawData }\n    }\n    const newData = this.createMdataFromData(rawData, `${id}-${p.children.length}`, p);\n    p.children.push(newData);\n    return newData;\n  }\n\n  addSibling(id: string, rawData: string | InputData, before = false): NodeData | null {\n    const d = this.find(id);\n    if (!d || !d.parentId) return null;\n    if (typeof rawData === 'string') {\n      rawData = { name: rawData };\n    }\n    return this.add(d.parentId, rawData);\n  }\n\n  addParent(id: string, rawData: string | InputData): NodeData | null {\n    let d = this.find(id);\n    if (!d || !d.parentId) return null;\n    const p = this.find(d.parentId);\n    if (typeof rawData === 'string') {\n      rawData = { name: rawData };\n    }\n    const newData = this.createMdataFromData({\n      ...rawData,\n      children: [d]\n    }, id, p)\n    this.replaceNode(id, newData);\n    return newData;\n  }\n  replaceNode(id, rawData) {\n    let d = this.find(id);\n    let p = this.find(d.parentId);\n    if (!p?.children) return;\n    p.children.forEach(item => {\n      if (item.id === id) {\n        for (let key in rawData) {\n          item[key] = rawData[key]\n        }\n      }\n    })\n  }\n  /**\n   * 删除节点及其所有子节点 支持逻辑删除与物理删除\n   * 逻辑删除： 在数据中，被打上destroyed的标识，会在下一次重置数据的时候删除 应用场景听：moveData 先逻辑删除再物理删除\n   * 物理删除： 本次操作就将数据删除掉\n   * */\n  removeItem(id: string, real = true) {\n    const d = this.find(id)\n    if (d) {\n      const p = this.find(d.parentId)\n      if (!p) return\n      p.children.forEach(d => {\n        if (d.id === id) {\n          d.destroyed = true\n        }\n      })\n    }\n    if (real) {\n      this.init(this.data)\n    }\n  }\n\n  removeOneItem(id: string) {\n    const d = this.find(id)\n    if (d) {\n      const p = this.find(d.parentId)\n      if (!p) return\n      p.children = p.children.filter(t => t.id !== id)\n      if (d.children) {\n        const _pI = id.split(p.id + '-')[1];\n        d.children.forEach((item, index) => {\n          p.children.splice(+_pI, 0, this.createMdataFromData(item, p.id + '-' + index, p))\n        })\n      }\n      p.children.forEach((t, i) => t.id = `${p.id}-${i}`)\n    }\n  }\n\n  onlyShowCurrent(id: string) {\n    const d = this.find(id)\n    if (d) {\n      if (d.collapse) {\n        this.expand(id)\n      }\n      this._data.push(this.data)\n      d.isSubView = true\n      this.data = this.createMdataFromData(d, '0')\n    }\n  }\n\n  update(id: string, rawData: string | InputData) {\n    let d = this.find(id)\n    if (!d) return\n    const p = this.find(d.parentId);\n    if (typeof rawData === 'string') {\n      rawData = { ...d, name: rawData }\n    } else {\n      rawData = { ...d, ...rawData }\n    }\n    if (d.id === '0') {\n      return this.init(rawData)\n    } else {\n      const newData = this.createMdataFromData(rawData, id, p);\n      this.replaceNode(id, newData);\n      return newData;\n    }\n  }\n\n  backParent() {\n    let _data = this._data.pop()\n    // Todo:合并最新的改动\n    this.data = _data\n  }\n\n  moveData(pid: string, id: string, index: number) {\n    let data = this.find(id);\n    const p = this.find(pid);\n    let isSibling = data.parentId === pid\n    if (!isSibling) {\n      this.removeItem(id, false);\n    }\n    if (p.children.length) {\n      let _data = [...p.children.filter(node => node.id != id)]\n      p.children = []\n      _data.splice(index, 0, data)\n      _data.forEach((item, index) => p.children.push(this.createMdataFromData(item, p.id + '-' + index, p)))\n    } else if (p._children.length) {\n      let _data = [...p._children.filter(node => node.id != id)]\n      p._children = []\n      _data.splice(index, 0, data)\n      _data.forEach((item, index) => p._children.push(this.createMdataFromData(item, p.id + '-' + index, p)))\n      this.expand(pid)\n    } else {\n      this.add(pid, data)\n    }\n    // 重新梳理id\n    this.init(this.data)\n  }\n}\n\nexport default new IMData()\n","import {NodeData} from \"../interface\";\n\nclass History {\n    data: NodeData[] | [] = []\n    index: number = 0\n\n    push(data: NodeData) {\n        (this.data as NodeData[]).push(data)\n        this.index = this.data.length - 1\n    }\n\n    goBack(n: number = 1) {\n        this.index--\n        if (this.index <= 0) this.index = 0\n        let data = this.data[this.index]\n        return data\n    }\n\n    forword(n: number = 1) {\n        this.index++\n        if (this.index >= this.data.length - 1) this.index = this.data.length - 1\n        let data = this.data[this.index]\n        return data\n    }\n}\n\nexport default new History()\n","import {\n  paddingH,\n  paddingV,\n  placeholderText,\n  globalTree,\n  radius,\n  activeStrokeColor,\n} from \"./variable\";\nfunction buildStyle(obj) {\n  let res = \"\";\n  for (let key in obj) {\n    res += `${key}:${obj[key]};`;\n  }\n  return res;\n}\n\nclass EditInput {\n  _input: HTMLInputElement | null = null;\n  _id: string;\n\n  init(id: string) {\n    this._input = document.getElementById(id) as HTMLInputElement;\n    this._id = id;\n    this.bindEvent();\n  }\n\n  showInput(nodeData) {\n    if (!this._input) {\n      this.init(this._id);\n      if (!this._input) return;\n    }\n\n    let NodeInput = this._input;\n    const { x: pointX, y: pointY } = nodeData._cfg?.bboxCache;\n    const {\n      name,\n      style: {\n        fontSize,\n        width,\n        height,\n        maxWidth,\n        FillColor,\n        FontColor,\n        stroke,\n        nameLineHeight,\n      },\n    } = nodeData._cfg?.model;\n    const Tree = globalTree.value;\n    let ratio = Tree.getZoom();\n    let { x, y } = Tree.getClientByPoint(pointX, pointY);\n    NodeInput.style.cssText = buildStyle({\n      transform: `scale(${ratio})`,\n      \"transform-origin\": \"0 0\",\n      display: \"block\",\n      position: \"fixed\",\n      top: `${y}px`,\n      left: `${x}px`,\n      width: `${width + stroke}px`,\n      height: `${height + stroke}px`,\n      \"box-sizing\": `border-box`,\n      \"font-size\": `${fontSize}px`,\n      \"text-align\": \"left\",\n      \"padding-top\": `${paddingV / 2}px`,\n      \"padding-left\": `${paddingH - stroke}px`,\n      \"border-radius\": `${radius}px`,\n      zIndex: 1,\n      overflow: `hidden`,\n      resize: `none`,\n      outline: `none`,\n      \"font-weight\": 600,\n      color: FontColor,\n      background: FillColor,\n      border: `${stroke}px solid ${activeStrokeColor.value}`,\n      \"line-height\": nameLineHeight + \"px\",\n    });\n    NodeInput.innerText = placeholderText === name ? \"\" : name;\n    document.body.style[\"--placeholderText\"] = placeholderText;\n    NodeInput.classList[name === placeholderText ? \"add\" : \"remove\"](\"empty\");\n  }\n  changeStyle({ style: { width, stroke, height } }) {\n    let NodeInput = this._input;\n    NodeInput.style.width = `${width + stroke}px`;\n    NodeInput.style.height = `${height + stroke}px`;\n  }\n  bindEvent() {\n    if (!this._input) return;\n    this._input.addEventListener(\"input\", (ev) => {\n      let input = ev.target as HTMLInputElement;\n      if (input.innerText.length > 0) {\n        input.classList.remove(\"empty\");\n      } else {\n        input.classList.add(\"empty\");\n      }\n      this.handleInput(\n        this._input.innerText === \"\" ? placeholderText : this._input.innerText\n      );\n    });\n    this._input.addEventListener(\"blur\", () => {\n      this.handleInputBlur(this._input.innerText);\n    });\n    this._input.addEventListener(\"keydown\", (ev) => {\n      if (ev.key === \"Enter\" && !ev.shiftKey) {\n        let input = ev.target as HTMLInputElement;\n        this.handleInputBlur.call(this, input.innerText);\n      }\n    });\n  }\n  hideInput() {\n    if (!this._input) return;\n    this._input.style.display = \"none\";\n    document.getElementById(\"mxs-mindmap_container\").focus(); // 隐藏输入框时让画布focus\n  }\n  handlefocus(name: string) {\n    //    methods 将会重写，用来更新节点状态\n  }\n\n  handleInput(name: string) {}\n\n  handleInputBlur(name: string) {\n    //    methods 将会重写，用来更新节点数据\n  }\n\n  moveCursor(len) {\n    let range = new Range();\n    let selection = document.getSelection();\n    if (!selection) return;\n    let text = this._input.lastChild;\n    if (text) {\n      range.setStart(text, 0);\n      range.setEndAfter(text);\n      range.collapse(false);\n    } else {\n      range.collapse(true);\n    }\n    selection.removeAllRanges();\n    selection.addRange(range);\n  }\n\n  toFocus() {\n    // Todo: 支持设置光标位置\n    if (!this._input) return;\n    this._input.focus();\n    try {\n      let timer = setTimeout(() => {\n        this.moveCursor(this._input.innerText.length); // 光标在末尾\n        clearTimeout(timer);\n      }, 0);\n    } catch (e) {\n      console.log(e);\n    }\n  }\n}\n\nexport default new EditInput();\n","export default function(n){return{all:n=n||new Map,on:function(t,e){var i=n.get(t);i?i.push(e):n.set(t,[e])},off:function(t,e){var i=n.get(t);i&&(e?i.splice(i.indexOf(e)>>>0,1):n.set(t,[]))},emit:function(t,e){var i=n.get(t);i&&i.slice().map(function(n){n(e)}),(i=n.get(\"*\"))&&i.slice().map(function(n){n(t,e)})}}}\n//# sourceMappingURL=mitt.mjs.map\n","import mitt from 'mitt'\n\nconst emitter = mitt()\nexport default emitter\n","import {ref} from \"vue\";\n\nlet dataArr = ref([])\n\nexport const pushData = (data) => {\n    dataArr.value.push(data)\n}\n\nexport const popData = () => {\n    return dataArr.value.pop()\n}\n","import IMData, { buildNodeStyle } from \"../data/index\";\nimport { InputData } from \"../interface\";\nimport { globalTree, isCurrentEdit, setIsCurrentEdit } from \"../variable\";\nimport { TreeGraph } from \"@antv/g6\";\nimport History from \"../data/history\";\nimport EditInput from \"../editInput\";\nimport { INode } from \"@antv/g6-core/lib/interface/item\";\nimport emitter from \"../mitt\";\nimport { pushData, popData } from \"./clipboard\";\n\n/***\n * data 为History栈里面的历史数据\n */\nexport const rePaint = (stack = true) => {\n  let tree: TreeGraph | null = globalTree.value as TreeGraph;\n  if (!IMData.data) return;\n  tree?.data(IMData.data);\n  if (stack) {\n    History.push(IMData.data);\n  }\n  tree?.layout();\n};\nexport const addData = (\n  id: string,\n  rawData: string | InputData,\n  editNow = true\n) => {\n  let data = IMData.add(id, rawData);\n  emitter.emit(\"onAdd\", data);\n  rePaint();\n  if (data && editNow) edit(data.id);\n};\nexport const addParent = (id: string, rawData: string | InputData) => {\n  let data = IMData.addParent(id, rawData);\n  rePaint();\n  if (data) edit(data.id);\n};\nexport const addSibling = (id: string, rawData: string | InputData) => {\n  let data = IMData.addSibling(id, rawData);\n  rePaint();\n  if (data) edit(data.id);\n};\nexport const edit = (id: string, clear = false) => {\n  const Tree = globalTree.value;\n  const NodeData = Tree?.findById(id) as INode;\n  if (!NodeData || !Tree) return;\n  setIsCurrentEdit(true);\n  selectNode(id, true);\n  let oldName = NodeData.get(\"model\").name;\n  if (clear) {\n    NodeData.set(\"model\", Object.assign(NodeData.get(\"model\"), { name: \"\" }));\n  }\n  EditInput.showInput(NodeData);\n  EditInput.toFocus();\n  Tree.on(\"wheel\", () => {\n    EditInput.hideInput();\n  });\n  EditInput.handleInput = (name: string) => {\n    if (!isCurrentEdit.value) setIsCurrentEdit(true);\n    let _name = name.replace(/\\s/g, \"\");\n    const pattern = new RegExp(\"[\\u4E00-\\u9FA5]+\"); // distinguish the Chinese charactors and letters\n    let nL = _name.length * (pattern.test(_name) ? 2 : 1);\n    let oL = oldName.length * (pattern.test(oldName) ? 2 : 1);\n    // width: 如果当前节点显示的内容长于新建入的内容，使用当前节点的长度\n    const newData = buildNodeStyle({\n      name: nL < oL ? oldName : _name,\n      depth: NodeData.get(\"model\").depth,\n    });\n    EditInput.changeStyle(newData);\n  };\n  EditInput.handleInputBlur = (name: string) => {\n    emitter.emit(\"onAfterEdit\", {\n      name: name.replace(/\\s/g, \"\"),\n      nodeData: findData(id),\n    });\n    let _name = name.replace(/\\s/g, \"\");\n    update(id, _name === \"\" ? oldName : _name);\n    EditInput.hideInput();\n    let timer = setTimeout(() => {\n      clearTimeout(timer);\n      setIsCurrentEdit(false);\n    }, 100);\n  };\n};\nexport const update = (id: string, name: any) => {\n  IMData.update(id, typeof name === \"string\" ? { name } : name);\n  selectNode(id, true);\n  rePaint();\n};\nexport const selectNode = (id: string, selected: boolean) => {\n  cancelAllSelect();\n  globalTree.value.setItemState(id, \"selected\", selected);\n  selected && emitter.emit(\"onSelectedNode\", findData(id));\n};\nexport const cancelAllSelect = () => {\n  globalTree.value.getNodes().forEach((item) => {\n    if (item.hasState(\"selected\")) {\n      item.clearStates(\"selected\");\n    }\n  });\n};\nexport const getSelectedNodes = () => {\n  // 返回当前所有选中的节点\n  return globalTree.value\n    .getNodes()\n    .filter((item) => {\n      return item.hasState(\"selected\");\n    })\n    .map((item) => item.get(\"model\").id);\n};\nexport const deleteNode = (id: string) => {\n  IMData.removeItem(id);\n  rePaint();\n};\nexport const deleteOneNode = (id: string) => {\n  IMData.removeOneItem(id);\n  rePaint();\n};\nexport const collapse = (id: string) => {\n  //  判断如果没有子元素直接返回\n  let data = findData(id);\n  if (data.children.length <= 0) return false;\n  IMData.collapse(id);\n  emitter.emit(\"onCollapse\", findData(id));\n  rePaint();\n};\nexport const expand = (id: string) => {\n  IMData.expand(id);\n  emitter.emit(\"onExpand\", findData(id));\n  rePaint();\n};\nexport const onlyShowCurrent = (id: string) => {\n  IMData.onlyShowCurrent(id);\n  rePaint();\n};\nexport const backParent = (id: string) => {\n  IMData.backParent();\n  rePaint();\n};\nexport const reDo = () => {\n  let data = History.forword();\n  if (data) {\n    IMData.data = { ...data };\n  }\n  rePaint(false);\n};\nexport const unDo = () => {\n  let data = History.goBack();\n  if (data) {\n    IMData.data = { ...data };\n  }\n  rePaint(false);\n};\n/***\n * 将childId节点从原节点删除，移动到新的parentId节点下面\n * */\nexport const moveToChild = (childId, parentId) => {\n  const data = IMData.find(childId);\n  IMData.add(parentId, data);\n  IMData.removeItem(childId);\n  rePaint();\n};\nexport const findData = (id) => {\n  return IMData.find(id);\n};\nexport const moveData = (parentId, nodeId, index) => {\n  IMData.moveData(parentId, nodeId, index);\n  rePaint();\n};\nexport const copy = (ids) => {\n  pushData(ids.map((id) => findData(id)));\n};\nexport const cut = (ids) => {\n  pushData(ids.map((id) => findData(id)));\n  ids.forEach((id) => {\n    deleteNode(id);\n  });\n};\nexport const paste = (pid) => {\n  let data = popData();\n  if (data) {\n    data.forEach((item) => {\n      addData(pid, item);\n    });\n    rePaint();\n  }\n};\nexport const createACopy = (id) => {\n  copy([id]);\n  let d = findData(id);\n  paste(findData(id).parentId);\n  rePaint();\n};\n","import G6 from \"@antv/g6\";\nimport { centerBtn, fitBtn, downloadBtn, scaleRatio, nodeMenuList, hotkeys } from \"./variable\";\nimport {\n  addData,\n  addParent,\n  addSibling,\n  edit,\n  deleteNode,\n  collapse,\n  expand,\n  onlyShowCurrent,\n  backParent\n} from \"./tree/methods\"\nimport { NodeData } from \"./interface\";\n\nconst nodeMenuMap = {\n  add: {\n    name: 'add',\n    title: '添加子节点',\n    click: (node: NodeData) => {\n      addData(node?.id as string, \"\", true)\n    }\n  },\n  'add-parent': {\n    name: 'add-parent',\n    title: '添加父级节点',\n    click: (node: NodeData) => {\n      addParent(node?.id as string, \"\", true)\n    }\n  },\n  'add-sibling': {\n    name: 'add-sibling',\n    title: '添加兄弟节点',\n    click: (node: NodeData) => {\n      addSibling(node?.id as string, \"\", true)\n    }\n  },\n  'edit': {\n    name: 'edit',\n    title: '编辑当前节点',\n    click: (node: NodeData) => {\n      edit(node?.id as string)\n    }\n  },\n  'delete': {\n    name: 'delete',\n    title: '删除当前节点',\n    click: (node: NodeData) => {\n      deleteNode(node?.id as string)\n    }\n  },\n  'collapse': {\n    name: 'collapse',\n    title: '收起模型',\n    click: (node: NodeData) => {\n      collapse(node?.id as string)\n    }\n  },\n  'expand': {\n    name: 'expand',\n    title: '展开模型',\n    click: (node: NodeData) => {\n      expand(node?.id as string)\n    }\n  },\n  'only-show-current': {\n    name: 'only-show-current',\n    title: '进入当前节点',\n    click: (node: NodeData) => {\n      onlyShowCurrent(node?.id as string)\n    }\n  },\n  'back-parent': {\n    name: 'back-parent',\n    title: '返回上一级节点',\n    click: (node: NodeData) => {\n      backParent(node?.id as string)\n    }\n  }\n}\nconst nodeMenuClickList = {}\nconst contextMenu = () => new G6.Menu({\n  getContent(evt) {\n    if (!evt) return `div`;\n    const isCanvasTarget = evt.target && evt.target.isCanvas && evt.target.isCanvas()\n    return isCanvasTarget ? renderCanvasMenu(evt) : renderNodeMenu(evt);\n  },\n  handleMenuClick: (target, item, graph) => {\n    handleMenuClick(target, item, graph)\n  },\n  // offsetX and offsetY include the padding of the parent container\n  // 需要加上父级容器的 padding-left 16 与自身偏移量 10\n  offsetX: 10,\n  // 需要加上父级容器的 padding-top 24 、画布兄弟元素高度、与自身偏移量 10\n  offsetY: -100,\n  // the types of items that allow the menu show up\n  // 在哪些类型的元素上响应\n  itemTypes: ['node', 'canvas'],\n});\n\nfunction renderCanvasMenu(evt) {\n  return `<ul>\n               <li code=\"enlarge\">放大</li>\n               <li code=\"ensmall\">缩小</li>\n              ${fitBtn.value ? `<li code=\"fit\">缩放到合适大小</li>` : ``} \n               ${centerBtn.value ? `<li code=\"center\">缩放到屏幕中间</li>` : ``}\n               ${downloadBtn.value ? `<li code=\"download\">下载</li>` : ``}\n           </ul>`\n}\n\nfunction renderNodeMenu(evt: any) {\n  const nodeData = evt.item._cfg.model;\n  let menuList = nodeMenuList.value\n  let { depth, collapse, isSubView, children } = nodeData\n  let str = menuList.map(group => {\n    return `<ul class=\"group\">\n            ${group.map(item => {\n      if (typeof item === 'string') {\n        // 内部配置\n        let itemInfo = nodeMenuMap[item];\n        if (!itemInfo) return '';\n        if (depth === 0 && ['add-parent', 'add-sibling', 'delete'].indexOf(item) != -1) return ''\n        if (item === 'collapse' && (collapse || children.length === 0)) return ''\n        if (!collapse && item === 'expand') return ''\n        if (!isSubView && depth === 0 && item === 'only-show-current') return ''\n        if (isSubView && depth === 0 && item === 'only-show-current') itemInfo = nodeMenuMap['back-parent']\n        nodeMenuClickList[itemInfo.name] = itemInfo.click;\n        let hotkey = hotkeys.value.filter(item => item.name === itemInfo.name)[0]\n        if (hotkey) {\n          return `<li code=\"Node\" name=\"${itemInfo.name}\"><div code=\"Node\" name=\"${itemInfo.name}\">${itemInfo.title}</div><div class=\"small-tip\" code=\"Node\" name=\"${itemInfo.name}\">${hotkey.control ? `${hotkey.control}+` : ''}${hotkey.key}</div></li>`\n        } else {\n          return `<li code=\"Node\" name=\"${itemInfo.name}\">${itemInfo.title}</li>`\n        }\n      } else if (typeof item === 'object' && item.title) {\n        // 外部配置\n        nodeMenuClickList[item.name] = item.click;\n        return `<li code=\"Node\" name=\"${item.name}\">${item.title}</li>`\n      } else {\n        return ''\n      }\n    }).join('')}\n        </ul>`\n  }).join('')\n  return str\n}\n\nfunction handleMenuClick(target, item, graph) {\n  if (target.getAttribute('code') === 'enlarge') {\n    graph.zoom(1.2, { x: graph.getWidth() / 2, y: graph.getHeight() / 2 });\n  } else if (target.getAttribute('code') === 'ensmall') {\n    graph.zoom(0.8, { x: graph.getWidth() / 2, y: graph.getHeight() / 2 });\n  } else if (target.getAttribute('code') === 'fit') {\n    graph.layout(true)\n  } else if (target.getAttribute('code') === 'center') {\n    graph.fitCenter()\n    graph.zoomTo(scaleRatio.value, {\n      x: graph.getWidth() / 2,\n      y: graph.getHeight() / 2\n    })\n  } else if (target.getAttribute('code') === 'download') {\n    graph.downloadFullImage('mindmap_' + Date.now(), 'image/jpeg', {\n      backgroundColor: '#ddd',\n      padding: [30, 15, 15, 15],\n    });\n  } else if (target.getAttribute('code') === 'Node') {\n    let name = target.getAttribute('name');\n    if (name) {\n      nodeMenuClickList[name](item.get('model'), item, graph)\n    }\n  }\n}\n\nexport default contextMenu\n","import G6 from \"@antv/g6\";\nimport { timetravel, centerBtn, fitBtn, downloadBtn, scaleR, scaleRatio, themeColor } from \"./variable\";\n// 小地图\nexport const mindmap = () => new G6.Minimap({\n  size: [100, 100],\n  className: 'mindmap-miniGap',\n  viewportClassName: 'mindmap-miniGap-viewPort',\n  type: 'delegate',\n  delegateStyle: {\n    fill: themeColor.value,\n    stroke: themeColor.value\n  }\n})\n// 工具栏\nexport const toolbar = () => new G6.ToolBar({\n  className: 'mindmap-toolbar',\n  getContent: () => {\n    return `\n<div>\n${timetravel.value ? `\n<div class=\"mindmap-toolbar-top\">\n<ul class='mindmap-toolbar'>\n        <li class='mindmap-toolbar-list_item' code='undo' title=\"撤销\"><i class=\"icon-undo\"></i></li>\n        <li class='mindmap-toolbar-list_item' code='redo' title=\"恢复\"><i class=\"icon-redo\"></i></li>\n      </ul>\n</div>` : ''}\n<div class=\"mindmap-toolbar-bottom\">\n<ul class='mindmap-toolbar'>\n        ${downloadBtn.value ? `<li class='mindmap-toolbar-list_item' code='download' title=\"下载图片\"><i class=\"icon-download\"></i></li>` : ''}\n        ${centerBtn.value ? `<li class='mindmap-toolbar-list_item' code='center' title=\"缩放到屏幕中心\"><i class=\"icon-center\"></i>缩放到画布中心</li>` : ''}\n        ${fitBtn.value ? `<li class='mindmap-toolbar-list_item' code='fit' title=\"缩放到合适比例\"><i class=\"icon-fit\"></i></li>` : ''}\n      </ul>\n</div>\n</div>\n    `;\n  },\n  handleClick: (code, graph) => {\n    switch (code) {\n      case\n        'undo'\n        :\n        toolbar.undo();\n        break;\n      case\n        'redo'\n        :\n        toolbar.redo();\n        break;\n      case\n        'download'\n        :\n        graph.downloadFullImage('mindmap_' + Date.now(), 'image/jpeg', {\n          backgroundColor: '#ddd',\n          padding: [30, 15, 15, 15],\n        });\n        break;\n      case\n        'fit'\n        :\n        graph.layout(true);\n        break;\n      case\n        'center'\n        :\n        graph.fitCenter()\n        graph.zoomTo(scaleRatio.value, {\n          x: graph.getWidth() / 2,\n          y: graph.getHeight() / 2\n        })\n        break;\n    }\n  }\n});\n\n// tooltip\nexport const tooltip = {\n  type: 'tooltip',\n  formatText(model) {\n    return model.content || model.desc || model.fullName;\n  },\n  offset: 10,\n}\n","import G6, { IGroup, IShape } from \"@antv/g6\";\nimport {\n  themeColor,\n  radius,\n  paddingH,\n  paddingV,\n  branch,\n  branchColor,\n  fontColor_root,\n  hoverStrokeColor,\n  activeStrokeColor,\n  isCurrentEdit\n} from \"../variable\";\n\nenum textBaseline {\n  top = \"top\"\n}\n\nconst {\n  Util\n} = G6;\n\nfunction drawHandleBtn(group: IGroup, cfg, type) {\n  const { style: { width, height, opacity = 1 }, _children } = cfg\n  const fontSize = 14\n  const text = {\n    'add': '+',\n    'collapse': '<',\n    'expand': _children.length + '' || '0'\n  }[type]\n  const widthHeight = Util.getTextSize(text, fontSize);\n  const isExpand = type === 'expand';\n  const r = widthHeight[0] / 2 + 4\n  const lineStyle = isExpand ? {\n    x: width + 1,\n    y: height / 2 - 1,\n    width: 10,\n    height: 2,\n    fill: themeColor.value,\n    opacity\n  } : { width: 0 }\n  const handleStyle = {\n    x: width,\n    y: 0,\n    width: widthHeight[0] + lineStyle.width + r + 3,\n    height,\n    fill: 'transparent'\n  }\n  const fill = isExpand ? 'transparent' : themeColor.value\n  const stroke = isExpand ? themeColor.value : 'transparent'\n  const textColor = isExpand ? themeColor.value : fontColor_root.value\n  const visible = isExpand ? true : false\n  const circleStyle = {\n    x: width + lineStyle.width + r + 3,\n    y: height / 2,\n    r,\n    fill,\n    stroke,\n    lineWidth: 2,\n    cursor: 'pointer',\n    opacity\n  }\n  const textStyle = {\n    x: width + lineStyle.width + r - widthHeight[0] / 2 + 3,\n    y: height / 2 - r / 2 - 4,\n    text,\n    fill: textColor,\n    fontSize,\n    fontWeight: 600,\n    textBaseline: textBaseline.top,\n    cursor: 'pointer',\n    opacity\n  }\n  const container = group.addGroup({ name: type, visible, capture: true, action: type })\n  container?.addShape('rect', { attrs: lineStyle })\n  container?.addShape('rect', { attrs: handleStyle })\n  container?.addShape('circle', { attrs: circleStyle, action: type })\n  container?.addShape('text', { attrs: textStyle, action: type })\n}\n\nfunction getAttribute(cfg) {\n  const { style: { width, height, nameHeight, nameLineHeight, fontSize, descFontSize, descHeight, FillColor, FontColor, opacity = 1, stroke, strokeColor } } = cfg\n  const RectStyle = {\n    x: 0,\n    y: 0,\n    width,\n    height,\n    radius,\n    fill: FillColor,\n    cursor: 'pointer',\n    stroke: strokeColor,\n    lineWidth: stroke,\n    opacity\n  }\n  const TextStyle = {\n    x: paddingV,\n    y: paddingH,\n    text: cfg?.label,\n    fill: FontColor,\n    fontSize: fontSize,\n    textBaseline: textBaseline.top,\n    cursor: 'pointer',\n    fontWeight: 600,\n    lineHeight: nameLineHeight,\n    opacity\n  }\n  const DescWrapper = {\n    x: 0,\n    y: nameHeight,\n    width,\n    height: descHeight,\n    radius: [0, 0, radius, radius],\n    fill: \"rgba(255,255,255,0.3)\",\n    cursor: 'pointer',\n    stroke: 'transparent',\n    lineWidth: 2,\n    opacity\n  }\n  const DescText = {\n    x: paddingV,\n    y: paddingV + nameHeight,\n    text: cfg?.desc,\n    fill: FontColor,\n    fontSize: descFontSize,\n    textBaseline: textBaseline.top,\n    cursor: 'pointer',\n    lineHeight: paddingV + descFontSize,\n    opacity\n  }\n  return { RectStyle, TextStyle, DescWrapper, DescText }\n}\n\nfunction buildNode(cfg, group) {\n  const { RectStyle, TextStyle, DescWrapper, DescText } = getAttribute(cfg);\n  const { depth, collapse } = cfg\n  const container = group?.addShape('rect', { attrs: RectStyle, name: `wrapper`, zIndex: 0, draggable: depth > 0 }) as IShape\n  group?.addShape('text', { attrs: TextStyle, name: `title`, zIndex: 1, draggable: depth > 0 })\n  if (cfg.desc) {\n    group?.addShape('rect', { attrs: DescWrapper, name: `desc-wrapper`, zIndex: 0, draggable: depth > 0 })\n    group?.addShape('text', { attrs: DescText, name: `desc`, zIndex: 1, draggable: depth > 0 })\n  }\n  //  绘制操作按钮\n  drawHandleBtn(group, cfg, 'add')\n  if (cfg.children.length > 0 || cfg._children.length > 0) {\n    drawHandleBtn(group, cfg, collapse ? 'expand' : 'collapse')\n  }\n  return container\n}\nconst getNode = (group, name) => group.get('children').filter(t => t.get('name') === name)[0]\nconst getCollapseBtn = group => getNode(group, 'collapse')\nconst getWrapper = group => getNode(group, 'wrapper')\nconst getAddBtn = group => getNode(group, 'add')\nlet timer;\nfunction handleNodeHover(state, node) {\n  // 鼠标移上显示折叠按钮\n  if (isCurrentEdit.value) return\n  const group = node.getContainer();\n  const isCurrentSelected = node.hasState('selected');\n  let collapseBtn = getCollapseBtn(group)\n  const visible = state && !isCurrentSelected;\n  collapseBtn && collapseBtn[visible ? 'show' : 'hide']()\n  // 节点hover状态\n  let wrapper = getWrapper(group)\n  let hoverColor = 'transparent';\n  if (state && !isCurrentSelected) hoverColor = hoverStrokeColor.value;\n\n  //  如果当前节点不是选中状态才操作hover状态\n  if (!isCurrentSelected) {\n    wrapper?.attr('stroke', hoverColor);\n  }\n}\n\nfunction handleNodeSelected(state, node) {\n  // 选中节点置于最上方\n  node[state ? 'toFront' : 'toBack']()\n  // 选中的节点显示添加按钮\n  const group = node.getContainer();\n  let addBtn = getAddBtn(group)\n  let collapseBtn = getCollapseBtn(group)\n  collapseBtn?.hide()\n  // 非折叠状态显示添加按钮\n  if (!(node.get('model').collapse && node.get('model')._children.length)) {\n    addBtn?.[state ? 'show' : 'hide']()\n  }\n  if (isCurrentEdit.value) addBtn?.hide()\n  // 设置节点边框颜色\n  let wrapper = group.get('children').filter(t => t.get('name') === 'wrapper')[0]\n  wrapper?.attr('stroke', state ? activeStrokeColor.value : 'transparent')\n}\n\n// 根节点\nG6.registerNode(\n  'mindmap-node', {\n  draw(cfg, group): IShape {\n    const container = buildNode(cfg, group);\n    return container;\n  },\n  setState(name, state, node) {\n    if (name === 'hover') handleNodeHover(state, node)\n    if (name === 'selected') handleNodeSelected(state, node)\n  },\n  getAnchorPoints() {\n    return [\n      [0, 0.5],\n      [1, 0.5],\n    ];\n  },\n}\n);\nG6.registerEdge('hvh', {\n  draw(cfg, group) {\n    if (!cfg || !group) return\n    const startPoint = cfg.startPoint;\n    const endPoint = cfg.endPoint;\n    let dist = endPoint.y < startPoint.y ? 10 : -10;\n    if (endPoint.y === startPoint.y) {\n      dist = 0;\n    }\n    const shape = group.addShape('path', {\n      attrs: {\n        cursor: 'pointer',\n        stroke: branchColor.value,\n        lineWidth: branch.value,\n        opacity: cfg.style.opacity == null ? 1 : cfg.style.opacity,\n        path: [\n          ['M', startPoint.x, startPoint.y],\n          ['L', endPoint.x / 3 + (2 / 3) * (startPoint.x), startPoint.y], // 三分之一处\n          ['L', endPoint.x / 3 + (2 / 3) * (startPoint.x), startPoint.y + (endPoint.y - startPoint.y) + dist],\n          ['Q', endPoint.x / 3 + (2 / 3) * (startPoint.x), startPoint.y + (endPoint.y - startPoint.y), endPoint.x / 3 + (2 / 3) * (startPoint.x) + 10, endPoint.y], // 三分之二处\n          ['L', endPoint.x, endPoint.y],\n        ],\n      },\n      // must be assigned in G6 3.3 and later versions. it can be any value you want\n      name: 'path-shape',\n      zIndex: 0,\n    });\n    return shape;\n  },\n});\n","import G6 from \"@antv/g6\";\nimport {\n  cancelAllSelect,\n  edit,\n  expand,\n  findData,\n  moveData,\n  selectNode,\n  getSelectedNodes,\n  collapse,\n  addData,\n} from \"./methods\";\nimport {\n  branch,\n  branchColor,\n  globalFontSize,\n  globalTree,\n  maxFontCount,\n  paddingH,\n  radius,\n  themeColor,\n  lineType,\n  isCurrentEdit,\n  isDragging,\n  setIsDragging,\n  hotkeys,\n} from \"../variable\";\nimport emitter from \"../mitt\";\nG6.registerBehavior(\"edit-mindmap\", {\n  selectNodeId: null,\n  dragNodeId: null,\n  nodePosition: {},\n  dragStatus: \"\",\n  upClientInfo: [],\n  getEvents() {\n    return {\n      \"node:click\": \"clickNode\",\n      \"node:dblclick\": \"editNode\",\n      \"node:mouseover\": \"hoverNode\",\n      \"node:mouseleave\": \"clearHoverStatus\",\n      \"node:dragstart\": \"dragStart\",\n      \"node:contextmenu\": \"selectNode\",\n      \"canvas:click\": \"clickCanvas\",\n    };\n  },\n  clickCanvas(evt) {\n    cancelAllSelect();\n  },\n  clickNode(evt) {\n    const tree = evt.currentTarget;\n    const node = evt.item;\n    const model = evt.item.get(\"model\");\n    const name = evt.target.get(\"action\");\n    if (name === \"expand\") {\n      expand(model.id);\n    } else if (name === \"collapse\") {\n      collapse(model.id);\n    } else if (name === \"add\") {\n      addData(model?.id as string, \"\", true);\n    } else if (node.hasState(\"selected\")) {\n      // 判断如果当前节点时选中节点，那么编辑节点\n      edit(model.id);\n    } else {\n      selectNode(model.id, !model.isCurrentSelected);\n    }\n  },\n  selectNode(evt) {\n    const model = evt.item.get(\"model\");\n    selectNode(model.id, !model.isCurrentSelected);\n  },\n  editNode(evt) {\n    const item = evt.item;\n    const model = item.get(\"model\");\n    edit(model.id);\n  },\n  hoverNode(evt) {\n    const { currentTarget: tree, item: node } = evt;\n    if (isDragging.value) return;\n    tree.setItemState(node, \"hover\", true);\n    node.toFront();\n    tree.paint();\n  },\n  clearHoverStatus(evt) {\n    let { currentTarget: tree, item: node } = evt;\n    tree.setItemState(node, \"hover\", false);\n    tree.paint();\n  },\n  dragStart(evt) {\n    // 拖拽的节点及其所有子节点设置drag state 为true\n    const { currentTarget: tree, item: node, clientX, clientY } = evt;\n    const id = node.get(\"model\").id;\n    setIsDragging(true);\n    this.dragNodeId = id;\n    const _dragnode = tree.findById(this.dragNodeId);\n    //  拖拽开始的时候，需要将节点的hover状态取消掉\n    tree.setItemState(id, \"hover\", false);\n    document.documentElement.style.cursor = \"grabbing\";\n    tree.getNodes().forEach((node) => {\n      const nodeId = node.get(\"id\");\n      const { x: pointX, y: pointY, width, height } = node.getBBox();\n      let { x: clientX, y: clientY } = tree.getClientByPoint(pointX, pointY);\n      let model = node.get(\"model\");\n      const ratio = tree.getZoom();\n      // 记录节点位置\n      this.nodePosition[nodeId] = {\n        clientX,\n        clientY,\n        width: width * ratio,\n        height: height * ratio,\n        depth: model.depth,\n        parentId: model.parentId,\n        sameLevel: model.depth === _dragnode.get(\"model\").depth,\n      };\n      // 修改拖拽节点及其所有子节点的样式\n      if (nodeId.indexOf(this.dragNodeId) === 0) {\n        tree.updateItem(node, {\n          // 节点的样式\n          style: {\n            opacity: 0.2,\n          },\n        });\n        node.get(\"edges\").forEach((edge) => {\n          tree.updateItem(edge, {\n            // 节点的样式\n            style: {\n              opacity: 0.2,\n            },\n          });\n        });\n      }\n    });\n    this.showDragDiv(clientX, clientY);\n    let ratio = tree.getZoom();\n    window.onmousemove = (ev) =>\n      this.dragNode.call(this, {\n        tree,\n        clientX: ev.clientX,\n        clientY: ev.clientY,\n        width: (40 * ratio) / 2,\n        height: (20 * ratio) / 2,\n      });\n    window.onmouseup = (ev) =>\n      this.dragEnd.call(this, {\n        tree,\n        clientX: ev.clientX,\n        clientY: ev.clientY,\n      });\n  },\n  dragNode({ tree, clientX, clientY, width, height }) {\n    if (!isDragging.value) return;\n    let nodePosition = this.nodePosition;\n    let nodes = [];\n    for (let nodeId in nodePosition) {\n      let node = nodePosition[nodeId];\n      /**\n       * 完全碰撞： 符合条件即为两个节点完全重合，拖拽节点将成为重合节点的子级\n       * */\n      let size =\n        (globalFontSize[node.depth] || 12) * maxFontCount +\n        paddingH * 4 +\n        width * 4; // 最大横向距离=最大节点宽度+两个拖拽节点的宽度\n      let parentNode = findData(node.parentId);\n      let firstNode = node;\n      let lastNode = node;\n      if (parentNode.children.length) {\n        firstNode = nodePosition[parentNode.children[0].id];\n        lastNode =\n          nodePosition[parentNode.children[parentNode.children.length - 1].id];\n      }\n      let coditionH_inner =\n        clientX - width > node.clientX - width * 2 &&\n        clientX + width < node.clientX + node.width + width * 2;\n      let coditionV_inner =\n        clientY - height > node.clientY - height * 2 &&\n        clientY + height < node.clientY + node.height + height * 2;\n      let coditionH_outer =\n        clientX - width > node.clientX - width * 2 &&\n        clientX + width < node.clientX + size + width * 2;\n      let coditionV_outer =\n        clientY - height > firstNode.clientY - height * 2 &&\n        clientY + height < lastNode.clientY + lastNode.height + height * 2; // 所有节点的纵向区域\n      if (coditionH_inner && coditionV_inner) {\n        // 拖拽节点与树节点有重合部分\n        nodes.push({\n          nodeId: nodeId,\n          inner: true,\n          depth: node.depth,\n          index: +nodeId.split(\"-\").pop(),\n          sameLevel: true,\n          parentId: node.parentId,\n        });\n      } else if (coditionH_outer && coditionV_inner) {\n        //     超出节点但在最大节点宽度范围内，高度在节点范围内\n        nodes.push({\n          nodeId: nodeId,\n          inner: false,\n          depth: node.depth,\n          index: +nodeId.split(\"-\").pop(),\n          sameLevel: false,\n          parentId: node.parentId,\n        });\n      } else if (\n        coditionH_inner &&\n        coditionV_outer &&\n        clientX - width > node.clientX &&\n        nodeId != node.parentId\n      ) {\n        // 拖拽节点在允许选中范围\n        nodes.push({\n          nodeId: nodeId,\n          inner: false,\n          depth: node.depth,\n          index: +nodeId.split(\"-\").pop(),\n          sameLevel: true,\n          parentId: node.parentId,\n        });\n      }\n    }\n    if (nodes.length) {\n      // 有重合节点,可能有多个符合条件的节点\n      let node = nodes.filter(\n        (node) => node.inner || (!node.inner && !node.sameLevel)\n      ) as any;\n      if (node.length > 1) {\n        node.sort((a, b) => {\n          if (a.depth === b.depth) {\n            return a.index - b.index;\n          } else {\n            return b.depth - a.depth;\n          }\n        });\n      }\n      if (nodes.length > 1) {\n        nodes.sort((a, b) => {\n          if (a.depth === b.depth) {\n            return a.index - b.index;\n          } else {\n            return b.depth - a.depth;\n          }\n        });\n      }\n      node = node.length ? node[0] : nodes[0];\n      let nodeId = node.sameLevel ? node.parentId : node.nodeId;\n      if (nodeId.indexOf(this.dragNodeId) != -1) {\n        cancelAllSelect();\n        this.selectNodeId = null;\n        this.showDragDiv(clientX, clientY, false, null);\n        this.dragStatus = \"\";\n        return; // 如果是拖拽节点或者拖拽子级，直接返回\n      }\n      selectNode(nodeId, true);\n      this.selectNodeId = nodeId;\n      this.showDragDiv(clientX, clientY, true, nodeId);\n      this.dragStatus = \"child\";\n      this.upClientInfo = [clientX, clientY];\n    } else {\n      cancelAllSelect();\n      this.selectNodeId = null;\n      this.showDragDiv(clientX, clientY, false, null);\n      this.dragStatus = \"\";\n    }\n  },\n  dragEnd({ tree }) {\n    if (!isDragging.value) return;\n    setIsDragging(false);\n    document.documentElement.style.cursor = \"default\";\n    this.hideDragDiv();\n    if (this.dragStatus !== \"\" && this.selectNodeId) {\n      const parentNode = tree.findDataById(this.selectNodeId);\n      let index = 0;\n      for (let i = 0, len = parentNode.children.length; i < len; i++) {\n        let node = parentNode.children[i];\n        if (node.id === this.dragNodeId) continue;\n        if (this.nodePosition[node.id].clientY < this.upClientInfo[1]) {\n          index++;\n        } else {\n          break;\n        }\n      }\n      emitter.emit(\"onDragEnd\", [\n        findData(this.dragNodeId),\n        findData(this.selectNodeId),\n        index,\n      ]);\n      moveData(this.selectNodeId, this.dragNodeId, index);\n    }\n    //    还原\n    tree.getNodes().forEach((node) => {\n      const nodeId = node.get(\"id\");\n      // 修改拖拽节点及其所有子节点的样式\n      tree.updateItem(node, {\n        // 节点的样式\n        style: {\n          opacity: 1,\n        },\n      });\n      node.get(\"edges\").forEach((edge) => {\n        tree.updateItem(edge, {\n          // 节点的样式\n          style: {\n            opacity: 1,\n          },\n        });\n      });\n    });\n    cancelAllSelect();\n    this.selectNodeId = null;\n    this.dragStatus = \"\";\n    this.nodePosition = {};\n    window.onmousemove = null;\n    window.onmouseup = null;\n  },\n  showDragDiv(clientX, clientY, showLine, parentId) {\n    const tree = globalTree.value;\n    const { x, y } = tree.getPointByClient(clientX, clientY);\n    const model = {\n      id: \"moveNode\",\n      label: \"\",\n      x,\n      y,\n      type: \"rect\",\n      zIndex: 3,\n      style: {\n        width: 40,\n        height: 20,\n        fill: themeColor.value,\n        radius: radius,\n        opacity: 0.6,\n        cursor: \"grabbing\",\n      },\n    };\n    const edgeOption = {\n      id: \"moveNodeEdge\",\n      source: parentId || \"0\",\n      target: \"moveNode\",\n      type: lineType.value,\n      zIndex: 3,\n      style: {\n        stroke: branchColor.value,\n        lineWidth: branch.value,\n        opacity: showLine ? 0.6 : 0,\n        cursor: \"grabbing\",\n      },\n    };\n    const moveNode = tree\n      .getNodes()\n      .filter((item) => item.get(\"id\") === \"moveNode\");\n    const moveEdge = tree\n      .getEdges()\n      .filter((item) => item.get(\"id\") === \"moveNodeEdge\");\n    if (moveNode.length && moveEdge.length) {\n      tree.updateItem(moveNode[0], model);\n      tree.updateItem(moveEdge[0], edgeOption);\n    } else {\n      tree.addItem(\"node\", model);\n      tree.addItem(\"edge\", edgeOption);\n    }\n    return { moveNode: moveNode[0] };\n  },\n  hideDragDiv() {\n    const tree = globalTree.value;\n    const moveNode = tree\n      .getNodes()\n      .filter((item) => item.get(\"id\") === \"moveNode\");\n    if (moveNode.length) {\n      tree.removeItem(moveNode[0]);\n    }\n  },\n});\n\nG6.registerBehavior(\"double-finger-drag-canvas\", {\n  getEvents: function getEvents() {\n    return {\n      wheel: \"onWheel\",\n    };\n  },\n\n  onWheel: function onWheel(ev) {\n    const graph = globalTree.value;\n    if (ev.ctrlKey) {\n      const canvas = graph.get(\"canvas\");\n      const point = canvas.getPointByClient(ev.clientX, ev.clientY);\n      let ratio = graph.getZoom();\n      if (ev.wheelDelta > 0) {\n        ratio = ratio + ratio * 0.05;\n      } else {\n        ratio = ratio - ratio * 0.05;\n      }\n      graph.zoomTo(ratio, {\n        x: point.x,\n        y: point.y,\n      });\n    } else {\n      const x = ev.deltaX || ev.movementX;\n      let y = ev.deltaY || ev.movementY;\n      if (!y && navigator.userAgent.indexOf(\"Firefox\") > -1)\n        y = (-ev.wheelDelta * 125) / 3;\n      graph.translate(-x, -y);\n    }\n    ev.preventDefault();\n  },\n});\n\nG6.registerBehavior(\"my-shortcut\", {\n  focusCanvasId: \"mxs-mindmap_container\",\n  getEvents: function getEvents() {\n    return {\n      keydown: \"handleKeydown\",\n    };\n  },\n  handleKeydown(evt) {\n    if (\n      document.activeElement?.id !== this.focusCanvasId ||\n      isCurrentEdit.value\n    )\n      return;\n    const { key, shiftKey, ctrlKey, altKey, metaKey } = evt;\n    let handler = hotkeys.value.filter((item) => item.key === key);\n    if (shiftKey || ctrlKey || altKey || metaKey) {\n      if (shiftKey) {\n        handler = handler.filter((item) => item.control?.indexOf(\"shift\") > -1);\n      }\n      if (ctrlKey) {\n        handler = handler.filter((item) => item.control?.indexOf(\"ctrl\") > -1);\n      }\n      if (metaKey) {\n        handler = handler.filter((item) => item.control?.indexOf(\"cmd\") > -1);\n      }\n      if (altKey) {\n        handler = handler.filter((item) => item.control?.indexOf(\"alt\") > -1);\n      }\n    } else if (handler.length === 1 && handler[0].control) {\n      handler = [];\n    }\n    if (isCurrentEdit.value) return;\n    if (!handler.length) {\n      //  未识别到快捷键键入\n      let selectNodeId = getSelectedNodes()[0];\n      if (selectNodeId) {\n        edit(selectNodeId, true);\n      }\n    } else {\n      // 识别到快捷键，处理快捷键\n      evt.preventDefault(); // 禁止默认事件\n      handler[0].Event.call(this, getSelectedNodes());\n    }\n  },\n});\n","import G6, { GraphData, TreeGraph, TreeGraphData } from \"@antv/g6\";\nimport IMData from \"../data\";\nimport contextMenu from \"../menu\";\nimport { NodeData, InputData } from \"../interface\";\nimport { mindmap, toolbar, tooltip } from \"../plugins\";\nimport {\n  branch,\n  branchColor,\n  changeBranch,\n  changeBranchColor,\n  changeCenterBtn,\n  changeDownloadBtn,\n  changeFitBtn,\n  changeLeafFontColor,\n  changeLeafThemeColor,\n  changeRootFontColor,\n  changeScaleRatio,\n  changeSubFontColor,\n  changeSubThemeColor,\n  changeThemeColor,\n  changeTimetravel,\n  globalTree,\n  lineType,\n  paddingH,\n  paddingV,\n  setGlobalTree,\n  setLineType,\n} from \"../variable\";\nimport \"./registerNode\"; // 自定义节点形状\nimport \"./registerBehavior\";\nimport { INode } from \"@antv/g6-core/lib/interface/item\"; // 自定义交互\nconst { Util } = G6;\n\ninterface Window {\n  mindTree?: TreeGraph;\n}\n\ninterface layoutConfig {\n  xGap?: number;\n  yGap?: number;\n  direction?: string;\n  sharpCorner?: boolean; // 直角边框\n  branch?: number;\n  branchColor?: string;\n  themeColor?: string;\n  rootFontColor?: string;\n  subThemeColor?: string;\n  subFontColor?: string;\n  scaleExtent?: string;\n  leafThemeColor?: string;\n  leafFontColor?: string;\n  scaleRatio?: number;\n  tooltip?: boolean;\n  edit?: boolean;\n  drag?: boolean;\n  zoom?: boolean;\n  centerBtn?: boolean;\n  fitBtn?: boolean;\n  downloadBtn?: boolean;\n  timetravel?: boolean;\n  mindmap?: boolean;\n  addNodeBtn?: boolean;\n  collapseBtn?: boolean;\n  watchResize?: boolean;\n}\n\ninterface Variable {\n  branch?: number;\n  branchColor?: string;\n  rootFontColor?: string;\n  subFontColor?: string;\n  subThemeColor?: string;\n  themeColor?: string;\n  timetravel?: boolean;\n  centerBtn?: boolean;\n  fitBtn?: boolean;\n  downloadBtn?: boolean;\n  scaleRatio?: number;\n  lineType?: string;\n  leafThemeColor?: string;\n  leafFontColor?: string;\n}\n\nclass Tree {\n  container: HTMLElement | null;\n  data: NodeData | GraphData | TreeGraphData | undefined;\n  tree: TreeGraph | null;\n\n  constructor(containerId: string, data: InputData | InputData[]) {\n    this.container = document.getElementById(containerId);\n    this.data = data;\n    this.tree = null;\n  }\n\n  createLayoutConfig(layoutConfig?: layoutConfig) {\n    if (layoutConfig) {\n      let {\n        branch,\n        branchColor,\n        rootFontColor,\n        subFontColor,\n        subThemeColor,\n        themeColor,\n        leafThemeColor,\n        leafFontColor,\n        timetravel,\n        centerBtn,\n        fitBtn,\n        downloadBtn,\n        scaleRatio,\n      } = layoutConfig;\n      this.changeVariable({\n        branch,\n        branchColor,\n        rootFontColor,\n        subFontColor,\n        subThemeColor,\n        themeColor,\n        timetravel,\n        centerBtn,\n        fitBtn,\n        downloadBtn,\n        scaleRatio,\n        leafThemeColor,\n        leafFontColor,\n        lineType: layoutConfig?.sharpCorner ? \"hvh\" : \"cubic-horizontal\",\n      });\n    }\n    const config = {\n      width: this.container?.scrollWidth,\n      height: this.container?.scrollHeight ?? 0 - 20,\n      layout: {\n        type: \"compactBox\",\n        direction: \"H\",\n        getHeight: (node: NodeData) => {\n          return node.style.height;\n        },\n        getWidth: (node: NodeData) => {\n          return node.style.width;\n        },\n        getVGap: () => {\n          return layoutConfig?.yGap || 10;\n        },\n        getHGap: () => {\n          return layoutConfig?.xGap || 30;\n        },\n        getSide: (node: INode) => {\n          return \"right\";\n        },\n      },\n      defaultEdge: {\n        type: layoutConfig?.sharpCorner ? \"hvh\" : \"cubic-horizontal\",\n        style: {\n          lineWidth: branch.value,\n          stroke: branchColor.value,\n        },\n      },\n      scaleRatio: layoutConfig?.scaleRatio || 1,\n      modes: {\n        default: [],\n        edit: [\"edit-mindmap\"],\n      },\n      plugins: [] as any,\n      groupByTypes: false,\n    };\n    const plugins = [];\n    plugins.push(toolbar());\n    if (layoutConfig?.mindmap) {\n      plugins.push(mindmap());\n    }\n    if (layoutConfig?.edit) {\n      plugins.push(contextMenu());\n    }\n    config.plugins = plugins;\n    return config;\n  }\n\n  async init(layoutConfig?: layoutConfig) {\n    if (!this.container) return;\n    const config = this.createLayoutConfig(layoutConfig);\n    const data = IMData.init(\n      this.data instanceof Array ? this.data[0] : this.data,\n      true\n    );\n    const tree = new G6.TreeGraph({\n      ...config,\n      container: this.container,\n      animate: false,\n      renderer: \"canvas\",\n    });\n    tree.data(data);\n    this.tree = tree;\n    tree.layout();\n    tree.fitCenter();\n    tree.zoomTo(config.scaleRatio, {\n      x: tree.getWidth() / 2,\n      y: tree.getHeight() / 2,\n    });\n    tree.setAutoPaint(true);\n    this.enableFeature(layoutConfig);\n    let global = window as Window;\n    global.mindTree = tree;\n    global.mindTree.version = '2.0.0';\n    setGlobalTree(tree);\n    this.bindEvent(tree);\n    return tree;\n  }\n\n  changeSize(width, height) {\n    this.tree.changeSize(width, height);\n    this.tree.fitCenter();\n  }\n\n  bindEvent(tree) {}\n\n  enableFeature(layoutConfig?: layoutConfig) {\n    if (layoutConfig?.tooltip) {\n      this.addBehaviors(tooltip);\n    }\n    if (layoutConfig?.edit) {\n      this.changeEditMode(true);\n      this.addBehaviors(\"my-shortcut\");\n    }\n    if (layoutConfig?.drag) {\n      this.addBehaviors(\"drag-canvas\");\n    }\n    if (layoutConfig?.zoom) {\n      this.addBehaviors(\"double-finger-drag-canvas\");\n    }\n  }\n\n  changeVariable({\n    branch,\n    branchColor,\n    rootFontColor,\n    subFontColor,\n    subThemeColor,\n    themeColor,\n    timetravel,\n    centerBtn,\n    fitBtn,\n    downloadBtn,\n    scaleRatio,\n    lineType,\n    leafThemeColor,\n    leafFontColor,\n  }: Variable) {\n    branch && changeBranch(branch);\n    branchColor && changeBranchColor(branchColor);\n    rootFontColor && changeRootFontColor(rootFontColor);\n    subFontColor && changeSubFontColor(subFontColor);\n    subThemeColor && changeSubThemeColor(subThemeColor);\n    themeColor && changeThemeColor(themeColor);\n    timetravel && changeTimetravel(timetravel);\n    centerBtn && changeCenterBtn(centerBtn);\n    fitBtn && changeFitBtn(fitBtn);\n    downloadBtn && changeDownloadBtn(downloadBtn);\n    scaleRatio && changeScaleRatio(scaleRatio);\n    lineType && setLineType(lineType);\n    leafThemeColor && changeLeafThemeColor(leafThemeColor);\n    leafFontColor && changeLeafFontColor(leafFontColor);\n  }\n\n  changeLayout(layoutConfig?: layoutConfig) {\n    const config = this.createLayoutConfig(layoutConfig);\n    this.tree?.updateLayout(config);\n  }\n\n  addBehaviors(behavior: any, modeType?: string) {\n    if (modeType) {\n      this.tree?.addBehaviors(behavior, modeType);\n    } else {\n      this.tree?.addBehaviors(behavior, \"default\");\n      this.tree?.addBehaviors(behavior, \"edit\");\n    }\n  }\n\n  removeBehaviors(behavior: any, modeType: string) {\n    if (modeType) {\n      this.tree?.removeBehaviors(behavior, modeType);\n    } else {\n      this.tree?.removeBehaviors(behavior, \"default\");\n      this.tree?.removeBehaviors(behavior, \"edit\");\n    }\n  }\n\n  changeEditMode(edit: boolean) {\n    if (edit) {\n      this.tree?.setMode(\"edit\");\n    } else {\n      this.tree?.setMode(\"default\");\n    }\n  }\n\n  reBuild(layoutConfig?: layoutConfig) {\n    this.tree?.destroy();\n    this.init(layoutConfig);\n  }\n\n  destroy() {\n    this.tree?.destroy();\n  }\n}\n\nexport default Tree;\n","import editInput from \"../editInput\";\nimport { addData, addParent, addSibling, copy, deleteNode, paste, createACopy, cut, unDo, reDo, edit } from \"./methods\";\nvar isMac = function () {\n  return /macintosh|mac os x/i.test(navigator.userAgent);\n}();\nvar defaultHotKey = [\n  {\n    key: 'Enter',\n    label: '插入同级节点',\n    Event: function (selectedNodes) {\n      if (selectedNodes?.length != 1) return;\n      addSibling(selectedNodes[0], \"\")\n    },\n    name: 'add-sibling', // 右键菜单匹配值\n  },\n  {\n    key: 'Tab',\n    label: '插入子节点',\n    Event: function (selectedNodes) {\n      if (selectedNodes?.length != 1) return;\n      addData(selectedNodes[0], \"\")\n    },\n    name: 'add', // 右键菜单匹配值\n  },\n  {\n    key: 'Tab',\n    control: 'shift',\n    label: '插入父节点',\n    Event: function (selectedNodes) {\n      if (selectedNodes?.length != 1) return;\n      addParent(selectedNodes[0], \"\")\n    },\n    name: 'add-parent', // 右键菜单匹配值\n  },\n  {\n    key: 'c',\n    control: isMac ? 'cmd' : 'ctrl',\n    label: '复制',\n    Event: function (selectedNodes) {\n      if (!selectedNodes?.length) return;\n      copy(selectedNodes)\n    },\n    name: 'copy', // 右键菜单匹配值\n  },\n  {\n    key: 'x',\n    control: isMac ? 'cmd' : 'ctrl',\n    label: '剪切',\n    Event: function (selectedNodes) {\n      if (!selectedNodes?.length) return;\n      cut(selectedNodes)\n    },\n    name: 'cut', // 右键菜单匹配值\n  },\n  {\n    key: 'v',\n    control: isMac ? 'cmd' : 'ctrl',\n    label: '粘贴',\n    Event: function (selectedNodes) {\n      if (selectedNodes?.length != 1) return;\n      paste(selectedNodes[0])\n    },\n    name: 'paste', // 右键菜单匹配值\n  },\n  {\n    key: 'd',\n    control: isMac ? 'cmd' : 'ctrl',\n    label: '创建副本',\n    name: 'create-a-copy', // 右键菜单匹配值\n    Event: function (selectedNodes) {\n      if (selectedNodes?.length != 1) return;\n      createACopy(selectedNodes[0])\n    },\n  },\n  {\n    key: 'z',\n    control: isMac ? 'cmd' : 'ctrl',\n    label: '撤销操作',\n    name: 'revert', // 右键菜单匹配值\n    Event: function (selectedNodes) {\n      unDo()\n    },\n  },\n  {\n    key: 'y',\n    control: isMac ? 'cmd' : 'ctrl',\n    label: '重新操作',\n    name: 'redo', // 右键菜单匹配值\n    Event: function (selectedNodes) {\n      reDo()\n    },\n  },\n  {\n    key: 'Backspace',\n    label: '删除',\n    Event: function (selectedNodes) {\n      if (!selectedNodes?.length) return;\n      selectedNodes.forEach(nodeId => {\n        deleteNode(nodeId)\n      })\n    },\n    name: 'delete', // 右键菜单匹配值\n  },\n  {\n    key: ' ',\n    label: '编辑',\n    Event: function (selectedNodes) {\n      if (!selectedNodes?.length) return;\n      selectedNodes.forEach(nodeId => {\n        edit(nodeId)\n        let timer = setTimeout(() => {\n          editInput._input?.focus();\n          clearTimeout(timer)\n        }, 300)\n      })\n    },\n    name: 'edit', // 右键菜单匹配值\n  },\n]\nexport default defaultHotKey","\nexport default (sfc, props) => {\n  const target = sfc.__vccOpts || sfc;\n  for (const [key, val] of props) {\n    target[key] = val;\n  }\n  return target;\n}\n","<template>\n  <div>\n    <div id=\"mxs-mindmap_container\" class=\"mindmap-container\" tabindex=\"1\"/>\n    <div id=\"node-input\" contenteditable=\"true\" tabIndex=\"2\"/>\n  </div>\n</template>\n<script lang=\"ts\">\nimport './css/Mindmap.scss'\nimport { PropType } from 'vue'\nimport Tree from './tree/tree'\nimport { tooltip } from \"./plugins\";\nimport { changeNodeMenuList, setGlobalTree, changehotKeyList } from \"./variable\";\nimport EditInput from './editInput'\nimport {\n  addData,\n  update,\n  deleteNode,\n  deleteOneNode,\n  expand,\n  collapse,\n  addSibling,\n  addParent,\n  findData\n} from './tree/methods'\nimport emitter from \"./mitt\";\nimport defaultHotKey from \"./tree/hotkeys\"\nconst isArray = (arg) => Object.prototype.toString.call(arg).toLowerCase().indexOf('array') > 5;\nconst isObject = (arg) => Object.prototype.toString.call(arg).toLowerCase() === '[object object]';\nlet tree;\nexport default {\n  props: {\n    // 脑图数据\n    modelValue: { required: true },\n    // 绘制所需的变量\n    xGap: { type: Number, default: 18 },\n    yGap: { type: Number, default: 84 },\n    branch: {\n      type: Number,\n      default: 1,\n      validator: (val: number) => val >= 1 && val <= 6\n    },\n    branchColor: {\n      type: String,\n    },\n    themeColor: { type: String, default: 'rgb(19,128,255)' },\n    rootFontColor: { type: String, default: '#fff' },\n    subThemeColor: { type: String, default: 'rgba(245,245,245,1)' },\n    subFontColor: { type: String, default: '#333' },\n    leafThemeColor: { type: String, default: 'transparent' },\n    leafFontColor: { type: String, default: '#333' },\n    direction: { type: String, default: 'LR' },\n    sharpCorner: Boolean,\n    scaleExtent: {\n      type: Object as PropType<[number, number]>,\n      default: [0.1, 8]\n    },\n    scaleRatio: { type: Number, default: 1 },\n    // 功能设置\n    tooltip: Boolean,\n    edit: Boolean,\n    drag: Boolean,\n    zoom: Boolean,\n    centerBtn: Boolean,\n    fitBtn: Boolean,\n    downloadBtn: Boolean,\n    timetravel: Boolean,\n    mindmap: Boolean,\n    addNodeBtn: Boolean,\n    collapseBtn: Boolean,\n    fisheye: Boolean,\n    watchResize: Boolean,\n    keyboard: Boolean,\n    ctm: Boolean,//  开启右键菜单\n    nodeMenu: Array, // 菜单配置\n    hotKey: Array, // 快捷键配置\n    // 钩子函数\n    onAdd: Function,\n    onExpand: Function,\n    onCollapse: Function,\n    onSelectedNode: Function,\n    onAfterEdit: Function,\n    onDragEnd: Function\n  },\n  mounted() {\n    this.$props.onAdd && emitter.on('onAdd', this.$props.onAdd)\n    this.$props.onExpand && emitter.on('onExpand', this.$props.onExpand)\n    this.$props.onCollapse && emitter.on('onCollapse', this.$props.onCollapse)\n    this.$props.onSelectedNode && emitter.on('onSelectedNode', this.$props.onSelectedNode)\n    this.$props.onAfterEdit && emitter.on('onAfterEdit', this.$props.onAfterEdit)\n    this.$props.onDragEnd && emitter.on('onDragEnd', this.$props.onDragEnd)\n    this.changeCanvasSize()\n    window.addEventListener(\"resize\", this.changeCanvasSize)\n  },\n  beforeUnmount() {\n    this.$props.onAdd && emitter.off('onAdd', this.$props.onAdd)\n    this.$props.onExpand && emitter.off('onExpand', this.$props.onExpand)\n    this.$props.onCollapse && emitter.off('onCollapse', this.$props.onCollapse)\n    this.$props.onSelectedNode && emitter.off('onSelectedNode', this.$props.onSelectedNode)\n    this.$props.onAfterEdit && emitter.off('onAfterEdit', this.$props.onAfterEdit)\n    this.$props.onDragEnd && emitter.off('onDragEnd', this.$props.onDragEnd)\n    window.removeEventListener(\"resize\", this.changeCanvasSize)\n    tree.destroy()\n    tree = null\n  },\n  methods: {\n    changeCanvasSize() {\n      this.$nextTick(() => {\n        const height = this.$el.parentNode.offsetHeight;\n        const width = this.$el.offsetWidth;\n        this.$el.style.height = height + 'px';\n        if (tree) {\n          tree.changeSize(width, height);\n        }\n      })\n    },\n    treeInit() {\n      const { modelValue } = this.$props\n      this.$nextTick(() => {\n        tree = new Tree('mxs-mindmap_container', modelValue)\n        tree.init(this.$props)\n      })\n    },\n    inputInit() {\n      EditInput.init('node-input')\n    },\n    add: addData,\n    update,\n    deleteNode,\n    deleteOneNode,\n    expand,\n    collapse,\n    addSibling,\n    addParent,\n    find: findData\n  },\n  watch: {\n    '$props.modelValue': {\n      handler(val) {\n        if (isArray(val) && !val.length) return;\n        if (isObject(val) && !Object.keys(val).length) return;\n        this.treeInit()\n        this.inputInit()\n      },\n      immediate: true\n    },\n    '$props.tooltip': {\n      handler(val) {\n        if (val) {\n          tree.addBehaviors(tooltip)\n        } else {\n          tree.removeBehaviors('tooltip')\n        }\n      }\n    },\n    '$props.edit': {\n      handler(val) {\n        tree.changeEditMode(val)\n      }\n    },\n    '$props.drag': {\n      handler(val) {\n        if (val) {\n          tree.addBehaviors('drag-canvas')\n        } else {\n          tree.removeBehaviors('drag-canvas')\n        }\n      },\n    },\n    '$props.zoom': {\n      handler(val) {\n        if (val) {\n          tree.addBehaviors('zoom-canvas')\n        } else {\n          tree.removeBehaviors('zoom-canvas')\n        }\n      }\n    },\n    centerBtn(val) {\n    },\n    fitBtn(val) {\n    },\n    downloadBtn(val) {\n    },\n    timetravel(val) {\n    },\n    mindmap(val) {\n    },\n    addNodeBtn(val) {\n    },\n    collapseBtn(val) {\n    },\n    fisheye(val) {\n    },\n    watchResize(val) {\n    },\n    nodeMenu: {\n      handler(val) {\n        changeNodeMenuList(val)\n      },\n      immediate: true\n    },\n    hotKey: {\n      handler(val) {\n        changehotKeyList(val.filter(i => i.enabled == null || i.enabled === true).map(item => {\n          return defaultHotKey.filter(i => i.name === item || i.name === item.name)[0] || { key: null }\n        }))\n      },\n      immediate: true\n    }\n  }\n}\n</script>\n"],"names":["G6","ref","IMData","History","EditInput","editInput","_createElementVNode","_createElementBlock"],"mappings":"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"}